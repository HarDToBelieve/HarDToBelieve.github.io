<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>usrsctp_transport.cc source code [webkit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="cricket::UsrsctpTransportMap "/>
<link rel="stylesheet" href="../../../../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc'; var root_path = '../../../../../../../..'; var data_path = '../../../../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../../..'>webkit</a>/<a href='../../../../../..'>Source</a>/<a href='../../../../..'>ThirdParty</a>/<a href='../../../..'>libwebrtc</a>/<a href='../../..'>Source</a>/<a href='../..'>webrtc</a>/<a href='..'>media</a>/<a href='./'>sctp</a>/<a href='usrsctp_transport.cc.html'>usrsctp_transport.cc</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> *  Copyright (c) 2012 The WebRTC project authors. All Rights Reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> *  Use of this source code is governed by a BSD-style license</i></td></tr>
<tr><th id="5">5</th><td><i> *  that can be found in the LICENSE file in the root of the source</i></td></tr>
<tr><th id="6">6</th><td><i> *  tree. An additional intellectual property rights grant can be found</i></td></tr>
<tr><th id="7">7</th><td><i> *  in the file PATENTS.  All contributing project authors may</i></td></tr>
<tr><th id="8">8</th><td><i> *  be found in the AUTHORS file in the root of the source tree.</i></td></tr>
<tr><th id="9">9</th><td><i> */</i></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#include &lt;errno.h&gt;</u></td></tr>
<tr><th id="12">12</th><td><b>namespace</b> {</td></tr>
<tr><th id="13">13</th><td><i  data-doc="(anonymousnamespace)::PreservedErrno">// Some ERRNO values get re-#defined to WSA* equivalents in some talk/</i></td></tr>
<tr><th id="14">14</th><td><i  data-doc="(anonymousnamespace)::PreservedErrno">// headers. We save the original ones in an enum.</i></td></tr>
<tr><th id="15">15</th><td><b>enum</b> <dfn class="tu type def" id="(anonymousnamespace)::PreservedErrno" title='(anonymous namespace)::PreservedErrno' data-ref="(anonymousnamespace)::PreservedErrno" data-ref-filename="(anonymousnamespace)..PreservedErrno">PreservedErrno</dfn> {</td></tr>
<tr><th id="16">16</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::SCTP_EINPROGRESS" title='(anonymous namespace)::SCTP_EINPROGRESS' data-type='36' data-ref="(anonymousnamespace)::SCTP_EINPROGRESS" data-ref-filename="(anonymousnamespace)..SCTP_EINPROGRESS">SCTP_EINPROGRESS</dfn> = <span class="macro" title="36" data-ref="_M/EINPROGRESS">EINPROGRESS</span>,</td></tr>
<tr><th id="17">17</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::SCTP_EWOULDBLOCK" title='(anonymous namespace)::SCTP_EWOULDBLOCK' data-type='35' data-ref="(anonymousnamespace)::SCTP_EWOULDBLOCK" data-ref-filename="(anonymousnamespace)..SCTP_EWOULDBLOCK">SCTP_EWOULDBLOCK</dfn> = <span class="macro" title="35" data-ref="_M/EWOULDBLOCK">EWOULDBLOCK</span></td></tr>
<tr><th id="18">18</th><td>};</td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><i  data-doc="(anonymousnamespace)::kSctpSuccessReturn">// Successful return value from usrsctp callbacks. Is not actually used by</i></td></tr>
<tr><th id="21">21</th><td><i  data-doc="(anonymousnamespace)::kSctpSuccessReturn">// usrsctp, but all example programs for usrsctp use 1 as their return value.</i></td></tr>
<tr><th id="22">22</th><td><b>constexpr</b> <em>int</em> <dfn class="tu decl def" id="(anonymousnamespace)::kSctpSuccessReturn" title='(anonymous namespace)::kSctpSuccessReturn' data-type='const int' data-ref="(anonymousnamespace)::kSctpSuccessReturn" data-ref-filename="(anonymousnamespace)..kSctpSuccessReturn">kSctpSuccessReturn</dfn> = <var>1</var>;</td></tr>
<tr><th id="23">23</th><td><b>constexpr</b> <em>int</em> <dfn class="tu decl def" id="(anonymousnamespace)::kSctpErrorReturn" title='(anonymous namespace)::kSctpErrorReturn' data-type='const int' data-ref="(anonymousnamespace)::kSctpErrorReturn" data-ref-filename="(anonymousnamespace)..kSctpErrorReturn">kSctpErrorReturn</dfn> = <var>0</var>;</td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td>}  <i>// namespace</i></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><u>#include &lt;stdarg.h&gt;</u></td></tr>
<tr><th id="28">28</th><td><u>#include &lt;stdio.h&gt;</u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html">&lt;usrsctp.h&gt;</a></u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#include &lt;memory&gt;</u></td></tr>
<tr><th id="32">32</th><td><u>#include &lt;unordered_map&gt;</u></td></tr>
<tr><th id="33">33</th><td><u>#include &lt;utility&gt;</u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../../../third_party/abseil-cpp/absl/algorithm/container.h.html">"absl/algorithm/container.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../../../third_party/abseil-cpp/absl/base/attributes.h.html">"absl/base/attributes.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../../third_party/abseil-cpp/absl/types/optional.h.html">"absl/types/optional.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../api/sequence_checker.h.html">"api/sequence_checker.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../base/codec.h.html">"media/base/codec.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../base/media_channel.h.html">"media/base/media_channel.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../base/media_constants.h.html">"media/base/media_constants.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../base/stream_params.h.html">"media/base/stream_params.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="usrsctp_transport.h.html">"media/sctp/usrsctp_transport.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../../p2p/base/dtls_transport_internal.h.html">"p2p/base/dtls_transport_internal.h"</a>  // For PF_NORMAL</u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../../rtc_base/arraysize.h.html">"rtc_base/arraysize.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="../../rtc_base/copy_on_write_buffer.h.html">"rtc_base/copy_on_write_buffer.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../../rtc_base/helpers.h.html">"rtc_base/helpers.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="../../rtc_base/logging.h.html">"rtc_base/logging.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="../../rtc_base/numerics/safe_conversions.h.html">"rtc_base/numerics/safe_conversions.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#include <a href="../../rtc_base/string_utils.h.html">"rtc_base/string_utils.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="../../rtc_base/synchronization/mutex.h.html">"rtc_base/synchronization/mutex.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="../../rtc_base/task_utils/to_queued_task.h.html">"rtc_base/task_utils/to_queued_task.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="../../rtc_base/thread_annotations.h.html">"rtc_base/thread_annotations.h"</a></u></td></tr>
<tr><th id="54">54</th><td><u>#include <a href="../../rtc_base/trace_event.h.html">"rtc_base/trace_event.h"</a></u></td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><b>namespace</b> {</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">// The biggest SCTP packet. Starting from a 'safe' wire MTU value of 1280,</i></td></tr>
<tr><th id="59">59</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">// take off 85 bytes for DTLS/TURN/TCP/IP and ciphertext overhead.</i></td></tr>
<tr><th id="60">60</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//</i></td></tr>
<tr><th id="61">61</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">// Additionally, it's possible that TURN adds an additional 4 bytes of overhead</i></td></tr>
<tr><th id="62">62</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">// after a channel has been established, so we subtract an additional 4 bytes.</i></td></tr>
<tr><th id="63">63</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//</i></td></tr>
<tr><th id="64">64</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">// 1280 IPV6 MTU</i></td></tr>
<tr><th id="65">65</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//  -40 IPV6 header</i></td></tr>
<tr><th id="66">66</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//   -8 UDP</i></td></tr>
<tr><th id="67">67</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//  -24 GCM Cipher</i></td></tr>
<tr><th id="68">68</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//  -13 DTLS record header</i></td></tr>
<tr><th id="69">69</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">//   -4 TURN ChannelData</i></td></tr>
<tr><th id="70">70</th><td><i  data-doc="(anonymousnamespace)::kSctpMtu">// = 1191 bytes.</i></td></tr>
<tr><th id="71">71</th><td><em>static</em> <b>constexpr</b> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="tu decl def" id="(anonymousnamespace)::kSctpMtu" title='(anonymous namespace)::kSctpMtu' data-type='const size_t' data-ref="(anonymousnamespace)::kSctpMtu" data-ref-filename="(anonymousnamespace)..kSctpMtu">kSctpMtu</dfn> = <var>1191</var>;</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td><i  data-doc="(anonymousnamespace)::g_usrsctp_usage_count">// Set the initial value of the static SCTP Data Engines reference count.</i></td></tr>
<tr><th id="74">74</th><td><a class="macro" href="../../../third_party/abseil-cpp/absl/base/attributes.h.html#673" title="[[clang::require_constant_initialization]]" data-ref="_M/ABSL_CONST_INIT">ABSL_CONST_INIT</a> <em>int</em> <dfn class="tu decl def" id="(anonymousnamespace)::g_usrsctp_usage_count" title='(anonymous namespace)::g_usrsctp_usage_count' data-type='int' data-ref="(anonymousnamespace)::g_usrsctp_usage_count" data-ref-filename="(anonymousnamespace)..g_usrsctp_usage_count">g_usrsctp_usage_count</dfn> = <var>0</var>;</td></tr>
<tr><th id="75">75</th><td><a class="macro" href="../../../third_party/abseil-cpp/absl/base/attributes.h.html#673" title="[[clang::require_constant_initialization]]" data-ref="_M/ABSL_CONST_INIT">ABSL_CONST_INIT</a> <em>bool</em> <dfn class="tu decl def" id="(anonymousnamespace)::g_usrsctp_initialized_" title='(anonymous namespace)::g_usrsctp_initialized_' data-type='bool' data-ref="(anonymousnamespace)::g_usrsctp_initialized_" data-ref-filename="(anonymousnamespace)..g_usrsctp_initialized_">g_usrsctp_initialized_</dfn> = <b>false</b>;</td></tr>
<tr><th id="76">76</th><td><a class="macro" href="../../../third_party/abseil-cpp/absl/base/attributes.h.html#673" title="[[clang::require_constant_initialization]]" data-ref="_M/ABSL_CONST_INIT">ABSL_CONST_INIT</a> <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::GlobalMutex" title='webrtc::GlobalMutex' data-ref="webrtc::GlobalMutex" data-ref-filename="webrtc..GlobalMutex">GlobalMutex</a> <dfn class="tu decl def" id="(anonymousnamespace)::g_usrsctp_lock_" title='(anonymous namespace)::g_usrsctp_lock_' data-type='webrtc::GlobalMutex' data-ref="(anonymousnamespace)::g_usrsctp_lock_" data-ref-filename="(anonymousnamespace)..g_usrsctp_lock_">g_usrsctp_lock_</dfn><a class="ref fn" href="../../rtc_base/synchronization/mutex.h.html#_ZN6webrtc11GlobalMutexC1EN4absl13ConstInitTypeE" title='webrtc::GlobalMutex::GlobalMutex' data-ref="_ZN6webrtc11GlobalMutexC1EN4absl13ConstInitTypeE" data-ref-filename="_ZN6webrtc11GlobalMutexC1EN4absl13ConstInitTypeE">(</a><span class="namespace">absl::</span><a class="enum" href="../../../third_party/abseil-cpp/absl/base/const_init.h.html#absl::kConstInit" title='absl::kConstInit' data-ref="absl::kConstInit" data-ref-filename="absl..kConstInit">kConstInit</a>);</td></tr>
<tr><th id="77">77</th><td><a class="macro" href="../../../third_party/abseil-cpp/absl/base/attributes.h.html#673" title="[[clang::require_constant_initialization]]" data-ref="_M/ABSL_CONST_INIT">ABSL_CONST_INIT</a> <em>char</em> <dfn class="tu decl def" id="(anonymousnamespace)::kZero" title='(anonymous namespace)::kZero' data-type='char [1]' data-ref="(anonymousnamespace)::kZero" data-ref-filename="(anonymousnamespace)..kZero">kZero</dfn>[] = {<kbd>'\0'</kbd>};</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><i>// DataMessageType is used for the SCTP "Payload Protocol Identifier", as</i></td></tr>
<tr><th id="80">80</th><td><i>// defined in <a href="http://tools.ietf.org/html/rfc4960#section-14.4">http://tools.ietf.org/html/rfc4960#section-14.4</a></i></td></tr>
<tr><th id="81">81</th><td><i>//</i></td></tr>
<tr><th id="82">82</th><td><i>// For the list of IANA approved values see:</i></td></tr>
<tr><th id="83">83</th><td><i>// <a href="https://tools.ietf.org/html/rfc8831">https://tools.ietf.org/html/rfc8831</a> Sec. 8</i></td></tr>
<tr><th id="84">84</th><td><i>// <a href="http://www.iana.org/assignments/sctp-parameters/sctp-parameters.xml">http://www.iana.org/assignments/sctp-parameters/sctp-parameters.xml</a></i></td></tr>
<tr><th id="85">85</th><td><i>// The value is not used by SCTP itself. It indicates the protocol running</i></td></tr>
<tr><th id="86">86</th><td><i>// on top of SCTP.</i></td></tr>
<tr><th id="87">87</th><td><b>enum</b> {</td></tr>
<tr><th id="88">88</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_NONE" title='(anonymous namespace)::PPID_NONE' data-type='0' data-ref="(anonymousnamespace)::PPID_NONE" data-ref-filename="(anonymousnamespace)..PPID_NONE">PPID_NONE</dfn> = <var>0</var>,  <i  data-doc="(anonymousnamespace)::PPID_NONE">// No protocol is specified.</i></td></tr>
<tr><th id="89">89</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_CONTROL" title='(anonymous namespace)::PPID_CONTROL' data-type='50' data-ref="(anonymousnamespace)::PPID_CONTROL" data-ref-filename="(anonymousnamespace)..PPID_CONTROL">PPID_CONTROL</dfn> = <var>50</var>,</td></tr>
<tr><th id="90">90</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_TEXT_LAST" title='(anonymous namespace)::PPID_TEXT_LAST' data-type='51' data-ref="(anonymousnamespace)::PPID_TEXT_LAST" data-ref-filename="(anonymousnamespace)..PPID_TEXT_LAST">PPID_TEXT_LAST</dfn> = <var>51</var>,</td></tr>
<tr><th id="91">91</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_BINARY_PARTIAL" title='(anonymous namespace)::PPID_BINARY_PARTIAL' data-type='52' data-ref="(anonymousnamespace)::PPID_BINARY_PARTIAL" data-ref-filename="(anonymousnamespace)..PPID_BINARY_PARTIAL">PPID_BINARY_PARTIAL</dfn> = <var>52</var>,  <i  data-doc="(anonymousnamespace)::PPID_BINARY_PARTIAL">// Deprecated</i></td></tr>
<tr><th id="92">92</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_BINARY_LAST" title='(anonymous namespace)::PPID_BINARY_LAST' data-type='53' data-ref="(anonymousnamespace)::PPID_BINARY_LAST" data-ref-filename="(anonymousnamespace)..PPID_BINARY_LAST">PPID_BINARY_LAST</dfn> = <var>53</var>,</td></tr>
<tr><th id="93">93</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_TEXT_PARTIAL" title='(anonymous namespace)::PPID_TEXT_PARTIAL' data-type='54' data-ref="(anonymousnamespace)::PPID_TEXT_PARTIAL" data-ref-filename="(anonymousnamespace)..PPID_TEXT_PARTIAL">PPID_TEXT_PARTIAL</dfn> = <var>54</var>,  <i  data-doc="(anonymousnamespace)::PPID_TEXT_PARTIAL">// Deprecated</i></td></tr>
<tr><th id="94">94</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_TEXT_EMPTY" title='(anonymous namespace)::PPID_TEXT_EMPTY' data-type='56' data-ref="(anonymousnamespace)::PPID_TEXT_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_TEXT_EMPTY">PPID_TEXT_EMPTY</dfn> = <var>56</var>,</td></tr>
<tr><th id="95">95</th><td>  <dfn class="tu enum" id="(anonymousnamespace)::PPID_BINARY_EMPTY" title='(anonymous namespace)::PPID_BINARY_EMPTY' data-type='57' data-ref="(anonymousnamespace)::PPID_BINARY_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_BINARY_EMPTY">PPID_BINARY_EMPTY</dfn> = <var>57</var>,</td></tr>
<tr><th id="96">96</th><td>};</td></tr>
<tr><th id="97">97</th><td></td></tr>
<tr><th id="98">98</th><td><i  data-doc="(anonymousnamespace)::g_transport_map_">// Should only be modified by UsrSctpWrapper.</i></td></tr>
<tr><th id="99">99</th><td><a class="macro" href="../../../third_party/abseil-cpp/absl/base/attributes.h.html#673" title="[[clang::require_constant_initialization]]" data-ref="_M/ABSL_CONST_INIT">ABSL_CONST_INIT</a> <span class="namespace">cricket::</span><a class="type" href="#cricket::UsrsctpTransportMap" title='cricket::UsrsctpTransportMap' data-ref="cricket::UsrsctpTransportMap" data-ref-filename="cricket..UsrsctpTransportMap">UsrsctpTransportMap</a>* <dfn class="tu decl def" id="(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-type='cricket::UsrsctpTransportMap *' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><i  data-doc="(anonymousnamespace)::AutoFreedPointer">// Helper that will call C's free automatically.</i></td></tr>
<tr><th id="102">102</th><td><i  data-doc="(anonymousnamespace)::AutoFreedPointer">// TODO(b/181900299): Figure out why unique_ptr with a custom deleter is causing</i></td></tr>
<tr><th id="103">103</th><td><i  data-doc="(anonymousnamespace)::AutoFreedPointer">// issues in a certain build environment.</i></td></tr>
<tr><th id="104">104</th><td><b>class</b> <dfn class="tu type def" id="(anonymousnamespace)::AutoFreedPointer" title='(anonymous namespace)::AutoFreedPointer' data-ref="(anonymousnamespace)::AutoFreedPointer" data-ref-filename="(anonymousnamespace)..AutoFreedPointer">AutoFreedPointer</dfn> {</td></tr>
<tr><th id="105">105</th><td> <b>public</b>:</td></tr>
<tr><th id="106">106</th><td>  <b>explicit</b> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_116AutoFreedPointerC1EPv" title='(anonymous namespace)::AutoFreedPointer::AutoFreedPointer' data-type='void (anonymous namespace)::AutoFreedPointer::AutoFreedPointer(void * ptr)' data-ref="_ZN12_GLOBAL__N_116AutoFreedPointerC1EPv" data-ref-filename="_ZN12_GLOBAL__N_116AutoFreedPointerC1EPv">AutoFreedPointer</dfn>(<em>void</em>* <dfn class="local col9 decl" id="199ptr" title='ptr' data-type='void *' data-ref="199ptr" data-ref-filename="199ptr">ptr</dfn>) : <a class="tu member field" href="#(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-use='w' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</a>(<a class="local col9 ref" href="#199ptr" title='ptr' data-ref="199ptr" data-ref-filename="199ptr">ptr</a>) {}</td></tr>
<tr><th id="107">107</th><td>  <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_116AutoFreedPointerC1EOS0_" title='(anonymous namespace)::AutoFreedPointer::AutoFreedPointer' data-type='void (anonymous namespace)::AutoFreedPointer::AutoFreedPointer((anonymous namespace)::AutoFreedPointer &amp;&amp; o)' data-ref="_ZN12_GLOBAL__N_116AutoFreedPointerC1EOS0_" data-ref-filename="_ZN12_GLOBAL__N_116AutoFreedPointerC1EOS0_">AutoFreedPointer</dfn>(<a class="tu type" href="#(anonymousnamespace)::AutoFreedPointer" title='(anonymous namespace)::AutoFreedPointer' data-ref="(anonymousnamespace)::AutoFreedPointer" data-ref-filename="(anonymousnamespace)..AutoFreedPointer">AutoFreedPointer</a>&amp;&amp; <dfn class="local col0 decl" id="200o" title='o' data-type='(anonymous namespace)::AutoFreedPointer &amp;&amp;' data-ref="200o" data-ref-filename="200o">o</dfn>) : <a class="tu member field" href="#(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-use='w' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</a>(<a class="local col0 ref" href="#200o" title='o' data-ref="200o" data-ref-filename="200o">o</a>.<a class="tu member field" href="#(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-use='r' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</a>) { <a class="local col0 ref" href="#200o" title='o' data-ref="200o" data-ref-filename="200o">o</a>.<a class="tu member field" href="#(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-use='w' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</a> = <b>nullptr</b>; }</td></tr>
<tr><th id="108">108</th><td>  <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_116AutoFreedPointerD1Ev" title='(anonymous namespace)::AutoFreedPointer::~AutoFreedPointer' data-type='void (anonymous namespace)::AutoFreedPointer::~AutoFreedPointer()' data-ref="_ZN12_GLOBAL__N_116AutoFreedPointerD1Ev" data-ref-filename="_ZN12_GLOBAL__N_116AutoFreedPointerD1Ev">~AutoFreedPointer</dfn>() { <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(<a class="tu member field" href="#(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-use='r' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</a>); }</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td>  <em>void</em>* <dfn class="tu decl def fn" id="_ZNK12_GLOBAL__N_116AutoFreedPointer3getEv" title='(anonymous namespace)::AutoFreedPointer::get' data-type='void * (anonymous namespace)::AutoFreedPointer::get() const' data-ref="_ZNK12_GLOBAL__N_116AutoFreedPointer3getEv" data-ref-filename="_ZNK12_GLOBAL__N_116AutoFreedPointer3getEv">get</dfn>() <em>const</em> { <b>return</b> <a class="tu member field" href="#(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-use='r' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</a>; }</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td> <b>private</b>:</td></tr>
<tr><th id="113">113</th><td>  <em>void</em>* <dfn class="tu decl field" id="(anonymousnamespace)::AutoFreedPointer::ptr_" title='(anonymous namespace)::AutoFreedPointer::ptr_' data-type='void *' data-ref="(anonymousnamespace)::AutoFreedPointer::ptr_" data-ref-filename="(anonymousnamespace)..AutoFreedPointer..ptr_">ptr_</dfn>;</td></tr>
<tr><th id="114">114</th><td>};</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><i>// Helper for logging SCTP messages.</i></td></tr>
<tr><th id="117">117</th><td><u>#<span data-ppcond="117">if</span> defined(<span class="macro" data-ref="_M/__GNUC__">__GNUC__</span>)</u></td></tr>
<tr><th id="118">118</th><td><b>__attribute__</b>((__format__(__printf__, <var>1</var>, <var>2</var>)))</td></tr>
<tr><th id="119">119</th><td><u>#<span data-ppcond="117">endif</span></u></td></tr>
<tr><th id="120">120</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_115DebugSctpPrintfEPKcz" title='(anonymous namespace)::DebugSctpPrintf' data-type='void (anonymous namespace)::DebugSctpPrintf(const char * format)' data-ref="_ZN12_GLOBAL__N_115DebugSctpPrintfEPKcz" data-ref-filename="_ZN12_GLOBAL__N_115DebugSctpPrintfEPKcz">DebugSctpPrintf</dfn>(<em>const</em> <em>char</em>* <dfn class="local col1 decl" id="201format" title='format' data-type='const char *' data-ref="201format" data-ref-filename="201format">format</dfn>, ...) {</td></tr>
<tr><th id="121">121</th><td><u>#<span data-ppcond="121">if</span> <a class="macro" href="../../rtc_base/checks.h.html#18" title="1" data-ref="_M/RTC_DCHECK_IS_ON">RTC_DCHECK_IS_ON</a></u></td></tr>
<tr><th id="122">122</th><td>  <em>char</em> <dfn class="local col2 decl" id="202s" title='s' data-type='char [255]' data-ref="202s" data-ref-filename="202s">s</dfn>[<var>255</var>];</td></tr>
<tr><th id="123">123</th><td>  <span class='typedef' title='va_list' data-type='__darwin_va_list' data-ref="va_list" data-ref-filename="va_list">va_list</span> <dfn class="local col3 decl" id="203ap" title='ap' data-type='va_list' data-ref="203ap" data-ref-filename="203ap">ap</dfn>;</td></tr>
<tr><th id="124">124</th><td>  <span class="macro" title="__builtin_va_start(ap, format)" data-ref="_M/va_start">va_start</span>(<span class='refarg'><a class="local col3 ref" href="#203ap" title='ap' data-ref="203ap" data-ref-filename="203ap">ap</a></span>, <a class="local col1 ref" href="#201format" title='format' data-ref="201format" data-ref-filename="201format">format</a>);</td></tr>
<tr><th id="125">125</th><td>  <span class='ref fn' title='vsnprintf' data-ref="vsnprintf" data-ref-filename="vsnprintf">vsnprintf</span>(<a class="local col2 ref" href="#202s" title='s' data-ref="202s" data-ref-filename="202s">s</a>, <b>sizeof</b>(<a class="local col2 ref" href="#202s" title='s' data-ref="202s" data-ref-filename="202s">s</a>), <a class="local col1 ref" href="#201format" title='format' data-ref="201format" data-ref-filename="201format">format</a>, <a class="local col3 ref" href="#203ap" title='ap' data-ref="203ap" data-ref-filename="203ap">ap</a>);</td></tr>
<tr><th id="126">126</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 126, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP: "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col2 ref" href="#202s" title='s' data-ref="202s" data-ref-filename="202s">s</a>;</td></tr>
<tr><th id="127">127</th><td>  <span class="macro" title="__builtin_va_end(ap)" data-ref="_M/va_end">va_end</span>(<span class='refarg'><a class="local col3 ref" href="#203ap" title='ap' data-ref="203ap" data-ref-filename="203ap">ap</a></span>);</td></tr>
<tr><th id="128">128</th><td><u>#<span data-ppcond="121">endif</span></u></td></tr>
<tr><th id="129">129</th><td>}</td></tr>
<tr><th id="130">130</th><td></td></tr>
<tr><th id="131">131</th><td><i  data-doc="_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm">// Get the PPID to use for the terminating fragment of this type.</i></td></tr>
<tr><th id="132">132</th><td><span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm" title='(anonymous namespace)::GetPpid' data-type='uint32_t (anonymous namespace)::GetPpid(webrtc::DataMessageType type, size_t size)' data-ref="_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm" data-ref-filename="_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm">GetPpid</dfn>(<span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a> <dfn class="local col4 decl" id="204type" title='type' data-type='webrtc::DataMessageType' data-ref="204type" data-ref-filename="204type">type</dfn>, <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="205size" title='size' data-type='size_t' data-ref="205size" data-ref-filename="205size">size</dfn>) {</td></tr>
<tr><th id="133">133</th><td>  <b>switch</b> (<a class="local col4 ref" href="#204type" title='type' data-ref="204type" data-ref-filename="204type">type</a>) {</td></tr>
<tr><th id="134">134</th><td>    <b>case</b> <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kControl" title='webrtc::DataMessageType::kControl' data-ref="webrtc::DataMessageType::kControl" data-ref-filename="webrtc..DataMessageType..kControl">kControl</a>:</td></tr>
<tr><th id="135">135</th><td>      <b>return</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_CONTROL" title='(anonymous namespace)::PPID_CONTROL' data-use='r' data-ref="(anonymousnamespace)::PPID_CONTROL" data-ref-filename="(anonymousnamespace)..PPID_CONTROL">PPID_CONTROL</a>;</td></tr>
<tr><th id="136">136</th><td>    <b>case</b> <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kBinary" title='webrtc::DataMessageType::kBinary' data-ref="webrtc::DataMessageType::kBinary" data-ref-filename="webrtc..DataMessageType..kBinary">kBinary</a>:</td></tr>
<tr><th id="137">137</th><td>      <b>return</b> <a class="local col5 ref" href="#205size" title='size' data-ref="205size" data-ref-filename="205size">size</a> &gt; <var>0</var> ? <a class="tu enum" href="#(anonymousnamespace)::PPID_BINARY_LAST" title='(anonymous namespace)::PPID_BINARY_LAST' data-use='r' data-ref="(anonymousnamespace)::PPID_BINARY_LAST" data-ref-filename="(anonymousnamespace)..PPID_BINARY_LAST">PPID_BINARY_LAST</a> : <a class="tu enum" href="#(anonymousnamespace)::PPID_BINARY_EMPTY" title='(anonymous namespace)::PPID_BINARY_EMPTY' data-use='r' data-ref="(anonymousnamespace)::PPID_BINARY_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_BINARY_EMPTY">PPID_BINARY_EMPTY</a>;</td></tr>
<tr><th id="138">138</th><td>    <b>case</b> <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kText" title='webrtc::DataMessageType::kText' data-ref="webrtc::DataMessageType::kText" data-ref-filename="webrtc..DataMessageType..kText">kText</a>:</td></tr>
<tr><th id="139">139</th><td>      <b>return</b> <a class="local col5 ref" href="#205size" title='size' data-ref="205size" data-ref-filename="205size">size</a> &gt; <var>0</var> ? <a class="tu enum" href="#(anonymousnamespace)::PPID_TEXT_LAST" title='(anonymous namespace)::PPID_TEXT_LAST' data-use='r' data-ref="(anonymousnamespace)::PPID_TEXT_LAST" data-ref-filename="(anonymousnamespace)..PPID_TEXT_LAST">PPID_TEXT_LAST</a> : <a class="tu enum" href="#(anonymousnamespace)::PPID_TEXT_EMPTY" title='(anonymous namespace)::PPID_TEXT_EMPTY' data-use='r' data-ref="(anonymousnamespace)::PPID_TEXT_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_TEXT_EMPTY">PPID_TEXT_EMPTY</a>;</td></tr>
<tr><th id="140">140</th><td>  }</td></tr>
<tr><th id="141">141</th><td>}</td></tr>
<tr><th id="142">142</th><td></td></tr>
<tr><th id="143">143</th><td><em>bool</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_116GetDataMediaTypeEjPN6webrtc15DataMessageTypeE" title='(anonymous namespace)::GetDataMediaType' data-type='bool (anonymous namespace)::GetDataMediaType(uint32_t ppid, webrtc::DataMessageType * dest)' data-ref="_ZN12_GLOBAL__N_116GetDataMediaTypeEjPN6webrtc15DataMessageTypeE" data-ref-filename="_ZN12_GLOBAL__N_116GetDataMediaTypeEjPN6webrtc15DataMessageTypeE">GetDataMediaType</dfn>(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col6 decl" id="206ppid" title='ppid' data-type='uint32_t' data-ref="206ppid" data-ref-filename="206ppid">ppid</dfn>, <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>* <dfn class="local col7 decl" id="207dest" title='dest' data-type='webrtc::DataMessageType *' data-ref="207dest" data-ref-filename="207dest">dest</dfn>) {</td></tr>
<tr><th id="144">144</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#429" title="(dest != __null) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 144, &quot;dest != __null&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="local col7 ref" href="#207dest" title='dest' data-ref="207dest" data-ref-filename="207dest">dest</a> != <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="145">145</th><td>  <b>switch</b> (<a class="local col6 ref" href="#206ppid" title='ppid' data-ref="206ppid" data-ref-filename="206ppid">ppid</a>) {</td></tr>
<tr><th id="146">146</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_BINARY_PARTIAL" title='(anonymous namespace)::PPID_BINARY_PARTIAL' data-ref="(anonymousnamespace)::PPID_BINARY_PARTIAL" data-ref-filename="(anonymousnamespace)..PPID_BINARY_PARTIAL">PPID_BINARY_PARTIAL</a>:</td></tr>
<tr><th id="147">147</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_BINARY_LAST" title='(anonymous namespace)::PPID_BINARY_LAST' data-ref="(anonymousnamespace)::PPID_BINARY_LAST" data-ref-filename="(anonymousnamespace)..PPID_BINARY_LAST">PPID_BINARY_LAST</a>:</td></tr>
<tr><th id="148">148</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_BINARY_EMPTY" title='(anonymous namespace)::PPID_BINARY_EMPTY' data-ref="(anonymousnamespace)::PPID_BINARY_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_BINARY_EMPTY">PPID_BINARY_EMPTY</a>:</td></tr>
<tr><th id="149">149</th><td>      *<a class="local col7 ref" href="#207dest" title='dest' data-ref="207dest" data-ref-filename="207dest">dest</a> = <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kBinary" title='webrtc::DataMessageType::kBinary' data-ref="webrtc::DataMessageType::kBinary" data-ref-filename="webrtc..DataMessageType..kBinary">kBinary</a>;</td></tr>
<tr><th id="150">150</th><td>      <b>return</b> <b>true</b>;</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_TEXT_PARTIAL" title='(anonymous namespace)::PPID_TEXT_PARTIAL' data-ref="(anonymousnamespace)::PPID_TEXT_PARTIAL" data-ref-filename="(anonymousnamespace)..PPID_TEXT_PARTIAL">PPID_TEXT_PARTIAL</a>:</td></tr>
<tr><th id="153">153</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_TEXT_LAST" title='(anonymous namespace)::PPID_TEXT_LAST' data-ref="(anonymousnamespace)::PPID_TEXT_LAST" data-ref-filename="(anonymousnamespace)..PPID_TEXT_LAST">PPID_TEXT_LAST</a>:</td></tr>
<tr><th id="154">154</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_TEXT_EMPTY" title='(anonymous namespace)::PPID_TEXT_EMPTY' data-ref="(anonymousnamespace)::PPID_TEXT_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_TEXT_EMPTY">PPID_TEXT_EMPTY</a>:</td></tr>
<tr><th id="155">155</th><td>      *<a class="local col7 ref" href="#207dest" title='dest' data-ref="207dest" data-ref-filename="207dest">dest</a> = <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kText" title='webrtc::DataMessageType::kText' data-ref="webrtc::DataMessageType::kText" data-ref-filename="webrtc..DataMessageType..kText">kText</a>;</td></tr>
<tr><th id="156">156</th><td>      <b>return</b> <b>true</b>;</td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>    <b>case</b> <a class="tu enum" href="#(anonymousnamespace)::PPID_CONTROL" title='(anonymous namespace)::PPID_CONTROL' data-ref="(anonymousnamespace)::PPID_CONTROL" data-ref-filename="(anonymousnamespace)..PPID_CONTROL">PPID_CONTROL</a>:</td></tr>
<tr><th id="159">159</th><td>      *<a class="local col7 ref" href="#207dest" title='dest' data-ref="207dest" data-ref-filename="207dest">dest</a> = <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kControl" title='webrtc::DataMessageType::kControl' data-ref="webrtc::DataMessageType::kControl" data-ref-filename="webrtc..DataMessageType..kControl">kControl</a>;</td></tr>
<tr><th id="160">160</th><td>      <b>return</b> <b>true</b>;</td></tr>
<tr><th id="161">161</th><td>  }</td></tr>
<tr><th id="162">162</th><td>  <b>return</b> <b>false</b>;</td></tr>
<tr><th id="163">163</th><td>}</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td><em>bool</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_111IsEmptyPPIDEj" title='(anonymous namespace)::IsEmptyPPID' data-type='bool (anonymous namespace)::IsEmptyPPID(uint32_t ppid)' data-ref="_ZN12_GLOBAL__N_111IsEmptyPPIDEj" data-ref-filename="_ZN12_GLOBAL__N_111IsEmptyPPIDEj">IsEmptyPPID</dfn>(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col8 decl" id="208ppid" title='ppid' data-type='uint32_t' data-ref="208ppid" data-ref-filename="208ppid">ppid</dfn>) {</td></tr>
<tr><th id="166">166</th><td>  <b>return</b> <a class="local col8 ref" href="#208ppid" title='ppid' data-ref="208ppid" data-ref-filename="208ppid">ppid</a> == <a class="tu enum" href="#(anonymousnamespace)::PPID_BINARY_EMPTY" title='(anonymous namespace)::PPID_BINARY_EMPTY' data-use='r' data-ref="(anonymousnamespace)::PPID_BINARY_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_BINARY_EMPTY">PPID_BINARY_EMPTY</a> || <a class="local col8 ref" href="#208ppid" title='ppid' data-ref="208ppid" data-ref-filename="208ppid">ppid</a> == <a class="tu enum" href="#(anonymousnamespace)::PPID_TEXT_EMPTY" title='(anonymous namespace)::PPID_TEXT_EMPTY' data-use='r' data-ref="(anonymousnamespace)::PPID_TEXT_EMPTY" data-ref-filename="(anonymousnamespace)..PPID_TEXT_EMPTY">PPID_TEXT_EMPTY</a>;</td></tr>
<tr><th id="167">167</th><td>}</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// Log the packet in text2pcap format, if log level is at LS_VERBOSE.</i></td></tr>
<tr><th id="170">170</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//</i></td></tr>
<tr><th id="171">171</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// In order to turn these logs into a pcap file you can use, first filter the</i></td></tr>
<tr><th id="172">172</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// "SCTP_PACKET" log lines:</i></td></tr>
<tr><th id="173">173</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//</i></td></tr>
<tr><th id="174">174</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//   cat chrome_debug.log | grep SCTP_PACKET &gt; filtered.log</i></td></tr>
<tr><th id="175">175</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//</i></td></tr>
<tr><th id="176">176</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// Then run through text2pcap:</i></td></tr>
<tr><th id="177">177</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//</i></td></tr>
<tr><th id="178">178</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//   text2pcap -n -l 248 -D -t '%H:%M:%S.' filtered.log filtered.pcapng</i></td></tr>
<tr><th id="179">179</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//</i></td></tr>
<tr><th id="180">180</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// Command flag information:</i></td></tr>
<tr><th id="181">181</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// -n: Outputs to a pcapng file, can specify inbound/outbound packets.</i></td></tr>
<tr><th id="182">182</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// -l: Specifies the link layer header type. 248 means SCTP. See:</i></td></tr>
<tr><th id="183">183</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//     <a href="http://www.tcpdump.org/linktypes.html">http://www.tcpdump.org/linktypes.html</a></i></td></tr>
<tr><th id="184">184</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// -D: Text before packet specifies if it is inbound or outbound.</i></td></tr>
<tr><th id="185">185</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// -t: Time format.</i></td></tr>
<tr><th id="186">186</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">//</i></td></tr>
<tr><th id="187">187</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// Why do all this? Because SCTP goes over DTLS, which is encrypted. So just</i></td></tr>
<tr><th id="188">188</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// getting a normal packet capture won't help you, unless you have the DTLS</i></td></tr>
<tr><th id="189">189</th><td><i  data-doc="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">// keying material.</i></td></tr>
<tr><th id="190">190</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi" title='(anonymous namespace)::VerboseLogPacket' data-type='void (anonymous namespace)::VerboseLogPacket(const void * data, size_t length, int direction)' data-ref="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi" data-ref-filename="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">VerboseLogPacket</dfn>(<em>const</em> <em>void</em>* <dfn class="local col9 decl" id="209data" title='data' data-type='const void *' data-ref="209data" data-ref-filename="209data">data</dfn>, <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col0 decl" id="210length" title='length' data-type='size_t' data-ref="210length" data-ref-filename="210length">length</dfn>, <em>int</em> <dfn class="local col1 decl" id="211direction" title='direction' data-type='int' data-ref="211direction" data-ref-filename="211direction">direction</dfn>) {</td></tr>
<tr><th id="191">191</th><td>  <b>if</b> (<a class="macro" href="../../rtc_base/logging.h.html#640" title="::rtc::LogCheckLevel(::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG_CHECK_LEVEL">RTC_LOG_CHECK_LEVEL</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) &amp;&amp; <a class="local col0 ref" href="#210length" title='length' data-ref="210length" data-ref-filename="210length">length</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="192">192</th><td>    <em>char</em>* <dfn class="local col2 decl" id="212dump_buf" title='dump_buf' data-type='char *' data-ref="212dump_buf" data-ref-filename="212dump_buf">dump_buf</dfn>;</td></tr>
<tr><th id="193">193</th><td>    <i>// Some downstream project uses an older version of usrsctp that expects</i></td></tr>
<tr><th id="194">194</th><td><i>    // a non-const "void*" as first parameter when dumping the packet, so we</i></td></tr>
<tr><th id="195">195</th><td><i>    // need to cast the const away here to avoid a compiler error.</i></td></tr>
<tr><th id="196">196</th><td>    <b>if</b> ((<a class="local col2 ref" href="#212dump_buf" title='dump_buf' data-ref="212dump_buf" data-ref-filename="212dump_buf">dump_buf</a> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_dumppacket" title='usrsctp_dumppacket' data-ref="usrsctp_dumppacket" data-ref-filename="usrsctp_dumppacket">usrsctp_dumppacket</a>(<b>const_cast</b>&lt;<em>void</em>*&gt;(<a class="local col9 ref" href="#209data" title='data' data-ref="209data" data-ref-filename="209data">data</a>), <a class="local col0 ref" href="#210length" title='length' data-ref="210length" data-ref-filename="210length">length</a>,</td></tr>
<tr><th id="197">197</th><td>                                       <a class="local col1 ref" href="#211direction" title='direction' data-ref="211direction" data-ref-filename="211direction">direction</a>)) != <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>) {</td></tr>
<tr><th id="198">198</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 198, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col2 ref" href="#212dump_buf" title='dump_buf' data-ref="212dump_buf" data-ref-filename="212dump_buf">dump_buf</a>;</td></tr>
<tr><th id="199">199</th><td>      <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_freedumpbuffer" title='usrsctp_freedumpbuffer' data-ref="usrsctp_freedumpbuffer" data-ref-filename="usrsctp_freedumpbuffer">usrsctp_freedumpbuffer</a>(<a class="local col2 ref" href="#212dump_buf" title='dump_buf' data-ref="212dump_buf" data-ref-filename="212dump_buf">dump_buf</a>);</td></tr>
<tr><th id="200">200</th><td>    }</td></tr>
<tr><th id="201">201</th><td>  }</td></tr>
<tr><th id="202">202</th><td>}</td></tr>
<tr><th id="203">203</th><td></td></tr>
<tr><th id="204">204</th><td><i  data-doc="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm">// Creates the sctp_sendv_spa struct used for setting flags in the</i></td></tr>
<tr><th id="205">205</th><td><i  data-doc="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm">// sctp_sendv() call.</i></td></tr>
<tr><th id="206">206</th><td><a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa" title='sctp_sendv_spa' data-ref="sctp_sendv_spa" data-ref-filename="sctp_sendv_spa">sctp_sendv_spa</a> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm" title='(anonymous namespace)::CreateSctpSendParams' data-type='sctp_sendv_spa (anonymous namespace)::CreateSctpSendParams(int sid, const webrtc::SendDataParams &amp; params, size_t size)' data-ref="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm" data-ref-filename="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm">CreateSctpSendParams</dfn>(<em>int</em> <dfn class="local col3 decl" id="213sid" title='sid' data-type='int' data-ref="213sid" data-ref-filename="213sid">sid</dfn>,</td></tr>
<tr><th id="207">207</th><td>                                    <em>const</em> <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams" title='webrtc::SendDataParams' data-ref="webrtc::SendDataParams" data-ref-filename="webrtc..SendDataParams">SendDataParams</a>&amp; <dfn class="local col4 decl" id="214params" title='params' data-type='const webrtc::SendDataParams &amp;' data-ref="214params" data-ref-filename="214params">params</dfn>,</td></tr>
<tr><th id="208">208</th><td>                                    <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="215size" title='size' data-type='size_t' data-ref="215size" data-ref-filename="215size">size</dfn>) {</td></tr>
<tr><th id="209">209</th><td>  <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa" title='sctp_sendv_spa' data-ref="sctp_sendv_spa" data-ref-filename="sctp_sendv_spa">sctp_sendv_spa</a> <dfn class="local col6 decl" id="216spa" title='spa' data-type='struct sctp_sendv_spa' data-ref="216spa" data-ref-filename="216spa">spa</dfn> = {<var>0</var>};</td></tr>
<tr><th id="210">210</th><td>  <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_flags" title='sctp_sendv_spa::sendv_flags' data-ref="sctp_sendv_spa::sendv_flags" data-ref-filename="sctp_sendv_spa..sendv_flags">sendv_flags</a> |= <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#199" title="0x00000001" data-ref="_M/SCTP_SEND_SNDINFO_VALID">SCTP_SEND_SNDINFO_VALID</a>;</td></tr>
<tr><th id="211">211</th><td>  <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_sndinfo" title='sctp_sendv_spa::sendv_sndinfo' data-ref="sctp_sendv_spa::sendv_sndinfo" data-ref-filename="sctp_sendv_spa..sendv_sndinfo">sendv_sndinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_sid" title='sctp_sndinfo::snd_sid' data-ref="sctp_sndinfo::snd_sid" data-ref-filename="sctp_sndinfo..snd_sid">snd_sid</a> = <a class="local col3 ref" href="#213sid" title='sid' data-ref="213sid" data-ref-filename="213sid">sid</a>;</td></tr>
<tr><th id="212">212</th><td>  <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_sndinfo" title='sctp_sendv_spa::sendv_sndinfo' data-ref="sctp_sendv_spa::sendv_sndinfo" data-ref-filename="sctp_sendv_spa..sendv_sndinfo">sendv_sndinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_ppid" title='sctp_sndinfo::snd_ppid' data-ref="sctp_sndinfo::snd_ppid" data-ref-filename="sctp_sndinfo..snd_ppid">snd_ppid</a> = <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/byte_order.h.html#_ZN3rtc15HostToNetwork32Ej" title='rtc::HostToNetwork32' data-ref="_ZN3rtc15HostToNetwork32Ej" data-ref-filename="_ZN3rtc15HostToNetwork32Ej">HostToNetwork32</a>(<a class="tu ref fn" href="#_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm" title='(anonymous namespace)::GetPpid' data-use='c' data-ref="_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm" data-ref-filename="_ZN12_GLOBAL__N_17GetPpidEN6webrtc15DataMessageTypeEm">GetPpid</a>(<a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::type" title='webrtc::SendDataParams::type' data-ref="webrtc::SendDataParams::type" data-ref-filename="webrtc..SendDataParams..type">type</a>, <a class="local col5 ref" href="#215size" title='size' data-ref="215size" data-ref-filename="215size">size</a>));</td></tr>
<tr><th id="213">213</th><td>  <i>// Explicitly marking the EOR flag turns the usrsctp_sendv call below into a</i></td></tr>
<tr><th id="214">214</th><td><i>  // non atomic operation. This means that the sctp lib might only accept the</i></td></tr>
<tr><th id="215">215</th><td><i>  // message partially. This is done in order to improve throughput, so that we</i></td></tr>
<tr><th id="216">216</th><td><i>  // don't have to wait for an empty buffer to send the max message length, for</i></td></tr>
<tr><th id="217">217</th><td><i>  // example.</i></td></tr>
<tr><th id="218">218</th><td>  <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_sndinfo" title='sctp_sendv_spa::sendv_sndinfo' data-ref="sctp_sendv_spa::sendv_sndinfo" data-ref-filename="sctp_sendv_spa..sendv_sndinfo">sendv_sndinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_flags" title='sctp_sndinfo::snd_flags' data-ref="sctp_sndinfo::snd_flags" data-ref-filename="sctp_sndinfo..snd_flags">snd_flags</a> |= <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#493" title="0x2000" data-ref="_M/SCTP_EOR">SCTP_EOR</a>;</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>  <b>if</b> (!<a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::ordered" title='webrtc::SendDataParams::ordered' data-ref="webrtc::SendDataParams::ordered" data-ref-filename="webrtc..SendDataParams..ordered">ordered</a>) {</td></tr>
<tr><th id="221">221</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_sndinfo" title='sctp_sendv_spa::sendv_sndinfo' data-ref="sctp_sendv_spa::sendv_sndinfo" data-ref-filename="sctp_sendv_spa..sendv_sndinfo">sendv_sndinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_flags" title='sctp_sndinfo::snd_flags' data-ref="sctp_sndinfo::snd_flags" data-ref-filename="sctp_sndinfo..snd_flags">snd_flags</a> |= <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#490" title="0x0400" data-ref="_M/SCTP_UNORDERED">SCTP_UNORDERED</a>;</td></tr>
<tr><th id="222">222</th><td>  }</td></tr>
<tr><th id="223">223</th><td>  <b>if</b> (<a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_count" title='webrtc::SendDataParams::max_rtx_count' data-ref="webrtc::SendDataParams::max_rtx_count" data-ref-filename="webrtc..SendDataParams..max_rtx_count">max_rtx_count</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>()) {</td></tr>
<tr><th id="224">224</th><td>    <a class="macro" href="../../rtc_base/checks.h.html#429" title="(*params.max_rtx_count &gt;= 0 &amp;&amp; *params.max_rtx_count &lt;= std::numeric_limits&lt;uint16_t&gt;::max()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 225, &quot;*params.max_rtx_count &gt;= 0 &amp;&amp; *params.max_rtx_count &lt;= std::numeric_limits&lt;uint16_t&gt;::max()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_count" title='webrtc::SendDataParams::max_rtx_count' data-ref="webrtc::SendDataParams::max_rtx_count" data-ref-filename="webrtc..SendDataParams..max_rtx_count">max_rtx_count</a> &gt;= <var>0</var> &amp;&amp;</td></tr>
<tr><th id="225">225</th><td>               <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_count" title='webrtc::SendDataParams::max_rtx_count' data-ref="webrtc::SendDataParams::max_rtx_count" data-ref-filename="webrtc..SendDataParams..max_rtx_count">max_rtx_count</a> &lt;= std::<span class='type' title='std::__1::numeric_limits' data-ref="std::__1::numeric_limits" data-ref-filename="std..__1..numeric_limits">numeric_limits</span>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;::<span class='ref fn' title='std::__1::numeric_limits::max' data-ref="_ZNSt3__114numeric_limits3maxEv" data-ref-filename="_ZNSt3__114numeric_limits3maxEv">max</span>());</td></tr>
<tr><th id="226">226</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_flags" title='sctp_sendv_spa::sendv_flags' data-ref="sctp_sendv_spa::sendv_flags" data-ref-filename="sctp_sendv_spa..sendv_flags">sendv_flags</a> |= <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#200" title="0x00000002" data-ref="_M/SCTP_SEND_PRINFO_VALID">SCTP_SEND_PRINFO_VALID</a>;</td></tr>
<tr><th id="227">227</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_prinfo" title='sctp_sendv_spa::sendv_prinfo' data-ref="sctp_sendv_spa::sendv_prinfo" data-ref-filename="sctp_sendv_spa..sendv_prinfo">sendv_prinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_prinfo::pr_policy" title='sctp_prinfo::pr_policy' data-ref="sctp_prinfo::pr_policy" data-ref-filename="sctp_prinfo..pr_policy">pr_policy</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#506" title="0x0003" data-ref="_M/SCTP_PR_SCTP_RTX">SCTP_PR_SCTP_RTX</a>;</td></tr>
<tr><th id="228">228</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_prinfo" title='sctp_sendv_spa::sendv_prinfo' data-ref="sctp_sendv_spa::sendv_prinfo" data-ref-filename="sctp_sendv_spa..sendv_prinfo">sendv_prinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_prinfo::pr_value" title='sctp_prinfo::pr_value' data-ref="sctp_prinfo::pr_value" data-ref-filename="sctp_prinfo..pr_value">pr_value</a> = <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_count" title='webrtc::SendDataParams::max_rtx_count' data-ref="webrtc::SendDataParams::max_rtx_count" data-ref-filename="webrtc..SendDataParams..max_rtx_count">max_rtx_count</a>;</td></tr>
<tr><th id="229">229</th><td>  }</td></tr>
<tr><th id="230">230</th><td>  <b>if</b> (<a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_ms" title='webrtc::SendDataParams::max_rtx_ms' data-ref="webrtc::SendDataParams::max_rtx_ms" data-ref-filename="webrtc..SendDataParams..max_rtx_ms">max_rtx_ms</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>()) {</td></tr>
<tr><th id="231">231</th><td>    <a class="macro" href="../../rtc_base/checks.h.html#429" title="(*params.max_rtx_ms &gt;= 0 &amp;&amp; *params.max_rtx_ms &lt;= std::numeric_limits&lt;uint16_t&gt;::max()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 232, &quot;*params.max_rtx_ms &gt;= 0 &amp;&amp; *params.max_rtx_ms &lt;= std::numeric_limits&lt;uint16_t&gt;::max()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_ms" title='webrtc::SendDataParams::max_rtx_ms' data-ref="webrtc::SendDataParams::max_rtx_ms" data-ref-filename="webrtc..SendDataParams..max_rtx_ms">max_rtx_ms</a> &gt;= <var>0</var> &amp;&amp;</td></tr>
<tr><th id="232">232</th><td>               <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_ms" title='webrtc::SendDataParams::max_rtx_ms' data-ref="webrtc::SendDataParams::max_rtx_ms" data-ref-filename="webrtc..SendDataParams..max_rtx_ms">max_rtx_ms</a> &lt;= std::<span class='type' title='std::__1::numeric_limits' data-ref="std::__1::numeric_limits" data-ref-filename="std..__1..numeric_limits">numeric_limits</span>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;::<span class='ref fn' title='std::__1::numeric_limits::max' data-ref="_ZNSt3__114numeric_limits3maxEv" data-ref-filename="_ZNSt3__114numeric_limits3maxEv">max</span>());</td></tr>
<tr><th id="233">233</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_flags" title='sctp_sendv_spa::sendv_flags' data-ref="sctp_sendv_spa::sendv_flags" data-ref-filename="sctp_sendv_spa..sendv_flags">sendv_flags</a> |= <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#200" title="0x00000002" data-ref="_M/SCTP_SEND_PRINFO_VALID">SCTP_SEND_PRINFO_VALID</a>;</td></tr>
<tr><th id="234">234</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_prinfo" title='sctp_sendv_spa::sendv_prinfo' data-ref="sctp_sendv_spa::sendv_prinfo" data-ref-filename="sctp_sendv_spa..sendv_prinfo">sendv_prinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_prinfo::pr_policy" title='sctp_prinfo::pr_policy' data-ref="sctp_prinfo::pr_policy" data-ref-filename="sctp_prinfo..pr_policy">pr_policy</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#504" title="0x0001" data-ref="_M/SCTP_PR_SCTP_TTL">SCTP_PR_SCTP_TTL</a>;</td></tr>
<tr><th id="235">235</th><td>    <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa::sendv_prinfo" title='sctp_sendv_spa::sendv_prinfo' data-ref="sctp_sendv_spa::sendv_prinfo" data-ref-filename="sctp_sendv_spa..sendv_prinfo">sendv_prinfo</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_prinfo::pr_value" title='sctp_prinfo::pr_value' data-ref="sctp_prinfo::pr_value" data-ref-filename="sctp_prinfo..pr_value">pr_value</a> = <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col4 ref" href="#214params" title='params' data-ref="214params" data-ref-filename="214params">params</a>.<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::max_rtx_ms" title='webrtc::SendDataParams::max_rtx_ms' data-ref="webrtc::SendDataParams::max_rtx_ms" data-ref-filename="webrtc..SendDataParams..max_rtx_ms">max_rtx_ms</a>;</td></tr>
<tr><th id="236">236</th><td>  }</td></tr>
<tr><th id="237">237</th><td>  <b>return</b> <a class="local col6 ref" href="#216spa" title='spa' data-ref="216spa" data-ref-filename="216spa">spa</a>;</td></tr>
<tr><th id="238">238</th><td>}</td></tr>
<tr><th id="239">239</th><td>}  <i>// namespace</i></td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td><b>namespace</b> <span class="namespace">cricket</span> {</td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td><i>// Maps SCTP transport ID to UsrsctpTransport object, necessary in send</i></td></tr>
<tr><th id="244">244</th><td><i>// threshold callback and outgoing packet callback. It also provides a facility</i></td></tr>
<tr><th id="245">245</th><td><i>// to safely post a task to an UsrsctpTransport's network thread from another</i></td></tr>
<tr><th id="246">246</th><td><i>// thread.</i></td></tr>
<tr><th id="247">247</th><td><b>class</b> <dfn class="type def" id="cricket::UsrsctpTransportMap" title='cricket::UsrsctpTransportMap' data-ref="cricket::UsrsctpTransportMap" data-ref-filename="cricket..UsrsctpTransportMap">UsrsctpTransportMap</dfn> {</td></tr>
<tr><th id="248">248</th><td> <b>public</b>:</td></tr>
<tr><th id="249">249</th><td>  <dfn class="decl def fn" id="_ZN7cricket19UsrsctpTransportMapC1Ev" title='cricket::UsrsctpTransportMap::UsrsctpTransportMap' data-ref="_ZN7cricket19UsrsctpTransportMapC1Ev" data-ref-filename="_ZN7cricket19UsrsctpTransportMapC1Ev">UsrsctpTransportMap</dfn>() = <b>default</b>;</td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td>  <i>// Assigns a new unused ID to the following transport.</i></td></tr>
<tr><th id="252">252</th><td>  <span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span> <dfn class="decl def fn" id="_ZN7cricket19UsrsctpTransportMap8RegisterEPNS_16UsrsctpTransportE" title='cricket::UsrsctpTransportMap::Register' data-ref="_ZN7cricket19UsrsctpTransportMap8RegisterEPNS_16UsrsctpTransportE" data-ref-filename="_ZN7cricket19UsrsctpTransportMap8RegisterEPNS_16UsrsctpTransportE">Register</dfn>(<span class="namespace">cricket::</span><a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="local col7 decl" id="217transport" title='transport' data-type='cricket::UsrsctpTransport *' data-ref="217transport" data-ref-filename="217transport">transport</dfn>) {</td></tr>
<tr><th id="253">253</th><td>    <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::MutexLock" title='webrtc::MutexLock' data-ref="webrtc::MutexLock" data-ref-filename="webrtc..MutexLock">MutexLock</a> <dfn class="local col8 decl" id="218lock" title='lock' data-type='webrtc::MutexLock' data-ref="218lock" data-ref-filename="218lock">lock</dfn><a class="ref fn" href="../../rtc_base/synchronization/mutex.h.html#_ZN6webrtc9MutexLockC1EPNS_5MutexE" title='webrtc::MutexLock::MutexLock' data-ref="_ZN6webrtc9MutexLockC1EPNS_5MutexE" data-ref-filename="_ZN6webrtc9MutexLockC1EPNS_5MutexE">(</a>&amp;<a class="member field" href="#cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</a>);</td></tr>
<tr><th id="254">254</th><td>    <i>// usrsctp_connect fails with a value of 0...</i></td></tr>
<tr><th id="255">255</th><td>    <b>if</b> (<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a> == <var>0</var>) {</td></tr>
<tr><th id="256">256</th><td>      ++<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a>;</td></tr>
<tr><th id="257">257</th><td>    }</td></tr>
<tr><th id="258">258</th><td>    <i>// In case we've wrapped around and need to find an empty spot from a</i></td></tr>
<tr><th id="259">259</th><td><i>    // removed transport. Assumes we'll never be full.</i></td></tr>
<tr><th id="260">260</th><td>    <b>while</b> (<a class="member field" href="#cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</a>.<span class='ref fn' title='std::__1::unordered_map::find' data-ref="_ZNSt3__113unordered_map4findERKT_" data-ref-filename="_ZNSt3__113unordered_map4findERKT_">find</span>(<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a>) <span class='ref fn' title='std::__1::operator!=' data-ref="_ZNSt3__1neERKNS_19__hash_map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1neERKNS_19__hash_map_iteratorIT_EES5_">!=</span> <a class="member field" href="#cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</a>.<span class='ref fn' title='std::__1::unordered_map::end' data-ref="_ZNSt3__113unordered_map3endEv" data-ref-filename="_ZNSt3__113unordered_map3endEv">end</span>()) {</td></tr>
<tr><th id="261">261</th><td>      ++<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a>;</td></tr>
<tr><th id="262">262</th><td>      <b>if</b> (<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a> == <var>0</var>) {</td></tr>
<tr><th id="263">263</th><td>        ++<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a>;</td></tr>
<tr><th id="264">264</th><td>      }</td></tr>
<tr><th id="265">265</th><td>    }</td></tr>
<tr><th id="266">266</th><td>    <a class="member field" href="#cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</a><span class='ref fn' title='std::__1::unordered_map::operator[]' data-ref="_ZNSt3__113unordered_mapixERKT_" data-ref-filename="_ZNSt3__113unordered_mapixERKT_">[<a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a>]</span> = <a class="local col7 ref" href="#217transport" title='transport' data-ref="217transport" data-ref-filename="217transport">transport</a>;</td></tr>
<tr><th id="267">267</th><td>    <b>return</b> <a class="member field" href="#cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</a>++;</td></tr>
<tr><th id="268">268</th><td>  }</td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td>  <i>// Returns true if found.</i></td></tr>
<tr><th id="271">271</th><td>  <em>bool</em> <dfn class="decl def fn" id="_ZN7cricket19UsrsctpTransportMap10DeregisterEm" title='cricket::UsrsctpTransportMap::Deregister' data-ref="_ZN7cricket19UsrsctpTransportMap10DeregisterEm" data-ref-filename="_ZN7cricket19UsrsctpTransportMap10DeregisterEm">Deregister</dfn>(<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span> <dfn class="local col9 decl" id="219id" title='id' data-type='uintptr_t' data-ref="219id" data-ref-filename="219id">id</dfn>) {</td></tr>
<tr><th id="272">272</th><td>    <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::MutexLock" title='webrtc::MutexLock' data-ref="webrtc::MutexLock" data-ref-filename="webrtc..MutexLock">MutexLock</a> <dfn class="local col0 decl" id="220lock" title='lock' data-type='webrtc::MutexLock' data-ref="220lock" data-ref-filename="220lock">lock</dfn><a class="ref fn" href="../../rtc_base/synchronization/mutex.h.html#_ZN6webrtc9MutexLockC1EPNS_5MutexE" title='webrtc::MutexLock::MutexLock' data-ref="_ZN6webrtc9MutexLockC1EPNS_5MutexE" data-ref-filename="_ZN6webrtc9MutexLockC1EPNS_5MutexE">(</a>&amp;<a class="member field" href="#cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</a>);</td></tr>
<tr><th id="273">273</th><td>    <b>return</b> <a class="member field" href="#cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</a>.<span class='ref fn' title='std::__1::unordered_map::erase' data-ref="_ZNSt3__113unordered_map5eraseERKT_" data-ref-filename="_ZNSt3__113unordered_map5eraseERKT_">erase</span>(<a class="local col9 ref" href="#219id" title='id' data-ref="219id" data-ref-filename="219id">id</a>) &gt; <var>0</var>;</td></tr>
<tr><th id="274">274</th><td>  }</td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td>  <i>// Posts |action| to the network thread of the transport identified by |id|</i></td></tr>
<tr><th id="277">277</th><td><i>  // and returns true if found, all while holding a lock to protect against the</i></td></tr>
<tr><th id="278">278</th><td><i>  // transport being simultaneously deleted/deregistered, or returns false if</i></td></tr>
<tr><th id="279">279</th><td><i>  // not found.</i></td></tr>
<tr><th id="280">280</th><td>  <b>template</b> &lt;<b>typename</b> F&gt;</td></tr>
<tr><th id="281">281</th><td>  <em>bool</em> <dfn class="decl def fn" id="_ZNK7cricket19UsrsctpTransportMap21PostToTransportThreadEmT_" title='cricket::UsrsctpTransportMap::PostToTransportThread' data-ref="_ZNK7cricket19UsrsctpTransportMap21PostToTransportThreadEmT_" data-ref-filename="_ZNK7cricket19UsrsctpTransportMap21PostToTransportThreadEmT_">PostToTransportThread</dfn>(<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span> <dfn class="local col1 decl" id="221id" title='id' data-type='uintptr_t' data-ref="221id" data-ref-filename="221id">id</dfn>, F <dfn class="local col2 decl" id="222action" title='action' data-type='F' data-ref="222action" data-ref-filename="222action">action</dfn>) <em>const</em> {</td></tr>
<tr><th id="282">282</th><td>    <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::MutexLock" title='webrtc::MutexLock' data-ref="webrtc::MutexLock" data-ref-filename="webrtc..MutexLock">MutexLock</a> <dfn class="local col3 decl" id="223lock" title='lock' data-type='webrtc::MutexLock' data-ref="223lock" data-ref-filename="223lock">lock</dfn><a class="ref fn" href="../../rtc_base/synchronization/mutex.h.html#_ZN6webrtc9MutexLockC1EPNS_5MutexE" title='webrtc::MutexLock::MutexLock' data-ref="_ZN6webrtc9MutexLockC1EPNS_5MutexE" data-ref-filename="_ZN6webrtc9MutexLockC1EPNS_5MutexE">(</a>&amp;<a class="member field" href="#cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</a>);</td></tr>
<tr><th id="283">283</th><td>    <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="local col4 decl" id="224transport" title='transport' data-type='cricket::UsrsctpTransport *' data-ref="224transport" data-ref-filename="224transport">transport</dfn> = <a class="member fn" href="#_ZNK7cricket19UsrsctpTransportMap24RetrieveWhileHoldingLockEm" title='cricket::UsrsctpTransportMap::RetrieveWhileHoldingLock' data-ref="_ZNK7cricket19UsrsctpTransportMap24RetrieveWhileHoldingLockEm" data-ref-filename="_ZNK7cricket19UsrsctpTransportMap24RetrieveWhileHoldingLockEm">RetrieveWhileHoldingLock</a>(<a class="local col1 ref" href="#221id" title='id' data-ref="221id" data-ref-filename="221id">id</a>);</td></tr>
<tr><th id="284">284</th><td>    <b>if</b> (!<a class="local col4 ref" href="#224transport" title='transport' data-ref="224transport" data-ref-filename="224transport">transport</a>) {</td></tr>
<tr><th id="285">285</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="286">286</th><td>    }</td></tr>
<tr><th id="287">287</th><td>    <a class="local col4 ref" href="#224transport" title='transport' data-ref="224transport" data-ref-filename="224transport">transport</a>-&gt;<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>-&gt;PostTask(ToQueuedTask(</td></tr>
<tr><th id="288">288</th><td>        <a class="local col4 ref" href="#224transport" title='transport' data-ref="224transport" data-ref-filename="224transport">transport</a>-&gt;<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::task_safety_" title='cricket::UsrsctpTransport::task_safety_' data-ref="cricket::UsrsctpTransport::task_safety_" data-ref-filename="cricket..UsrsctpTransport..task_safety_">task_safety_</a>,</td></tr>
<tr><th id="289">289</th><td>        [<a class="local col4 ref" href="#224transport" title='transport' data-ref="224transport" data-ref-filename="224transport">transport</a>, <dfn class="local col5 decl" id="225action" title='action' data-type='auto' data-ref="225action" data-ref-filename="225action">action</dfn>{<span class="namespace">std::</span>move(<a class="local col2 ref" href="#222action" title='action' data-ref="222action" data-ref-filename="222action">action</a>)}]() { <a class="local col5 ref" href="#225action" title='action' data-ref="225action" data-ref-filename="225action">action</a>(<a class="local col4 ref" href="#224transport" title='transport' data-ref="224transport" data-ref-filename="224transport">transport</a>); }));</td></tr>
<tr><th id="290">290</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="291">291</th><td>  }</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td> <b>private</b>:</td></tr>
<tr><th id="294">294</th><td>  <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="decl def fn" id="_ZNK7cricket19UsrsctpTransportMap24RetrieveWhileHoldingLockEm" title='cricket::UsrsctpTransportMap::RetrieveWhileHoldingLock' data-ref="_ZNK7cricket19UsrsctpTransportMap24RetrieveWhileHoldingLockEm" data-ref-filename="_ZNK7cricket19UsrsctpTransportMap24RetrieveWhileHoldingLockEm">RetrieveWhileHoldingLock</dfn>(<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span> <dfn class="local col6 decl" id="226id" title='id' data-type='uintptr_t' data-ref="226id" data-ref-filename="226id">id</dfn>) <em>const</em></td></tr>
<tr><th id="295">295</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#55" title="__attribute__((exclusive_locks_required(lock_)))" data-ref="_M/RTC_EXCLUSIVE_LOCKS_REQUIRED">RTC_EXCLUSIVE_LOCKS_REQUIRED</a>(<a class="member field" href="#cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</a>) {</td></tr>
<tr><th id="296">296</th><td>    <em>auto</em> <dfn class="local col7 decl" id="227it" title='it' data-type='std::__1::__hash_map_const_iterator&lt;std::__1::__hash_const_iterator&lt;std::__1::__hash_node&lt;std::__1::__hash_value_type&lt;unsigned long, cricket::UsrsctpTransport *&gt;, void *&gt; *&gt;&gt;' data-ref="227it" data-ref-filename="227it">it</dfn> = <a class="member field" href="#cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</a>.<span class='ref fn' title='std::__1::unordered_map::find' data-ref="_ZNKSt3__113unordered_map4findERKT_" data-ref-filename="_ZNKSt3__113unordered_map4findERKT_">find</span>(<a class="local col6 ref" href="#226id" title='id' data-ref="226id" data-ref-filename="226id">id</a>);</td></tr>
<tr><th id="297">297</th><td>    <b>if</b> (<a class="local col7 ref" href="#227it" title='it' data-ref="227it" data-ref-filename="227it">it</a> <span class='ref fn' title='std::__1::operator==' data-ref="_ZNSt3__1eqERKNS_25__hash_map_const_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1eqERKNS_25__hash_map_const_iteratorIT_EES5_">==</span> <a class="member field" href="#cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</a>.<span class='ref fn' title='std::__1::unordered_map::end' data-ref="_ZNKSt3__113unordered_map3endEv" data-ref-filename="_ZNKSt3__113unordered_map3endEv">end</span>()) {</td></tr>
<tr><th id="298">298</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="299">299</th><td>    }</td></tr>
<tr><th id="300">300</th><td>    <b>return</b> <a class="local col7 ref" href="#227it" title='it' data-ref="227it" data-ref-filename="227it">it</a><span class='ref fn' title='std::__1::__hash_map_const_iterator::operator-&gt;' data-ref="_ZNKSt3__125__hash_map_const_iteratorptEv" data-ref-filename="_ZNKSt3__125__hash_map_const_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned long, cricket::UsrsctpTransport *&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>;</td></tr>
<tr><th id="301">301</th><td>  }</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td>  <em>mutable</em> <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::Mutex" title='webrtc::Mutex' data-ref="webrtc::Mutex" data-ref-filename="webrtc..Mutex">Mutex</a> <dfn class="decl field" id="cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</dfn>;</td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td>  <span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span> <dfn class="decl field" id="cricket::UsrsctpTransportMap::next_id_" title='cricket::UsrsctpTransportMap::next_id_' data-ref="cricket::UsrsctpTransportMap::next_id_" data-ref-filename="cricket..UsrsctpTransportMap..next_id_">next_id_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(lock_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</a>) = <var>0</var>;</td></tr>
<tr><th id="306">306</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::unordered_map' data-ref="std::__1::unordered_map" data-ref-filename="std..__1..unordered_map">unordered_map</span>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>, <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>*&gt; <dfn class="decl field" id="cricket::UsrsctpTransportMap::map_" title='cricket::UsrsctpTransportMap::map_' data-ref="cricket::UsrsctpTransportMap::map_" data-ref-filename="cricket..UsrsctpTransportMap..map_">map_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(lock_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#cricket::UsrsctpTransportMap::lock_" title='cricket::UsrsctpTransportMap::lock_' data-ref="cricket::UsrsctpTransportMap::lock_" data-ref-filename="cricket..UsrsctpTransportMap..lock_">lock_</a>);</td></tr>
<tr><th id="307">307</th><td>};</td></tr>
<tr><th id="308">308</th><td></td></tr>
<tr><th id="309">309</th><td><i>// Handles global init/deinit, and mapping from usrsctp callbacks to</i></td></tr>
<tr><th id="310">310</th><td><i>// UsrsctpTransport calls.</i></td></tr>
<tr><th id="311">311</th><td><b>class</b> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="type def" id="cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</dfn> {</td></tr>
<tr><th id="312">312</th><td> <b>public</b>:</td></tr>
<tr><th id="313">313</th><td>  <em>static</em> <em>void</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper17InitializeUsrSctpEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::InitializeUsrSctp' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper17InitializeUsrSctpEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper17InitializeUsrSctpEv">InitializeUsrSctp</dfn>() {</td></tr>
<tr><th id="314">314</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 314, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <b>__FUNCTION__</b>;</td></tr>
<tr><th id="315">315</th><td>    <i>// UninitializeUsrSctp tries to call usrsctp_finish in a loop for three</i></td></tr>
<tr><th id="316">316</th><td><i>    // seconds; if that failed and we were left in a still-initialized state, we</i></td></tr>
<tr><th id="317">317</th><td><i>    // don't want to call usrsctp_init again as that will result in undefined</i></td></tr>
<tr><th id="318">318</th><td><i>    // behavior.</i></td></tr>
<tr><th id="319">319</th><td>    <b>if</b> (<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_initialized_" title='(anonymous namespace)::g_usrsctp_initialized_' data-use='r' data-ref="(anonymousnamespace)::g_usrsctp_initialized_" data-ref-filename="(anonymousnamespace)..g_usrsctp_initialized_">g_usrsctp_initialized_</a>) {</td></tr>
<tr><th id="320">320</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 320, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Not reinitializing usrsctp since last attempt at "</q></td></tr>
<tr><th id="321">321</th><td>                             <q>"usrsctp_finish failed."</q>;</td></tr>
<tr><th id="322">322</th><td>    } <b>else</b> {</td></tr>
<tr><th id="323">323</th><td>      <i>// First argument is udp_encapsulation_port, which is not releveant for</i></td></tr>
<tr><th id="324">324</th><td><i>      // our AF_CONN use of sctp.</i></td></tr>
<tr><th id="325">325</th><td>      <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_init" title='usrsctp_init' data-ref="usrsctp_init" data-ref-filename="usrsctp_init">usrsctp_init</a>(<var>0</var>, &amp;<a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="member fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper20OnSctpOutboundPacketEPvS2_mhh" title='cricket::UsrsctpTransport::UsrSctpWrapper::OnSctpOutboundPacket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper20OnSctpOutboundPacketEPvS2_mhh" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper20OnSctpOutboundPacketEPvS2_mhh">OnSctpOutboundPacket</a>, &amp;<a class="tu ref fn" href="#_ZN12_GLOBAL__N_115DebugSctpPrintfEPKcz" title='(anonymous namespace)::DebugSctpPrintf' data-use='a' data-ref="_ZN12_GLOBAL__N_115DebugSctpPrintfEPKcz" data-ref-filename="_ZN12_GLOBAL__N_115DebugSctpPrintfEPKcz">DebugSctpPrintf</a>);</td></tr>
<tr><th id="326">326</th><td>      <a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_initialized_" title='(anonymous namespace)::g_usrsctp_initialized_' data-use='w' data-ref="(anonymousnamespace)::g_usrsctp_initialized_" data-ref-filename="(anonymousnamespace)..g_usrsctp_initialized_">g_usrsctp_initialized_</a> = <b>true</b>;</td></tr>
<tr><th id="327">327</th><td>    }</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td>    <i>// To turn on/off detailed SCTP debugging. You will also need to have the</i></td></tr>
<tr><th id="330">330</th><td><i>    // SCTP_DEBUG cpp defines flag, which can be turned on in media/BUILD.gn.</i></td></tr>
<tr><th id="331">331</th><td><i>    // usrsctp_sysctl_set_sctp_debug_on(SCTP_DEBUG_ALL);</i></td></tr>
<tr><th id="332">332</th><td><i></i></td></tr>
<tr><th id="333">333</th><td><i>    // TODO(ldixon): Consider turning this on/off.</i></td></tr>
<tr><th id="334">334</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1085" title='usrsctp_sysctl_set_sctp_ecn_enable' data-ref="usrsctp_sysctl_set_sctp_ecn_enable" data-ref-filename="usrsctp_sysctl_set_sctp_ecn_enable">usrsctp_sysctl_set_sctp_ecn_enable</a>(<var>0</var>);</td></tr>
<tr><th id="335">335</th><td></td></tr>
<tr><th id="336">336</th><td>    <i>// WebRTC doesn't use these features, so disable them to reduce the</i></td></tr>
<tr><th id="337">337</th><td><i>    // potential attack surface.</i></td></tr>
<tr><th id="338">338</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1088" title='usrsctp_sysctl_set_sctp_asconf_enable' data-ref="usrsctp_sysctl_set_sctp_asconf_enable" data-ref-filename="usrsctp_sysctl_set_sctp_asconf_enable">usrsctp_sysctl_set_sctp_asconf_enable</a>(<var>0</var>);</td></tr>
<tr><th id="339">339</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1087" title='usrsctp_sysctl_set_sctp_auth_enable' data-ref="usrsctp_sysctl_set_sctp_auth_enable" data-ref-filename="usrsctp_sysctl_set_sctp_auth_enable">usrsctp_sysctl_set_sctp_auth_enable</a>(<var>0</var>);</td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td>    <i>// This is harmless, but we should find out when the library default</i></td></tr>
<tr><th id="342">342</th><td><i>    // changes.</i></td></tr>
<tr><th id="343">343</th><td>    <em>int</em> <dfn class="local col8 decl" id="228send_size" title='send_size' data-type='int' data-ref="228send_size" data-ref-filename="228send_size">send_size</dfn> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1081" title='usrsctp_sysctl_get_sctp_sendspace' data-ref="usrsctp_sysctl_get_sctp_sendspace" data-ref-filename="usrsctp_sysctl_get_sctp_sendspace">usrsctp_sysctl_get_sctp_sendspace</a>();</td></tr>
<tr><th id="344">344</th><td>    <b>if</b> (<a class="local col8 ref" href="#228send_size" title='send_size' data-ref="228send_size" data-ref-filename="228send_size">send_size</a> != <a class="ref" href="sctp_transport_internal.h.html#cricket::kSctpSendBufferSize" title='cricket::kSctpSendBufferSize' data-ref="cricket::kSctpSendBufferSize" data-ref-filename="cricket..kSctpSendBufferSize">kSctpSendBufferSize</a>) {</td></tr>
<tr><th id="345">345</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 345, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Got different send size than expected: "</q></td></tr>
<tr><th id="346">346</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col8 ref" href="#228send_size" title='send_size' data-ref="228send_size" data-ref-filename="228send_size">send_size</a>;</td></tr>
<tr><th id="347">347</th><td>    }</td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td>    <i>// TODO(ldixon): Consider turning this on/off.</i></td></tr>
<tr><th id="350">350</th><td><i>    // This is not needed right now (we don't do dynamic address changes):</i></td></tr>
<tr><th id="351">351</th><td><i>    // If SCTP Auto-ASCONF is enabled, the peer is informed automatically</i></td></tr>
<tr><th id="352">352</th><td><i>    // when a new address is added or removed. This feature is enabled by</i></td></tr>
<tr><th id="353">353</th><td><i>    // default.</i></td></tr>
<tr><th id="354">354</th><td><i>    // usrsctp_sysctl_set_sctp_auto_asconf(0);</i></td></tr>
<tr><th id="355">355</th><td><i></i></td></tr>
<tr><th id="356">356</th><td><i>    // TODO(ldixon): Consider turning this on/off.</i></td></tr>
<tr><th id="357">357</th><td><i>    // Add a blackhole sysctl. Setting it to 1 results in no ABORTs</i></td></tr>
<tr><th id="358">358</th><td><i>    // being sent in response to INITs, setting it to 2 results</i></td></tr>
<tr><th id="359">359</th><td><i>    // in no ABORTs being sent for received OOTB packets.</i></td></tr>
<tr><th id="360">360</th><td><i>    // This is similar to the TCP sysctl.</i></td></tr>
<tr><th id="361">361</th><td><i>    //</i></td></tr>
<tr><th id="362">362</th><td><i>    // See: <a href="http://lakerest.net/pipermail/sctp-coders/2012-January/009438.html">http://lakerest.net/pipermail/sctp-coders/2012-January/009438.html</a></i></td></tr>
<tr><th id="363">363</th><td><i>    // See: <a href="http://svnweb.freebsd.org/base?view=revision&revision=229805">http://svnweb.freebsd.org/base?view=revision&amp;revision=229805</a></i></td></tr>
<tr><th id="364">364</th><td><i>    // usrsctp_sysctl_set_sctp_blackhole(2);</i></td></tr>
<tr><th id="365">365</th><td><i></i></td></tr>
<tr><th id="366">366</th><td><i>    // Set the number of default outgoing streams. This is the number we'll</i></td></tr>
<tr><th id="367">367</th><td><i>    // send in the SCTP INIT message.</i></td></tr>
<tr><th id="368">368</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1115" title='usrsctp_sysctl_set_sctp_nr_outgoing_streams_default' data-ref="usrsctp_sysctl_set_sctp_nr_outgoing_streams_default" data-ref-filename="usrsctp_sysctl_set_sctp_nr_outgoing_streams_default">usrsctp_sysctl_set_sctp_nr_outgoing_streams_default</a>(<a class="ref" href="sctp_transport_internal.h.html#cricket::kMaxSctpStreams" title='cricket::kMaxSctpStreams' data-ref="cricket::kMaxSctpStreams" data-ref-filename="cricket..kMaxSctpStreams">kMaxSctpStreams</a>);</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td>    <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='w' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a> = <b>new</b> <a class="type" href="#cricket::UsrsctpTransportMap" title='cricket::UsrsctpTransportMap' data-ref="cricket::UsrsctpTransportMap" data-ref-filename="cricket..UsrsctpTransportMap">UsrsctpTransportMap</a><a class="ref fn" href="#_ZN7cricket19UsrsctpTransportMapC1Ev" title='cricket::UsrsctpTransportMap::UsrsctpTransportMap' data-ref="_ZN7cricket19UsrsctpTransportMapC1Ev" data-ref-filename="_ZN7cricket19UsrsctpTransportMapC1Ev">(</a>);</td></tr>
<tr><th id="371">371</th><td>  }</td></tr>
<tr><th id="372">372</th><td></td></tr>
<tr><th id="373">373</th><td>  <em>static</em> <em>void</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19UninitializeUsrSctpEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::UninitializeUsrSctp' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19UninitializeUsrSctpEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19UninitializeUsrSctpEv">UninitializeUsrSctp</dfn>() {</td></tr>
<tr><th id="374">374</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 374, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <b>__FUNCTION__</b>;</td></tr>
<tr><th id="375">375</th><td>    <i>// usrsctp_finish() may fail if it's called too soon after the transports</i></td></tr>
<tr><th id="376">376</th><td><i>    // are</i></td></tr>
<tr><th id="377">377</th><td><i>    // closed. Wait and try again until it succeeds for up to 3 seconds.</i></td></tr>
<tr><th id="378">378</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col9 decl" id="229i" title='i' data-type='size_t' data-ref="229i" data-ref-filename="229i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#229i" title='i' data-ref="229i" data-ref-filename="229i">i</a> &lt; <var>300</var>; ++<a class="local col9 ref" href="#229i" title='i' data-ref="229i" data-ref-filename="229i">i</a>) {</td></tr>
<tr><th id="379">379</th><td>      <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_finish" title='usrsctp_finish' data-ref="usrsctp_finish" data-ref-filename="usrsctp_finish">usrsctp_finish</a>() == <var>0</var>) {</td></tr>
<tr><th id="380">380</th><td>        <a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_initialized_" title='(anonymous namespace)::g_usrsctp_initialized_' data-use='w' data-ref="(anonymousnamespace)::g_usrsctp_initialized_" data-ref-filename="(anonymousnamespace)..g_usrsctp_initialized_">g_usrsctp_initialized_</a> = <b>false</b>;</td></tr>
<tr><th id="381">381</th><td>        <b>delete</b> <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>;</td></tr>
<tr><th id="382">382</th><td>        <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='w' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a> = <b>nullptr</b>;</td></tr>
<tr><th id="383">383</th><td>        <b>return</b>;</td></tr>
<tr><th id="384">384</th><td>      }</td></tr>
<tr><th id="385">385</th><td></td></tr>
<tr><th id="386">386</th><td>      <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/thread.h.html#rtc::Thread" title='rtc::Thread' data-ref="rtc::Thread" data-ref-filename="rtc..Thread">Thread</a>::<a class="ref fn" href="../../rtc_base/thread.h.html#_ZN3rtc6Thread7SleepMsEi" title='rtc::Thread::SleepMs' data-ref="_ZN3rtc6Thread7SleepMsEi" data-ref-filename="_ZN3rtc6Thread7SleepMsEi">SleepMs</a>(<var>10</var>);</td></tr>
<tr><th id="387">387</th><td>    }</td></tr>
<tr><th id="388">388</th><td>    <b>delete</b> <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>;</td></tr>
<tr><th id="389">389</th><td>    <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='w' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a> = <b>nullptr</b>;</td></tr>
<tr><th id="390">390</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 390, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Failed to shutdown usrsctp."</q>;</td></tr>
<tr><th id="391">391</th><td>  }</td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td>  <em>static</em> <em>void</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26IncrementUsrSctpUsageCountEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::IncrementUsrSctpUsageCount' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26IncrementUsrSctpUsageCountEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26IncrementUsrSctpUsageCountEv">IncrementUsrSctpUsageCount</dfn>() {</td></tr>
<tr><th id="394">394</th><td>    <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::GlobalMutexLock" title='webrtc::GlobalMutexLock' data-ref="webrtc::GlobalMutexLock" data-ref-filename="webrtc..GlobalMutexLock">GlobalMutexLock</a> <dfn class="local col0 decl" id="230lock" title='lock' data-type='webrtc::GlobalMutexLock' data-ref="230lock" data-ref-filename="230lock">lock</dfn><a class="ref fn" href="../../rtc_base/synchronization/mutex.h.html#_ZN6webrtc15GlobalMutexLockC1EPNS_11GlobalMutexE" title='webrtc::GlobalMutexLock::GlobalMutexLock' data-ref="_ZN6webrtc15GlobalMutexLockC1EPNS_11GlobalMutexE" data-ref-filename="_ZN6webrtc15GlobalMutexLockC1EPNS_11GlobalMutexE">(</a>&amp;<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_lock_" title='(anonymous namespace)::g_usrsctp_lock_' data-use='a' data-ref="(anonymousnamespace)::g_usrsctp_lock_" data-ref-filename="(anonymousnamespace)..g_usrsctp_lock_">g_usrsctp_lock_</a>);</td></tr>
<tr><th id="395">395</th><td>    <b>if</b> (!<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_usage_count" title='(anonymous namespace)::g_usrsctp_usage_count' data-use='r' data-ref="(anonymousnamespace)::g_usrsctp_usage_count" data-ref-filename="(anonymousnamespace)..g_usrsctp_usage_count">g_usrsctp_usage_count</a>) {</td></tr>
<tr><th id="396">396</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper17InitializeUsrSctpEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::InitializeUsrSctp' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper17InitializeUsrSctpEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper17InitializeUsrSctpEv">InitializeUsrSctp</a>();</td></tr>
<tr><th id="397">397</th><td>    }</td></tr>
<tr><th id="398">398</th><td>    ++<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_usage_count" title='(anonymous namespace)::g_usrsctp_usage_count' data-use='w' data-ref="(anonymousnamespace)::g_usrsctp_usage_count" data-ref-filename="(anonymousnamespace)..g_usrsctp_usage_count">g_usrsctp_usage_count</a>;</td></tr>
<tr><th id="399">399</th><td>  }</td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td>  <em>static</em> <em>void</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::DecrementUsrSctpUsageCount' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv">DecrementUsrSctpUsageCount</dfn>() {</td></tr>
<tr><th id="402">402</th><td>    <span class="namespace">webrtc::</span><a class="type" href="../../rtc_base/synchronization/mutex.h.html#webrtc::GlobalMutexLock" title='webrtc::GlobalMutexLock' data-ref="webrtc::GlobalMutexLock" data-ref-filename="webrtc..GlobalMutexLock">GlobalMutexLock</a> <dfn class="local col1 decl" id="231lock" title='lock' data-type='webrtc::GlobalMutexLock' data-ref="231lock" data-ref-filename="231lock">lock</dfn><a class="ref fn" href="../../rtc_base/synchronization/mutex.h.html#_ZN6webrtc15GlobalMutexLockC1EPNS_11GlobalMutexE" title='webrtc::GlobalMutexLock::GlobalMutexLock' data-ref="_ZN6webrtc15GlobalMutexLockC1EPNS_11GlobalMutexE" data-ref-filename="_ZN6webrtc15GlobalMutexLockC1EPNS_11GlobalMutexE">(</a>&amp;<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_lock_" title='(anonymous namespace)::g_usrsctp_lock_' data-use='a' data-ref="(anonymousnamespace)::g_usrsctp_lock_" data-ref-filename="(anonymousnamespace)..g_usrsctp_lock_">g_usrsctp_lock_</a>);</td></tr>
<tr><th id="403">403</th><td>    --<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_usage_count" title='(anonymous namespace)::g_usrsctp_usage_count' data-use='w' data-ref="(anonymousnamespace)::g_usrsctp_usage_count" data-ref-filename="(anonymousnamespace)..g_usrsctp_usage_count">g_usrsctp_usage_count</a>;</td></tr>
<tr><th id="404">404</th><td>    <b>if</b> (!<a class="tu ref" href="#(anonymousnamespace)::g_usrsctp_usage_count" title='(anonymous namespace)::g_usrsctp_usage_count' data-use='r' data-ref="(anonymousnamespace)::g_usrsctp_usage_count" data-ref-filename="(anonymousnamespace)..g_usrsctp_usage_count">g_usrsctp_usage_count</a>) {</td></tr>
<tr><th id="405">405</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19UninitializeUsrSctpEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::UninitializeUsrSctp' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19UninitializeUsrSctpEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19UninitializeUsrSctpEv">UninitializeUsrSctp</a>();</td></tr>
<tr><th id="406">406</th><td>    }</td></tr>
<tr><th id="407">407</th><td>  }</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>  <i>// This is the callback usrsctp uses when there's data to send on the network</i></td></tr>
<tr><th id="410">410</th><td><i>  // that has been wrapped appropriatly for the SCTP protocol.</i></td></tr>
<tr><th id="411">411</th><td>  <em>static</em> <em>int</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper20OnSctpOutboundPacketEPvS2_mhh" title='cricket::UsrsctpTransport::UsrSctpWrapper::OnSctpOutboundPacket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper20OnSctpOutboundPacketEPvS2_mhh" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper20OnSctpOutboundPacketEPvS2_mhh">OnSctpOutboundPacket</dfn>(<em>void</em>* <dfn class="local col2 decl" id="232addr" title='addr' data-type='void *' data-ref="232addr" data-ref-filename="232addr">addr</dfn>,</td></tr>
<tr><th id="412">412</th><td>                                  <em>void</em>* <dfn class="local col3 decl" id="233data" title='data' data-type='void *' data-ref="233data" data-ref-filename="233data">data</dfn>,</td></tr>
<tr><th id="413">413</th><td>                                  <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col4 decl" id="234length" title='length' data-type='size_t' data-ref="234length" data-ref-filename="234length">length</dfn>,</td></tr>
<tr><th id="414">414</th><td>                                  <span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span> <dfn class="local col5 decl" id="235tos" title='tos' data-type='uint8_t' data-ref="235tos" data-ref-filename="235tos">tos</dfn>,</td></tr>
<tr><th id="415">415</th><td>                                  <span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span> <dfn class="local col6 decl" id="236set_df" title='set_df' data-type='uint8_t' data-ref="236set_df" data-ref-filename="236set_df">set_df</dfn>) {</td></tr>
<tr><th id="416">416</th><td>    <b>if</b> (!<a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>) {</td></tr>
<tr><th id="417">417</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 417, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="418">418</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"OnSctpOutboundPacket called after usrsctp uninitialized?"</q>;</td></tr>
<tr><th id="419">419</th><td>      <b>return</b> <span class="macro" title="22" data-ref="_M/EINVAL">EINVAL</span>;</td></tr>
<tr><th id="420">420</th><td>    }</td></tr>
<tr><th id="421">421</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 421, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"global OnSctpOutboundPacket():"</q></td></tr>
<tr><th id="422">422</th><td>                           <q>"addr: "</q></td></tr>
<tr><th id="423">423</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col2 ref" href="#232addr" title='addr' data-ref="232addr" data-ref-filename="232addr">addr</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; length: "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#234length" title='length' data-ref="234length" data-ref-filename="234length">length</a></td></tr>
<tr><th id="424">424</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; tos: "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/string_utils.h.html#_ZN3rtc5ToHexEi" title='rtc::ToHex' data-ref="_ZN3rtc5ToHexEi" data-ref-filename="_ZN3rtc5ToHexEi">ToHex</a>(<a class="local col5 ref" href="#235tos" title='tos' data-ref="235tos" data-ref-filename="235tos">tos</a>)</td></tr>
<tr><th id="425">425</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; set_df: "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/string_utils.h.html#_ZN3rtc5ToHexEi" title='rtc::ToHex' data-ref="_ZN3rtc5ToHexEi" data-ref-filename="_ZN3rtc5ToHexEi">ToHex</a>(<a class="local col6 ref" href="#236set_df" title='set_df' data-ref="236set_df" data-ref-filename="236set_df">set_df</a>);</td></tr>
<tr><th id="426">426</th><td></td></tr>
<tr><th id="427">427</th><td>    <a class="tu ref fn" href="#_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi" title='(anonymous namespace)::VerboseLogPacket' data-use='c' data-ref="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi" data-ref-filename="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">VerboseLogPacket</a>(<a class="local col3 ref" href="#233data" title='data' data-ref="233data" data-ref-filename="233data">data</a>, <a class="local col4 ref" href="#234length" title='length' data-ref="234length" data-ref-filename="234length">length</a>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1051" title="1" data-ref="_M/SCTP_DUMP_OUTBOUND">SCTP_DUMP_OUTBOUND</a>);</td></tr>
<tr><th id="428">428</th><td></td></tr>
<tr><th id="429">429</th><td>    <i>// Note: We have to copy the data; the caller will delete it.</i></td></tr>
<tr><th id="430">430</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/copy_on_write_buffer.h.html#rtc::CopyOnWriteBuffer" title='rtc::CopyOnWriteBuffer' data-ref="rtc::CopyOnWriteBuffer" data-ref-filename="rtc..CopyOnWriteBuffer">CopyOnWriteBuffer</a> <dfn class="local col7 decl" id="237buf" title='buf' data-type='rtc::CopyOnWriteBuffer' data-ref="237buf" data-ref-filename="237buf">buf</dfn><a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZN3rtc17CopyOnWriteBufferC1EPKT_m" title='rtc::CopyOnWriteBuffer::CopyOnWriteBuffer' data-ref="_ZN3rtc17CopyOnWriteBufferC1EPKT_m" data-ref-filename="_ZN3rtc17CopyOnWriteBufferC1EPKT_m">(</a><b>reinterpret_cast</b>&lt;<span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>*&gt;(<a class="local col3 ref" href="#233data" title='data' data-ref="233data" data-ref-filename="233data">data</a>), <a class="local col4 ref" href="#234length" title='length' data-ref="234length" data-ref-filename="234length">length</a>);</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td>    <i>// PostsToTransportThread protects against the transport being</i></td></tr>
<tr><th id="433">433</th><td><i>    // simultaneously deregistered/deleted, since this callback may come from</i></td></tr>
<tr><th id="434">434</th><td><i>    // the SCTP timer thread and thus race with the network thread.</i></td></tr>
<tr><th id="435">435</th><td>    <em>bool</em> <dfn class="local col8 decl" id="238found" title='found' data-type='bool' data-ref="238found" data-ref-filename="238found">found</dfn> = <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>-&gt;<a class="local col9 ref fn" href="#239PostToTransportThread" title='PostToTransportThread' data-ref="239PostToTransportThread" data-ref-filename="239PostToTransportThread">PostToTransportThread</a>(</td></tr>
<tr><th id="436">436</th><td>        <b>reinterpret_cast</b>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt;(<a class="local col2 ref" href="#232addr" title='addr' data-ref="232addr" data-ref-filename="232addr">addr</a>), [<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZN3rtc17CopyOnWriteBufferC1ERKS0_" title='rtc::CopyOnWriteBuffer::CopyOnWriteBuffer' data-ref="_ZN3rtc17CopyOnWriteBufferC1ERKS0_" data-ref-filename="_ZN3rtc17CopyOnWriteBufferC1ERKS0_"><a class="local col7 ref" href="#237buf" title='buf' data-ref="237buf" data-ref-filename="237buf">buf</a></a>](<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="local col0 decl" id="240transport" title='transport' data-type='cricket::UsrsctpTransport *' data-ref="240transport" data-ref-filename="240transport">transport</dfn>) {</td></tr>
<tr><th id="437">437</th><td>          <a class="local col0 ref" href="#240transport" title='transport' data-ref="240transport" data-ref-filename="240transport">transport</a>-&gt;<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport25OnPacketFromSctpToNetworkERKN3rtc17CopyOnWriteBufferE" title='cricket::UsrsctpTransport::OnPacketFromSctpToNetwork' data-ref="_ZN7cricket16UsrsctpTransport25OnPacketFromSctpToNetworkERKN3rtc17CopyOnWriteBufferE" data-ref-filename="_ZN7cricket16UsrsctpTransport25OnPacketFromSctpToNetworkERKN3rtc17CopyOnWriteBufferE">OnPacketFromSctpToNetwork</a>(<a class="local col7 ref" href="#237buf" title='buf' data-ref="237buf" data-ref-filename="237buf">buf</a>);</td></tr>
<tr><th id="438">438</th><td>        });</td></tr>
<tr><th id="439">439</th><td>    <b>if</b> (!<a class="local col8 ref" href="#238found" title='found' data-ref="238found" data-ref-filename="238found">found</a>) {</td></tr>
<tr><th id="440">440</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 440, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="441">441</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"OnSctpOutboundPacket: Failed to get transport for socket ID "</q></td></tr>
<tr><th id="442">442</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col2 ref" href="#232addr" title='addr' data-ref="232addr" data-ref-filename="232addr">addr</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; possibly was already destroyed."</q>;</td></tr>
<tr><th id="443">443</th><td>      <b>return</b> <span class="macro" title="22" data-ref="_M/EINVAL">EINVAL</span>;</td></tr>
<tr><th id="444">444</th><td>    }</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="447">447</th><td>  }</td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td>  <i>// This is the callback called from usrsctp when data has been received, after</i></td></tr>
<tr><th id="450">450</th><td><i>  // a packet has been interpreted and parsed by usrsctp and found to contain</i></td></tr>
<tr><th id="451">451</th><td><i>  // payload data. It is called by a usrsctp thread. It is assumed this function</i></td></tr>
<tr><th id="452">452</th><td><i>  // will free the memory used by 'data'.</i></td></tr>
<tr><th id="453">453</th><td>  <em>static</em> <em>int</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19OnSctpInboundPacketEP6socket14sctp_sockstorePvm12sctp_rcvinfoiS5_" title='cricket::UsrsctpTransport::UsrSctpWrapper::OnSctpInboundPacket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19OnSctpInboundPacketEP6socket14sctp_sockstorePvm12sctp_rcvinfoiS5_" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19OnSctpInboundPacketEP6socket14sctp_sockstorePvm12sctp_rcvinfoiS5_">OnSctpInboundPacket</dfn>(<b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#socket" title='socket' data-ref="socket" data-ref-filename="socket">socket</a>* <dfn class="local col1 decl" id="241sock" title='sock' data-type='struct socket *' data-ref="241sock" data-ref-filename="241sock">sock</dfn>,</td></tr>
<tr><th id="454">454</th><td>                                 <b>union</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sockstore" title='sctp_sockstore' data-ref="sctp_sockstore" data-ref-filename="sctp_sockstore">sctp_sockstore</a> <dfn class="local col2 decl" id="242addr" title='addr' data-type='union sctp_sockstore' data-ref="242addr" data-ref-filename="242addr">addr</dfn>,</td></tr>
<tr><th id="455">455</th><td>                                 <em>void</em>* <dfn class="local col3 decl" id="243data" title='data' data-type='void *' data-ref="243data" data-ref-filename="243data">data</dfn>,</td></tr>
<tr><th id="456">456</th><td>                                 <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col4 decl" id="244length" title='length' data-type='size_t' data-ref="244length" data-ref-filename="244length">length</dfn>,</td></tr>
<tr><th id="457">457</th><td>                                 <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo" title='sctp_rcvinfo' data-ref="sctp_rcvinfo" data-ref-filename="sctp_rcvinfo">sctp_rcvinfo</a> <dfn class="local col5 decl" id="245rcv" title='rcv' data-type='struct sctp_rcvinfo' data-ref="245rcv" data-ref-filename="245rcv">rcv</dfn>,</td></tr>
<tr><th id="458">458</th><td>                                 <em>int</em> <dfn class="local col6 decl" id="246flags" title='flags' data-type='int' data-ref="246flags" data-ref-filename="246flags">flags</dfn>,</td></tr>
<tr><th id="459">459</th><td>                                 <em>void</em>* <dfn class="local col7 decl" id="247ulp_info" title='ulp_info' data-type='void *' data-ref="247ulp_info" data-ref-filename="247ulp_info">ulp_info</dfn>) {</td></tr>
<tr><th id="460">460</th><td>    <a class="tu type" href="#(anonymousnamespace)::AutoFreedPointer" title='(anonymous namespace)::AutoFreedPointer' data-ref="(anonymousnamespace)::AutoFreedPointer" data-ref-filename="(anonymousnamespace)..AutoFreedPointer">AutoFreedPointer</a> <dfn class="local col8 decl" id="248owned_data" title='owned_data' data-type='(anonymous namespace)::AutoFreedPointer' data-ref="248owned_data" data-ref-filename="248owned_data">owned_data</dfn><a class="tu ref fn" href="#_ZN12_GLOBAL__N_116AutoFreedPointerC1EPv" title='(anonymous namespace)::AutoFreedPointer::AutoFreedPointer' data-use='c' data-ref="_ZN12_GLOBAL__N_116AutoFreedPointerC1EPv" data-ref-filename="_ZN12_GLOBAL__N_116AutoFreedPointerC1EPv">(</a><a class="local col3 ref" href="#243data" title='data' data-ref="243data" data-ref-filename="243data">data</a>);</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>    <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt; <dfn class="local col9 decl" id="249id" title='id' data-type='absl::optional&lt;uintptr_t&gt;' data-ref="249id" data-ref-filename="249id">id</dfn> = <a class="member fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" title='cricket::UsrsctpTransport::UsrSctpWrapper::GetTransportIdFromSocket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket">GetTransportIdFromSocket</a>(<a class="local col1 ref" href="#241sock" title='sock' data-ref="241sock" data-ref-filename="241sock">sock</a>);</td></tr>
<tr><th id="463">463</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::optional::operator bool' data-ref="_ZNKSt3__18optionalcvbEv" data-ref-filename="_ZNKSt3__18optionalcvbEv"></span><a class="local col9 ref" href="#249id" title='id' data-ref="249id" data-ref-filename="249id">id</a>) {</td></tr>
<tr><th id="464">464</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 464, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="465">465</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"OnSctpInboundPacket: Failed to get transport ID from socket "</q></td></tr>
<tr><th id="466">466</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col1 ref" href="#241sock" title='sock' data-ref="241sock" data-ref-filename="241sock">sock</a>;</td></tr>
<tr><th id="467">467</th><td>      <b>return</b> <a class="tu ref" href="#(anonymousnamespace)::kSctpErrorReturn" title='(anonymous namespace)::kSctpErrorReturn' data-use='r' data-ref="(anonymousnamespace)::kSctpErrorReturn" data-ref-filename="(anonymousnamespace)..kSctpErrorReturn">kSctpErrorReturn</a>;</td></tr>
<tr><th id="468">468</th><td>    }</td></tr>
<tr><th id="469">469</th><td></td></tr>
<tr><th id="470">470</th><td>    <b>if</b> (!<a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>) {</td></tr>
<tr><th id="471">471</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 471, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="472">472</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"OnSctpInboundPacket called after usrsctp uninitialized?"</q>;</td></tr>
<tr><th id="473">473</th><td>      <b>return</b> <a class="tu ref" href="#(anonymousnamespace)::kSctpErrorReturn" title='(anonymous namespace)::kSctpErrorReturn' data-use='r' data-ref="(anonymousnamespace)::kSctpErrorReturn" data-ref-filename="(anonymousnamespace)..kSctpErrorReturn">kSctpErrorReturn</a>;</td></tr>
<tr><th id="474">474</th><td>    }</td></tr>
<tr><th id="475">475</th><td>    <i>// PostsToTransportThread protects against the transport being</i></td></tr>
<tr><th id="476">476</th><td><i>    // simultaneously deregistered/deleted, since this callback may come from</i></td></tr>
<tr><th id="477">477</th><td><i>    // the SCTP timer thread and thus race with the network thread.</i></td></tr>
<tr><th id="478">478</th><td>    <em>bool</em> <dfn class="local col0 decl" id="250found" title='found' data-type='bool' data-ref="250found" data-ref-filename="250found">found</dfn> = <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>-&gt;<a class="local col9 ref fn" href="#239PostToTransportThread" title='PostToTransportThread' data-ref="239PostToTransportThread" data-ref-filename="239PostToTransportThread">PostToTransportThread</a>(</td></tr>
<tr><th id="479">479</th><td>        <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNRSt3__18optionaldeEv" data-ref-filename="_ZNRSt3__18optionaldeEv">*</span><a class="local col9 ref" href="#249id" title='id' data-ref="249id" data-ref-filename="249id">id</a>, [<dfn class="local col1 decl" id="251owned_data" title='owned_data' data-type='(anonymous namespace)::AutoFreedPointer' data-ref="251owned_data" data-ref-filename="251owned_data">owned_data</dfn><a class="tu ref fn" href="#_ZN12_GLOBAL__N_116AutoFreedPointerC1EOS0_" title='(anonymous namespace)::AutoFreedPointer::AutoFreedPointer' data-use='c' data-ref="_ZN12_GLOBAL__N_116AutoFreedPointerC1EOS0_" data-ref-filename="_ZN12_GLOBAL__N_116AutoFreedPointerC1EOS0_">{</a><span class="namespace">std::</span><span class='ref fn' title='std::__1::move' data-ref="_ZNSt3__1L4moveEOT_" data-ref-filename="_ZNSt3__1L4moveEOT_">move</span>(<span class='refarg'><a class="local col8 ref" href="#248owned_data" title='owned_data' data-ref="248owned_data" data-ref-filename="248owned_data">owned_data</a></span>)}, <a class="local col4 ref" href="#244length" title='length' data-ref="244length" data-ref-filename="244length">length</a>, <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#158" title='sctp_rcvinfo::sctp_rcvinfo' data-ref="_ZN12sctp_rcvinfoC1ERKS_" data-ref-filename="_ZN12sctp_rcvinfoC1ERKS_"><a class="local col5 ref" href="#245rcv" title='rcv' data-ref="245rcv" data-ref-filename="245rcv">rcv</a></a>,</td></tr>
<tr><th id="480">480</th><td>              <a class="local col6 ref" href="#246flags" title='flags' data-ref="246flags" data-ref-filename="246flags">flags</a>](<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="local col2 decl" id="252transport" title='transport' data-type='cricket::UsrsctpTransport *' data-ref="252transport" data-ref-filename="252transport">transport</dfn>) {</td></tr>
<tr><th id="481">481</th><td>          <a class="local col2 ref" href="#252transport" title='transport' data-ref="252transport" data-ref-filename="252transport">transport</a>-&gt;<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi" title='cricket::UsrsctpTransport::OnDataOrNotificationFromSctp' data-ref="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi" data-ref-filename="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi">OnDataOrNotificationFromSctp</a>(<a class="local col1 ref" href="#251owned_data" title='owned_data' data-ref="251owned_data" data-ref-filename="251owned_data">owned_data</a>.<a class="tu ref fn" href="#_ZNK12_GLOBAL__N_116AutoFreedPointer3getEv" title='(anonymous namespace)::AutoFreedPointer::get' data-use='c' data-ref="_ZNK12_GLOBAL__N_116AutoFreedPointer3getEv" data-ref-filename="_ZNK12_GLOBAL__N_116AutoFreedPointer3getEv">get</a>(), <a class="local col4 ref" href="#244length" title='length' data-ref="244length" data-ref-filename="244length">length</a>, <a class="ref fn fake" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#158" title='sctp_rcvinfo::sctp_rcvinfo' data-ref="_ZN12sctp_rcvinfoC1ERKS_" data-ref-filename="_ZN12sctp_rcvinfoC1ERKS_"></a><a class="local col5 ref" href="#245rcv" title='rcv' data-ref="245rcv" data-ref-filename="245rcv">rcv</a>,</td></tr>
<tr><th id="482">482</th><td>                                                  <a class="local col6 ref" href="#246flags" title='flags' data-ref="246flags" data-ref-filename="246flags">flags</a>);</td></tr>
<tr><th id="483">483</th><td>        });</td></tr>
<tr><th id="484">484</th><td>    <b>if</b> (!<a class="local col0 ref" href="#250found" title='found' data-ref="250found" data-ref-filename="250found">found</a>) {</td></tr>
<tr><th id="485">485</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 485, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="486">486</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"OnSctpInboundPacket: Failed to get transport for socket ID "</q></td></tr>
<tr><th id="487">487</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNRSt3__18optionaldeEv" data-ref-filename="_ZNRSt3__18optionaldeEv">*</span><a class="local col9 ref" href="#249id" title='id' data-ref="249id" data-ref-filename="249id">id</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; possibly was already destroyed."</q>;</td></tr>
<tr><th id="488">488</th><td>      <b>return</b> <a class="tu ref" href="#(anonymousnamespace)::kSctpErrorReturn" title='(anonymous namespace)::kSctpErrorReturn' data-use='r' data-ref="(anonymousnamespace)::kSctpErrorReturn" data-ref-filename="(anonymousnamespace)..kSctpErrorReturn">kSctpErrorReturn</a>;</td></tr>
<tr><th id="489">489</th><td>    }</td></tr>
<tr><th id="490">490</th><td>    <b>return</b> <a class="tu ref" href="#(anonymousnamespace)::kSctpSuccessReturn" title='(anonymous namespace)::kSctpSuccessReturn' data-use='r' data-ref="(anonymousnamespace)::kSctpSuccessReturn" data-ref-filename="(anonymousnamespace)..kSctpSuccessReturn">kSctpSuccessReturn</a>;</td></tr>
<tr><th id="491">491</th><td>  }</td></tr>
<tr><th id="492">492</th><td></td></tr>
<tr><th id="493">493</th><td>  <em>static</em> <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt; <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" title='cricket::UsrsctpTransport::UsrSctpWrapper::GetTransportIdFromSocket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket">GetTransportIdFromSocket</dfn>(</td></tr>
<tr><th id="494">494</th><td>      <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#socket" title='socket' data-ref="socket" data-ref-filename="socket">socket</a>* <dfn class="local col3 decl" id="253sock" title='sock' data-type='struct socket *' data-ref="253sock" data-ref-filename="253sock">sock</dfn>) {</td></tr>
<tr><th id="495">495</th><td>    <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt; <span class='ref fn fake' title='std::__1::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt3__18optionalC1Ev" data-ref-filename="_ZNSt3__18optionalC1Ev"></span><dfn class="local col4 decl" id="254ret" title='ret' data-type='absl::optional&lt;uintptr_t&gt;' data-ref="254ret" data-ref-filename="254ret">ret</dfn>;</td></tr>
<tr><th id="496">496</th><td>    <b>struct</b> <span class='type' title='sockaddr' data-ref="sockaddr" data-ref-filename="sockaddr">sockaddr</span>* <dfn class="local col5 decl" id="255addrs" title='addrs' data-type='struct sockaddr *' data-ref="255addrs" data-ref-filename="255addrs">addrs</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="497">497</th><td>    <em>int</em> <dfn class="local col6 decl" id="256naddrs" title='naddrs' data-type='int' data-ref="256naddrs" data-ref-filename="256naddrs">naddrs</dfn> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_getladdrs" title='usrsctp_getladdrs' data-ref="usrsctp_getladdrs" data-ref-filename="usrsctp_getladdrs">usrsctp_getladdrs</a>(<a class="local col3 ref" href="#253sock" title='sock' data-ref="253sock" data-ref-filename="253sock">sock</a>, <var>0</var>, &amp;<a class="local col5 ref" href="#255addrs" title='addrs' data-ref="255addrs" data-ref-filename="255addrs">addrs</a>);</td></tr>
<tr><th id="498">498</th><td>    <b>if</b> (<a class="local col6 ref" href="#256naddrs" title='naddrs' data-ref="256naddrs" data-ref-filename="256naddrs">naddrs</a> &lt;= <var>0</var> || <a class="local col5 ref" href="#255addrs" title='addrs' data-ref="255addrs" data-ref-filename="255addrs">addrs</a>[<var>0</var>].<span class='ref field' title='sockaddr::sa_family' data-ref="sockaddr::sa_family" data-ref-filename="sockaddr..sa_family">sa_family</span> != <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#118" title="123" data-ref="_M/AF_CONN">AF_CONN</a>) {</td></tr>
<tr><th id="499">499</th><td>      <b>return</b> <a class="local col4 ref" href="#254ret" title='ret' data-ref="254ret" data-ref-filename="254ret">ret</a>;</td></tr>
<tr><th id="500">500</th><td>    }</td></tr>
<tr><th id="501">501</th><td>    <i>// usrsctp_getladdrs() returns the addresses bound to this socket, which</i></td></tr>
<tr><th id="502">502</th><td><i>    // contains the UsrsctpTransport id as sconn_addr.  Read the id,</i></td></tr>
<tr><th id="503">503</th><td><i>    // then free the list of addresses once we have the pointer.  We only open</i></td></tr>
<tr><th id="504">504</th><td><i>    // AF_CONN sockets, and they should all have the sconn_addr set to the</i></td></tr>
<tr><th id="505">505</th><td><i>    // id of the transport that created them, so [0] is as good as any other.</i></td></tr>
<tr><th id="506">506</th><td>    <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a>* <dfn class="local col7 decl" id="257sconn" title='sconn' data-type='struct sockaddr_conn *' data-ref="257sconn" data-ref-filename="257sconn">sconn</dfn> =</td></tr>
<tr><th id="507">507</th><td>        <b>reinterpret_cast</b>&lt;<b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a>*&gt;(&amp;<a class="local col5 ref" href="#255addrs" title='addrs' data-ref="255addrs" data-ref-filename="255addrs">addrs</a>[<var>0</var>]);</td></tr>
<tr><th id="508">508</th><td>    <a class="local col4 ref" href="#254ret" title='ret' data-ref="254ret" data-ref-filename="254ret">ret</a> <span class='ref fn' title='std::__1::optional::operator=' data-ref="_ZNSt3__18optionalaSEONS_8optionalIT_EE" data-ref-filename="_ZNSt3__18optionalaSEONS_8optionalIT_EE">=</span> <span class='ref fn fake' title='std::__1::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt3__18optionalC1EOTL0__" data-ref-filename="_ZNSt3__18optionalC1EOTL0__"></span><b>reinterpret_cast</b>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt;(<a class="local col7 ref" href="#257sconn" title='sconn' data-ref="257sconn" data-ref-filename="257sconn">sconn</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn::sconn_addr" title='sockaddr_conn::sconn_addr' data-ref="sockaddr_conn::sconn_addr" data-ref-filename="sockaddr_conn..sconn_addr">sconn_addr</a>);</td></tr>
<tr><th id="509">509</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_freeladdrs" title='usrsctp_freeladdrs' data-ref="usrsctp_freeladdrs" data-ref-filename="usrsctp_freeladdrs">usrsctp_freeladdrs</a>(<a class="local col5 ref" href="#255addrs" title='addrs' data-ref="255addrs" data-ref-filename="255addrs">addrs</a>);</td></tr>
<tr><th id="510">510</th><td></td></tr>
<tr><th id="511">511</th><td>    <b>return</b> <a class="local col4 ref" href="#254ret" title='ret' data-ref="254ret" data-ref-filename="254ret">ret</a>;</td></tr>
<tr><th id="512">512</th><td>  }</td></tr>
<tr><th id="513">513</th><td></td></tr>
<tr><th id="514">514</th><td>  <i>// TODO(crbug.com/webrtc/11899): This is a legacy callback signature, remove</i></td></tr>
<tr><th id="515">515</th><td><i>  // when usrsctp is updated.</i></td></tr>
<tr><th id="516">516</th><td>  <em>static</em> <em>int</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketj" title='cricket::UsrsctpTransport::UsrSctpWrapper::SendThresholdCallback' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketj" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketj">SendThresholdCallback</dfn>(<b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#socket" title='socket' data-ref="socket" data-ref-filename="socket">socket</a>* <dfn class="local col8 decl" id="258sock" title='sock' data-type='struct socket *' data-ref="258sock" data-ref-filename="258sock">sock</dfn>, <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col9 decl" id="259sb_free" title='sb_free' data-type='uint32_t' data-ref="259sb_free" data-ref-filename="259sb_free">sb_free</dfn>) {</td></tr>
<tr><th id="517">517</th><td>    <i>// Fired on our I/O thread. UsrsctpTransport::OnPacketReceived() gets</i></td></tr>
<tr><th id="518">518</th><td><i>    // a packet containing acknowledgments, which goes into usrsctp_conninput,</i></td></tr>
<tr><th id="519">519</th><td><i>    // and then back here.</i></td></tr>
<tr><th id="520">520</th><td>    <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt; <dfn class="local col0 decl" id="260id" title='id' data-type='absl::optional&lt;uintptr_t&gt;' data-ref="260id" data-ref-filename="260id">id</dfn> = <a class="member fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" title='cricket::UsrsctpTransport::UsrSctpWrapper::GetTransportIdFromSocket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket">GetTransportIdFromSocket</a>(<a class="local col8 ref" href="#258sock" title='sock' data-ref="258sock" data-ref-filename="258sock">sock</a>);</td></tr>
<tr><th id="521">521</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::optional::operator bool' data-ref="_ZNKSt3__18optionalcvbEv" data-ref-filename="_ZNKSt3__18optionalcvbEv"></span><a class="local col0 ref" href="#260id" title='id' data-ref="260id" data-ref-filename="260id">id</a>) {</td></tr>
<tr><th id="522">522</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 522, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="523">523</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendThresholdCallback: Failed to get transport ID from socket "</q></td></tr>
<tr><th id="524">524</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col8 ref" href="#258sock" title='sock' data-ref="258sock" data-ref-filename="258sock">sock</a>;</td></tr>
<tr><th id="525">525</th><td>      <b>return</b> <var>0</var>;</td></tr>
<tr><th id="526">526</th><td>    }</td></tr>
<tr><th id="527">527</th><td>    <b>if</b> (!<a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>) {</td></tr>
<tr><th id="528">528</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 528, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="529">529</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendThresholdCallback called after usrsctp uninitialized?"</q>;</td></tr>
<tr><th id="530">530</th><td>      <b>return</b> <var>0</var>;</td></tr>
<tr><th id="531">531</th><td>    }</td></tr>
<tr><th id="532">532</th><td>    <em>bool</em> <dfn class="local col1 decl" id="261found" title='found' data-type='bool' data-ref="261found" data-ref-filename="261found">found</dfn> = <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>-&gt;<a class="local col9 ref fn" href="#239PostToTransportThread" title='PostToTransportThread' data-ref="239PostToTransportThread" data-ref-filename="239PostToTransportThread">PostToTransportThread</a>(</td></tr>
<tr><th id="533">533</th><td>        <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNRSt3__18optionaldeEv" data-ref-filename="_ZNRSt3__18optionaldeEv">*</span><a class="local col0 ref" href="#260id" title='id' data-ref="260id" data-ref-filename="260id">id</a>, [](<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="local col2 decl" id="262transport" title='transport' data-type='cricket::UsrsctpTransport *' data-ref="262transport" data-ref-filename="262transport">transport</dfn>) {</td></tr>
<tr><th id="534">534</th><td>          <a class="local col2 ref" href="#262transport" title='transport' data-ref="262transport" data-ref-filename="262transport">transport</a>-&gt;<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv" title='cricket::UsrsctpTransport::OnSendThresholdCallback' data-ref="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv" data-ref-filename="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv">OnSendThresholdCallback</a>();</td></tr>
<tr><th id="535">535</th><td>        });</td></tr>
<tr><th id="536">536</th><td>    <b>if</b> (!<a class="local col1 ref" href="#261found" title='found' data-ref="261found" data-ref-filename="261found">found</a>) {</td></tr>
<tr><th id="537">537</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 537, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="538">538</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendThresholdCallback: Failed to get transport for socket ID "</q></td></tr>
<tr><th id="539">539</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNRSt3__18optionaldeEv" data-ref-filename="_ZNRSt3__18optionaldeEv">*</span><a class="local col0 ref" href="#260id" title='id' data-ref="260id" data-ref-filename="260id">id</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; possibly was already destroyed."</q>;</td></tr>
<tr><th id="540">540</th><td>    }</td></tr>
<tr><th id="541">541</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="542">542</th><td>  }</td></tr>
<tr><th id="543">543</th><td></td></tr>
<tr><th id="544">544</th><td>  <em>static</em> <em>int</em> <dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketjPv" title='cricket::UsrsctpTransport::UsrSctpWrapper::SendThresholdCallback' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketjPv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketjPv">SendThresholdCallback</dfn>(<b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#socket" title='socket' data-ref="socket" data-ref-filename="socket">socket</a>* <dfn class="local col3 decl" id="263sock" title='sock' data-type='struct socket *' data-ref="263sock" data-ref-filename="263sock">sock</dfn>,</td></tr>
<tr><th id="545">545</th><td>                                   <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col4 decl" id="264sb_free" title='sb_free' data-type='uint32_t' data-ref="264sb_free" data-ref-filename="264sb_free">sb_free</dfn>,</td></tr>
<tr><th id="546">546</th><td>                                   <em>void</em>* <dfn class="local col5 decl" id="265ulp_info" title='ulp_info' data-type='void *' data-ref="265ulp_info" data-ref-filename="265ulp_info">ulp_info</dfn>) {</td></tr>
<tr><th id="547">547</th><td>    <i>// Fired on our I/O thread. UsrsctpTransport::OnPacketReceived() gets</i></td></tr>
<tr><th id="548">548</th><td><i>    // a packet containing acknowledgments, which goes into usrsctp_conninput,</i></td></tr>
<tr><th id="549">549</th><td><i>    // and then back here.</i></td></tr>
<tr><th id="550">550</th><td>    <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>&gt; <dfn class="local col6 decl" id="266id" title='id' data-type='absl::optional&lt;uintptr_t&gt;' data-ref="266id" data-ref-filename="266id">id</dfn> = <a class="member fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" title='cricket::UsrsctpTransport::UsrSctpWrapper::GetTransportIdFromSocket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper24GetTransportIdFromSocketEP6socket">GetTransportIdFromSocket</a>(<a class="local col3 ref" href="#263sock" title='sock' data-ref="263sock" data-ref-filename="263sock">sock</a>);</td></tr>
<tr><th id="551">551</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::optional::operator bool' data-ref="_ZNKSt3__18optionalcvbEv" data-ref-filename="_ZNKSt3__18optionalcvbEv"></span><a class="local col6 ref" href="#266id" title='id' data-ref="266id" data-ref-filename="266id">id</a>) {</td></tr>
<tr><th id="552">552</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 552, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="553">553</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendThresholdCallback: Failed to get transport ID from socket "</q></td></tr>
<tr><th id="554">554</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="local col3 ref" href="#263sock" title='sock' data-ref="263sock" data-ref-filename="263sock">sock</a>;</td></tr>
<tr><th id="555">555</th><td>      <b>return</b> <var>0</var>;</td></tr>
<tr><th id="556">556</th><td>    }</td></tr>
<tr><th id="557">557</th><td>    <b>if</b> (!<a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>) {</td></tr>
<tr><th id="558">558</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 558, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="559">559</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendThresholdCallback called after usrsctp uninitialized?"</q>;</td></tr>
<tr><th id="560">560</th><td>      <b>return</b> <var>0</var>;</td></tr>
<tr><th id="561">561</th><td>    }</td></tr>
<tr><th id="562">562</th><td>    <em>bool</em> <dfn class="local col7 decl" id="267found" title='found' data-type='bool' data-ref="267found" data-ref-filename="267found">found</dfn> = <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>-&gt;<a class="local col9 ref fn" href="#239PostToTransportThread" title='PostToTransportThread' data-ref="239PostToTransportThread" data-ref-filename="239PostToTransportThread">PostToTransportThread</a>(</td></tr>
<tr><th id="563">563</th><td>        <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNRSt3__18optionaldeEv" data-ref-filename="_ZNRSt3__18optionaldeEv">*</span><a class="local col6 ref" href="#266id" title='id' data-ref="266id" data-ref-filename="266id">id</a>, [](<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>* <dfn class="local col8 decl" id="268transport" title='transport' data-type='cricket::UsrsctpTransport *' data-ref="268transport" data-ref-filename="268transport">transport</dfn>) {</td></tr>
<tr><th id="564">564</th><td>          <a class="local col8 ref" href="#268transport" title='transport' data-ref="268transport" data-ref-filename="268transport">transport</a>-&gt;<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv" title='cricket::UsrsctpTransport::OnSendThresholdCallback' data-ref="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv" data-ref-filename="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv">OnSendThresholdCallback</a>();</td></tr>
<tr><th id="565">565</th><td>        });</td></tr>
<tr><th id="566">566</th><td>    <b>if</b> (!<a class="local col7 ref" href="#267found" title='found' data-ref="267found" data-ref-filename="267found">found</a>) {</td></tr>
<tr><th id="567">567</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 567, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="568">568</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendThresholdCallback: Failed to get transport for socket ID "</q></td></tr>
<tr><th id="569">569</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNRSt3__18optionaldeEv" data-ref-filename="_ZNRSt3__18optionaldeEv">*</span><a class="local col6 ref" href="#266id" title='id' data-ref="266id" data-ref-filename="266id">id</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"; possibly was already destroyed."</q>;</td></tr>
<tr><th id="570">570</th><td>    }</td></tr>
<tr><th id="571">571</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="572">572</th><td>  }</td></tr>
<tr><th id="573">573</th><td>};</td></tr>
<tr><th id="574">574</th><td></td></tr>
<tr><th id="575">575</th><td><a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransportC1EPN3rtc6ThreadEPNS1_23PacketTransportInternalE" title='cricket::UsrsctpTransport::UsrsctpTransport' data-ref="_ZN7cricket16UsrsctpTransportC1EPN3rtc6ThreadEPNS1_23PacketTransportInternalE" data-ref-filename="_ZN7cricket16UsrsctpTransportC1EPN3rtc6ThreadEPNS1_23PacketTransportInternalE">UsrsctpTransport</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../rtc_base/thread.h.html#rtc::Thread" title='rtc::Thread' data-ref="rtc::Thread" data-ref-filename="rtc..Thread">Thread</a>* <dfn class="local col9 decl" id="269network_thread" title='network_thread' data-type='rtc::Thread *' data-ref="269network_thread" data-ref-filename="269network_thread">network_thread</dfn>,</td></tr>
<tr><th id="576">576</th><td>                                   <span class="namespace">rtc::</span><a class="type" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal" title='rtc::PacketTransportInternal' data-ref="rtc::PacketTransportInternal" data-ref-filename="rtc..PacketTransportInternal">PacketTransportInternal</a>* <dfn class="local col0 decl" id="270transport" title='transport' data-type='rtc::PacketTransportInternal *' data-ref="270transport" data-ref-filename="270transport">transport</dfn>)</td></tr>
<tr><th id="577">577</th><td>    : <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>(<a class="local col9 ref" href="#269network_thread" title='network_thread' data-ref="269network_thread" data-ref-filename="269network_thread">network_thread</a>),</td></tr>
<tr><th id="578">578</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>(<a class="local col0 ref" href="#270transport" title='transport' data-ref="270transport" data-ref-filename="270transport">transport</a>),</td></tr>
<tr><th id="579">579</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::was_ever_writable_" title='cricket::UsrsctpTransport::was_ever_writable_' data-ref="cricket::UsrsctpTransport::was_ever_writable_" data-ref-filename="cricket..UsrsctpTransport..was_ever_writable_">was_ever_writable_</a>(<a class="local col0 ref" href="#270transport" title='transport' data-ref="270transport" data-ref-filename="270transport">transport</a> ? <a class="local col0 ref" href="#270transport" title='transport' data-ref="270transport" data-ref-filename="270transport">transport</a>-&gt;<a class="virtual ref fn" href="../../p2p/base/packet_transport_internal.h.html#_ZNK3rtc23PacketTransportInternal8writableEv" title='rtc::PacketTransportInternal::writable' data-ref="_ZNK3rtc23PacketTransportInternal8writableEv" data-ref-filename="_ZNK3rtc23PacketTransportInternal8writableEv">writable</a>() : <b>false</b>) {</td></tr>
<tr><th id="580">580</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#429" title="(network_thread_) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 580, &quot;network_thread_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="581">581</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 581, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="582">582</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv" title='cricket::UsrsctpTransport::ConnectTransportSignals' data-ref="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv">ConnectTransportSignals</a>();</td></tr>
<tr><th id="583">583</th><td>}</td></tr>
<tr><th id="584">584</th><td></td></tr>
<tr><th id="585">585</th><td><a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransportD1Ev" title='cricket::UsrsctpTransport::~UsrsctpTransport' data-ref="_ZN7cricket16UsrsctpTransportD1Ev" data-ref-filename="_ZN7cricket16UsrsctpTransportD1Ev">~UsrsctpTransport</dfn>() {</td></tr>
<tr><th id="586">586</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 586, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="587">587</th><td>  <i>// Close abruptly; no reset procedure.</i></td></tr>
<tr><th id="588">588</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" title='cricket::UsrsctpTransport::CloseSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv">CloseSctpSocket</a>();</td></tr>
<tr><th id="589">589</th><td>  <i>// It's not strictly necessary to reset these fields to nullptr,</i></td></tr>
<tr><th id="590">590</th><td><i>  // but having these fields set to nullptr is a clear indication that</i></td></tr>
<tr><th id="591">591</th><td><i>  // object was destructed. There was a bug in usrsctp when it</i></td></tr>
<tr><th id="592">592</th><td><i>  // invoked OnSctpOutboundPacket callback for destructed UsrsctpTransport,</i></td></tr>
<tr><th id="593">593</th><td><i>  // which caused obscure SIGSEGV on access to these fields,</i></td></tr>
<tr><th id="594">594</th><td><i>  // having this fields set to nullptr will make it easier to understand</i></td></tr>
<tr><th id="595">595</th><td><i>  // that UsrsctpTransport was destructed and "use-after-free" bug happen.</i></td></tr>
<tr><th id="596">596</th><td><i>  // SIGSEGV error triggered on dereference these pointers will also</i></td></tr>
<tr><th id="597">597</th><td><i>  // be easier to understand due to 0x0 address. All of this assumes</i></td></tr>
<tr><th id="598">598</th><td><i>  // that ASAN is not enabled to detect "use-after-free", which is</i></td></tr>
<tr><th id="599">599</th><td><i>  // currently default configuration.</i></td></tr>
<tr><th id="600">600</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a> = <b>nullptr</b>;</td></tr>
<tr><th id="601">601</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a> = <b>nullptr</b>;</td></tr>
<tr><th id="602">602</th><td>}</td></tr>
<tr><th id="603">603</th><td></td></tr>
<tr><th id="604">604</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport16SetDtlsTransportEPN3rtc23PacketTransportInternalE" title='cricket::UsrsctpTransport::SetDtlsTransport' data-ref="_ZN7cricket16UsrsctpTransport16SetDtlsTransportEPN3rtc23PacketTransportInternalE" data-ref-filename="_ZN7cricket16UsrsctpTransport16SetDtlsTransportEPN3rtc23PacketTransportInternalE">SetDtlsTransport</dfn>(</td></tr>
<tr><th id="605">605</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal" title='rtc::PacketTransportInternal' data-ref="rtc::PacketTransportInternal" data-ref-filename="rtc..PacketTransportInternal">PacketTransportInternal</a>* <dfn class="local col1 decl" id="271transport" title='transport' data-type='rtc::PacketTransportInternal *' data-ref="271transport" data-ref-filename="271transport">transport</dfn>) {</td></tr>
<tr><th id="606">606</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 606, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="607">607</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport26DisconnectTransportSignalsEv" title='cricket::UsrsctpTransport::DisconnectTransportSignals' data-ref="_ZN7cricket16UsrsctpTransport26DisconnectTransportSignalsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport26DisconnectTransportSignalsEv">DisconnectTransportSignals</a>();</td></tr>
<tr><th id="608">608</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a> = <a class="local col1 ref" href="#271transport" title='transport' data-ref="271transport" data-ref-filename="271transport">transport</a>;</td></tr>
<tr><th id="609">609</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv" title='cricket::UsrsctpTransport::ConnectTransportSignals' data-ref="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv">ConnectTransportSignals</a>();</td></tr>
<tr><th id="610">610</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::was_ever_writable_" title='cricket::UsrsctpTransport::was_ever_writable_' data-ref="cricket::UsrsctpTransport::was_ever_writable_" data-ref-filename="cricket..UsrsctpTransport..was_ever_writable_">was_ever_writable_</a> &amp;&amp; <a class="local col1 ref" href="#271transport" title='transport' data-ref="271transport" data-ref-filename="271transport">transport</a> &amp;&amp; <a class="local col1 ref" href="#271transport" title='transport' data-ref="271transport" data-ref-filename="271transport">transport</a>-&gt;<a class="virtual ref fn" href="../../p2p/base/packet_transport_internal.h.html#_ZNK3rtc23PacketTransportInternal8writableEv" title='rtc::PacketTransportInternal::writable' data-ref="_ZNK3rtc23PacketTransportInternal8writableEv" data-ref-filename="_ZNK3rtc23PacketTransportInternal8writableEv">writable</a>()) {</td></tr>
<tr><th id="611">611</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::was_ever_writable_" title='cricket::UsrsctpTransport::was_ever_writable_' data-ref="cricket::UsrsctpTransport::was_ever_writable_" data-ref-filename="cricket..UsrsctpTransport..was_ever_writable_">was_ever_writable_</a> = <b>true</b>;</td></tr>
<tr><th id="612">612</th><td>    <i>// New transport is writable, now we can start the SCTP connection if Start</i></td></tr>
<tr><th id="613">613</th><td><i>    // was called already.</i></td></tr>
<tr><th id="614">614</th><td>    <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::started_" title='cricket::UsrsctpTransport::started_' data-ref="cricket::UsrsctpTransport::started_" data-ref-filename="cricket..UsrsctpTransport..started_">started_</a>) {</td></tr>
<tr><th id="615">615</th><td>      <a class="macro" href="../../rtc_base/checks.h.html#429" title="(!sock_) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 615, &quot;!sock_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>);</td></tr>
<tr><th id="616">616</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport7ConnectEv" title='cricket::UsrsctpTransport::Connect' data-ref="_ZN7cricket16UsrsctpTransport7ConnectEv" data-ref-filename="_ZN7cricket16UsrsctpTransport7ConnectEv">Connect</a>();</td></tr>
<tr><th id="617">617</th><td>    }</td></tr>
<tr><th id="618">618</th><td>  }</td></tr>
<tr><th id="619">619</th><td>}</td></tr>
<tr><th id="620">620</th><td></td></tr>
<tr><th id="621">621</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport5StartEiii" title='cricket::UsrsctpTransport::Start' data-ref="_ZN7cricket16UsrsctpTransport5StartEiii" data-ref-filename="_ZN7cricket16UsrsctpTransport5StartEiii">Start</dfn>(<em>int</em> <dfn class="local col2 decl" id="272local_sctp_port" title='local_sctp_port' data-type='int' data-ref="272local_sctp_port" data-ref-filename="272local_sctp_port">local_sctp_port</dfn>,</td></tr>
<tr><th id="622">622</th><td>                             <em>int</em> <dfn class="local col3 decl" id="273remote_sctp_port" title='remote_sctp_port' data-type='int' data-ref="273remote_sctp_port" data-ref-filename="273remote_sctp_port">remote_sctp_port</dfn>,</td></tr>
<tr><th id="623">623</th><td>                             <em>int</em> <dfn class="local col4 decl" id="274max_message_size" title='max_message_size' data-type='int' data-ref="274max_message_size" data-ref-filename="274max_message_size">max_message_size</dfn>) {</td></tr>
<tr><th id="624">624</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 624, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="625">625</th><td>  <b>if</b> (<a class="local col2 ref" href="#272local_sctp_port" title='local_sctp_port' data-ref="272local_sctp_port" data-ref-filename="272local_sctp_port">local_sctp_port</a> == -<var>1</var>) {</td></tr>
<tr><th id="626">626</th><td>    <a class="local col2 ref" href="#272local_sctp_port" title='local_sctp_port' data-ref="272local_sctp_port" data-ref-filename="272local_sctp_port">local_sctp_port</a> = <a class="ref" href="sctp_transport_internal.h.html#cricket::kSctpDefaultPort" title='cricket::kSctpDefaultPort' data-ref="cricket::kSctpDefaultPort" data-ref-filename="cricket..kSctpDefaultPort">kSctpDefaultPort</a>;</td></tr>
<tr><th id="627">627</th><td>  }</td></tr>
<tr><th id="628">628</th><td>  <b>if</b> (<a class="local col3 ref" href="#273remote_sctp_port" title='remote_sctp_port' data-ref="273remote_sctp_port" data-ref-filename="273remote_sctp_port">remote_sctp_port</a> == -<var>1</var>) {</td></tr>
<tr><th id="629">629</th><td>    <a class="local col3 ref" href="#273remote_sctp_port" title='remote_sctp_port' data-ref="273remote_sctp_port" data-ref-filename="273remote_sctp_port">remote_sctp_port</a> = <a class="ref" href="sctp_transport_internal.h.html#cricket::kSctpDefaultPort" title='cricket::kSctpDefaultPort' data-ref="cricket::kSctpDefaultPort" data-ref-filename="cricket..kSctpDefaultPort">kSctpDefaultPort</a>;</td></tr>
<tr><th id="630">630</th><td>  }</td></tr>
<tr><th id="631">631</th><td>  <b>if</b> (<a class="local col4 ref" href="#274max_message_size" title='max_message_size' data-ref="274max_message_size" data-ref-filename="274max_message_size">max_message_size</a> &gt; <a class="ref" href="sctp_transport_internal.h.html#cricket::kSctpSendBufferSize" title='cricket::kSctpSendBufferSize' data-ref="cricket::kSctpSendBufferSize" data-ref-filename="cricket..kSctpSendBufferSize">kSctpSendBufferSize</a>) {</td></tr>
<tr><th id="632">632</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 632, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Max message size of "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#274max_message_size" title='max_message_size' data-ref="274max_message_size" data-ref-filename="274max_message_size">max_message_size</a></td></tr>
<tr><th id="633">633</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" is larger than send bufffer size "</q></td></tr>
<tr><th id="634">634</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="ref" href="sctp_transport_internal.h.html#cricket::kSctpSendBufferSize" title='cricket::kSctpSendBufferSize' data-ref="cricket::kSctpSendBufferSize" data-ref-filename="cricket..kSctpSendBufferSize">kSctpSendBufferSize</a>;</td></tr>
<tr><th id="635">635</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="636">636</th><td>  }</td></tr>
<tr><th id="637">637</th><td>  <b>if</b> (<a class="local col4 ref" href="#274max_message_size" title='max_message_size' data-ref="274max_message_size" data-ref-filename="274max_message_size">max_message_size</a> &lt; <var>1</var>) {</td></tr>
<tr><th id="638">638</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 638, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Max message size of "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#274max_message_size" title='max_message_size' data-ref="274max_message_size" data-ref-filename="274max_message_size">max_message_size</a></td></tr>
<tr><th id="639">639</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" is too small"</q>;</td></tr>
<tr><th id="640">640</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="641">641</th><td>  }</td></tr>
<tr><th id="642">642</th><td>  <i>// We allow changing max_message_size with a second Start() call,</i></td></tr>
<tr><th id="643">643</th><td><i>  // but not changing the port numbers.</i></td></tr>
<tr><th id="644">644</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::max_message_size_" title='cricket::UsrsctpTransport::max_message_size_' data-ref="cricket::UsrsctpTransport::max_message_size_" data-ref-filename="cricket..UsrsctpTransport..max_message_size_">max_message_size_</a> = <a class="local col4 ref" href="#274max_message_size" title='max_message_size' data-ref="274max_message_size" data-ref-filename="274max_message_size">max_message_size</a>;</td></tr>
<tr><th id="645">645</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::started_" title='cricket::UsrsctpTransport::started_' data-ref="cricket::UsrsctpTransport::started_" data-ref-filename="cricket..UsrsctpTransport..started_">started_</a>) {</td></tr>
<tr><th id="646">646</th><td>    <b>if</b> (<a class="local col2 ref" href="#272local_sctp_port" title='local_sctp_port' data-ref="272local_sctp_port" data-ref-filename="272local_sctp_port">local_sctp_port</a> != <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::local_port_" title='cricket::UsrsctpTransport::local_port_' data-ref="cricket::UsrsctpTransport::local_port_" data-ref-filename="cricket..UsrsctpTransport..local_port_">local_port_</a> || <a class="local col3 ref" href="#273remote_sctp_port" title='remote_sctp_port' data-ref="273remote_sctp_port" data-ref-filename="273remote_sctp_port">remote_sctp_port</a> != <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::remote_port_" title='cricket::UsrsctpTransport::remote_port_' data-ref="cricket::UsrsctpTransport::remote_port_" data-ref-filename="cricket..UsrsctpTransport..remote_port_">remote_port_</a>) {</td></tr>
<tr><th id="647">647</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 647, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="648">648</th><td>          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Can't change SCTP port after SCTP association formed."</q>;</td></tr>
<tr><th id="649">649</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="650">650</th><td>    }</td></tr>
<tr><th id="651">651</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="652">652</th><td>  }</td></tr>
<tr><th id="653">653</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::local_port_" title='cricket::UsrsctpTransport::local_port_' data-ref="cricket::UsrsctpTransport::local_port_" data-ref-filename="cricket..UsrsctpTransport..local_port_">local_port_</a> = <a class="local col2 ref" href="#272local_sctp_port" title='local_sctp_port' data-ref="272local_sctp_port" data-ref-filename="272local_sctp_port">local_sctp_port</a>;</td></tr>
<tr><th id="654">654</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::remote_port_" title='cricket::UsrsctpTransport::remote_port_' data-ref="cricket::UsrsctpTransport::remote_port_" data-ref-filename="cricket..UsrsctpTransport..remote_port_">remote_port_</a> = <a class="local col3 ref" href="#273remote_sctp_port" title='remote_sctp_port' data-ref="273remote_sctp_port" data-ref-filename="273remote_sctp_port">remote_sctp_port</a>;</td></tr>
<tr><th id="655">655</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::started_" title='cricket::UsrsctpTransport::started_' data-ref="cricket::UsrsctpTransport::started_" data-ref-filename="cricket..UsrsctpTransport..started_">started_</a> = <b>true</b>;</td></tr>
<tr><th id="656">656</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#429" title="(!sock_) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 656, &quot;!sock_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>);</td></tr>
<tr><th id="657">657</th><td>  <i>// Only try to connect if the DTLS transport has been writable before</i></td></tr>
<tr><th id="658">658</th><td><i>  // (indicating that the DTLS handshake is complete).</i></td></tr>
<tr><th id="659">659</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::was_ever_writable_" title='cricket::UsrsctpTransport::was_ever_writable_' data-ref="cricket::UsrsctpTransport::was_ever_writable_" data-ref-filename="cricket..UsrsctpTransport..was_ever_writable_">was_ever_writable_</a>) {</td></tr>
<tr><th id="660">660</th><td>    <b>return</b> <a class="member fn" href="#_ZN7cricket16UsrsctpTransport7ConnectEv" title='cricket::UsrsctpTransport::Connect' data-ref="_ZN7cricket16UsrsctpTransport7ConnectEv" data-ref-filename="_ZN7cricket16UsrsctpTransport7ConnectEv">Connect</a>();</td></tr>
<tr><th id="661">661</th><td>  }</td></tr>
<tr><th id="662">662</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="663">663</th><td>}</td></tr>
<tr><th id="664">664</th><td></td></tr>
<tr><th id="665">665</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport10OpenStreamEi" title='cricket::UsrsctpTransport::OpenStream' data-ref="_ZN7cricket16UsrsctpTransport10OpenStreamEi" data-ref-filename="_ZN7cricket16UsrsctpTransport10OpenStreamEi">OpenStream</dfn>(<em>int</em> <dfn class="local col5 decl" id="275sid" title='sid' data-type='int' data-ref="275sid" data-ref-filename="275sid">sid</dfn>) {</td></tr>
<tr><th id="666">666</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 666, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="667">667</th><td>  <b>if</b> (<a class="local col5 ref" href="#275sid" title='sid' data-ref="275sid" data-ref-filename="275sid">sid</a> &gt; <a class="ref" href="sctp_transport_internal.h.html#cricket::kMaxSctpSid" title='cricket::kMaxSctpSid' data-ref="cricket::kMaxSctpSid" data-ref-filename="cricket..kMaxSctpSid">kMaxSctpSid</a>) {</td></tr>
<tr><th id="668">668</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 668, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="669">669</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OpenStream(...): "</q></td></tr>
<tr><th id="670">670</th><td>                           <q>"Not adding data stream "</q></td></tr>
<tr><th id="671">671</th><td>                           <q>"with sid="</q></td></tr>
<tr><th id="672">672</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col5 ref" href="#275sid" title='sid' data-ref="275sid" data-ref-filename="275sid">sid</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" because sid is too high."</q>;</td></tr>
<tr><th id="673">673</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="674">674</th><td>  }</td></tr>
<tr><th id="675">675</th><td>  <em>auto</em> <dfn class="local col6 decl" id="276it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="276it" data-ref-filename="276it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::find' data-ref="_ZNSt3__13map4findERKT_" data-ref-filename="_ZNSt3__13map4findERKT_">find</span>(<a class="local col5 ref" href="#275sid" title='sid' data-ref="275sid" data-ref-filename="275sid">sid</a>);</td></tr>
<tr><th id="676">676</th><td>  <b>if</b> (<a class="local col6 ref" href="#276it" title='it' data-ref="276it" data-ref-filename="276it">it</a> <span class='ref fn' title='std::__1::operator==' data-ref="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_">==</span> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::end' data-ref="_ZNSt3__13map3endEv" data-ref-filename="_ZNSt3__13map3endEv">end</span>()) {</td></tr>
<tr><th id="677">677</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a><span class='ref fn' title='std::__1::map::operator[]' data-ref="_ZNSt3__13mapixEOT_" data-ref-filename="_ZNSt3__13mapixEOT_">[<a class="local col5 ref" href="#275sid" title='sid' data-ref="275sid" data-ref-filename="275sid">sid</a>]</span> <a class="ref fn" href="usrsctp_transport.h.html#238" title='cricket::UsrsctpTransport::StreamStatus::operator=' data-ref="_ZN7cricket16UsrsctpTransport12StreamStatusaSEOS1_" data-ref-filename="_ZN7cricket16UsrsctpTransport12StreamStatusaSEOS1_">=</a> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus" title='cricket::UsrsctpTransport::StreamStatus' data-ref="cricket::UsrsctpTransport::StreamStatus" data-ref-filename="cricket..UsrsctpTransport..StreamStatus">StreamStatus</a><a class="ref fn" href="usrsctp_transport.h.html#238" title='cricket::UsrsctpTransport::StreamStatus::StreamStatus' data-ref="_ZN7cricket16UsrsctpTransport12StreamStatusC1Ev" data-ref-filename="_ZN7cricket16UsrsctpTransport12StreamStatusC1Ev">(</a>);</td></tr>
<tr><th id="678">678</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="679">679</th><td>  }</td></tr>
<tr><th id="680">680</th><td>  <b>if</b> (<a class="local col6 ref" href="#276it" title='it' data-ref="276it" data-ref-filename="276it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv" title='cricket::UsrsctpTransport::StreamStatus::is_open' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv">is_open</a>()) {</td></tr>
<tr><th id="681">681</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 681, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="682">682</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OpenStream(...): "</q></td></tr>
<tr><th id="683">683</th><td>                           <q>"Not adding data stream "</q></td></tr>
<tr><th id="684">684</th><td>                           <q>"with sid="</q></td></tr>
<tr><th id="685">685</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col5 ref" href="#275sid" title='sid' data-ref="275sid" data-ref-filename="275sid">sid</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" because stream is already open."</q>;</td></tr>
<tr><th id="686">686</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="687">687</th><td>  } <b>else</b> {</td></tr>
<tr><th id="688">688</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 688, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="689">689</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OpenStream(...): "</q></td></tr>
<tr><th id="690">690</th><td>                           <q>"Not adding data stream "</q></td></tr>
<tr><th id="691">691</th><td>                           <q>" with sid="</q></td></tr>
<tr><th id="692">692</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col5 ref" href="#275sid" title='sid' data-ref="275sid" data-ref-filename="275sid">sid</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" because stream is still closing."</q>;</td></tr>
<tr><th id="693">693</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="694">694</th><td>  }</td></tr>
<tr><th id="695">695</th><td>}</td></tr>
<tr><th id="696">696</th><td></td></tr>
<tr><th id="697">697</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport11ResetStreamEi" title='cricket::UsrsctpTransport::ResetStream' data-ref="_ZN7cricket16UsrsctpTransport11ResetStreamEi" data-ref-filename="_ZN7cricket16UsrsctpTransport11ResetStreamEi">ResetStream</dfn>(<em>int</em> <dfn class="local col7 decl" id="277sid" title='sid' data-type='int' data-ref="277sid" data-ref-filename="277sid">sid</dfn>) {</td></tr>
<tr><th id="698">698</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 698, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="699">699</th><td></td></tr>
<tr><th id="700">700</th><td>  <em>auto</em> <dfn class="local col8 decl" id="278it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="278it" data-ref-filename="278it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::find' data-ref="_ZNSt3__13map4findERKT_" data-ref-filename="_ZNSt3__13map4findERKT_">find</span>(<a class="local col7 ref" href="#277sid" title='sid' data-ref="277sid" data-ref-filename="277sid">sid</a>);</td></tr>
<tr><th id="701">701</th><td>  <b>if</b> (<a class="local col8 ref" href="#278it" title='it' data-ref="278it" data-ref-filename="278it">it</a> <span class='ref fn' title='std::__1::operator==' data-ref="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_">==</span> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::end' data-ref="_ZNSt3__13map3endEv" data-ref-filename="_ZNSt3__13map3endEv">end</span>() || !<a class="local col8 ref" href="#278it" title='it' data-ref="278it" data-ref-filename="278it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv" title='cricket::UsrsctpTransport::StreamStatus::is_open' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv">is_open</a>()) {</td></tr>
<tr><th id="702">702</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 702, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ResetStream("</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col7 ref" href="#277sid" title='sid' data-ref="277sid" data-ref-filename="277sid">sid</a></td></tr>
<tr><th id="703">703</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"): stream not open."</q>;</td></tr>
<tr><th id="704">704</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="705">705</th><td>  }</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 707, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ResetStream("</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col7 ref" href="#277sid" title='sid' data-ref="277sid" data-ref-filename="277sid">sid</a></td></tr>
<tr><th id="708">708</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"): "</q></td></tr>
<tr><th id="709">709</th><td>                         <q>"Queuing RE-CONFIG chunk."</q>;</td></tr>
<tr><th id="710">710</th><td>  <a class="local col8 ref" href="#278it" title='it' data-ref="278it" data-ref-filename="278it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus::closure_initiated" title='cricket::UsrsctpTransport::StreamStatus::closure_initiated' data-ref="cricket::UsrsctpTransport::StreamStatus::closure_initiated" data-ref-filename="cricket..UsrsctpTransport..StreamStatus..closure_initiated">closure_initiated</a> = <b>true</b>;</td></tr>
<tr><th id="711">711</th><td></td></tr>
<tr><th id="712">712</th><td>  <i>// Signal our stream-reset logic that it should try to send now, if it can.</i></td></tr>
<tr><th id="713">713</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" title='cricket::UsrsctpTransport::SendQueuedStreamResets' data-ref="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv">SendQueuedStreamResets</a>();</td></tr>
<tr><th id="714">714</th><td></td></tr>
<tr><th id="715">715</th><td>  <i>// The stream will actually get removed when we get the acknowledgment.</i></td></tr>
<tr><th id="716">716</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="717">717</th><td>}</td></tr>
<tr><th id="718">718</th><td></td></tr>
<tr><th id="719">719</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport8SendDataEiRKN6webrtc14SendDataParamsERKN3rtc17CopyOnWriteBufferEPNS_14SendDataResultE" title='cricket::UsrsctpTransport::SendData' data-ref="_ZN7cricket16UsrsctpTransport8SendDataEiRKN6webrtc14SendDataParamsERKN3rtc17CopyOnWriteBufferEPNS_14SendDataResultE" data-ref-filename="_ZN7cricket16UsrsctpTransport8SendDataEiRKN6webrtc14SendDataParamsERKN3rtc17CopyOnWriteBufferEPNS_14SendDataResultE">SendData</dfn>(<em>int</em> <dfn class="local col9 decl" id="279sid" title='sid' data-type='int' data-ref="279sid" data-ref-filename="279sid">sid</dfn>,</td></tr>
<tr><th id="720">720</th><td>                                <em>const</em> <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams" title='webrtc::SendDataParams' data-ref="webrtc::SendDataParams" data-ref-filename="webrtc..SendDataParams">SendDataParams</a>&amp; <dfn class="local col0 decl" id="280params" title='params' data-type='const webrtc::SendDataParams &amp;' data-ref="280params" data-ref-filename="280params">params</dfn>,</td></tr>
<tr><th id="721">721</th><td>                                <em>const</em> <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/copy_on_write_buffer.h.html#rtc::CopyOnWriteBuffer" title='rtc::CopyOnWriteBuffer' data-ref="rtc::CopyOnWriteBuffer" data-ref-filename="rtc..CopyOnWriteBuffer">CopyOnWriteBuffer</a>&amp; <dfn class="local col1 decl" id="281payload" title='payload' data-type='const rtc::CopyOnWriteBuffer &amp;' data-ref="281payload" data-ref-filename="281payload">payload</dfn>,</td></tr>
<tr><th id="722">722</th><td>                                <a class="type" href="../base/media_channel.h.html#cricket::SendDataResult" title='cricket::SendDataResult' data-ref="cricket::SendDataResult" data-ref-filename="cricket..SendDataResult">SendDataResult</a>* <dfn class="local col2 decl" id="282result" title='result' data-type='cricket::SendDataResult *' data-ref="282result" data-ref-filename="282result">result</dfn>) {</td></tr>
<tr><th id="723">723</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 723, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="724">724</th><td></td></tr>
<tr><th id="725">725</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>()) {</td></tr>
<tr><th id="726">726</th><td>    <b>if</b> (<a class="local col2 ref" href="#282result" title='result' data-ref="282result" data-ref-filename="282result">result</a>) {</td></tr>
<tr><th id="727">727</th><td>      *<a class="local col2 ref" href="#282result" title='result' data-ref="282result" data-ref-filename="282result">result</a> = <a class="enum" href="../base/media_channel.h.html#cricket::SDR_BLOCK" title='cricket::SDR_BLOCK' data-ref="cricket::SDR_BLOCK" data-ref-filename="cricket..SDR_BLOCK">SDR_BLOCK</a>;</td></tr>
<tr><th id="728">728</th><td>    }</td></tr>
<tr><th id="729">729</th><td>    <i>// Ready to send should get set only when SendData() call gets blocked.</i></td></tr>
<tr><th id="730">730</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::ready_to_send_data_" title='cricket::UsrsctpTransport::ready_to_send_data_' data-ref="cricket::UsrsctpTransport::ready_to_send_data_" data-ref-filename="cricket..UsrsctpTransport..ready_to_send_data_">ready_to_send_data_</a> = <b>false</b>;</td></tr>
<tr><th id="731">731</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="732">732</th><td>  }</td></tr>
<tr><th id="733">733</th><td></td></tr>
<tr><th id="734">734</th><td>  <i>// Do not queue data to send on a closing stream.</i></td></tr>
<tr><th id="735">735</th><td>  <em>auto</em> <dfn class="local col3 decl" id="283it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="283it" data-ref-filename="283it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::find' data-ref="_ZNSt3__13map4findERKT_" data-ref-filename="_ZNSt3__13map4findERKT_">find</span>(<a class="local col9 ref" href="#279sid" title='sid' data-ref="279sid" data-ref-filename="279sid">sid</a>);</td></tr>
<tr><th id="736">736</th><td>  <b>if</b> (<a class="local col3 ref" href="#283it" title='it' data-ref="283it" data-ref-filename="283it">it</a> <span class='ref fn' title='std::__1::operator==' data-ref="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_">==</span> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::end' data-ref="_ZNSt3__13map3endEv" data-ref-filename="_ZNSt3__13map3endEv">end</span>() || !<a class="local col3 ref" href="#283it" title='it' data-ref="283it" data-ref-filename="283it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv" title='cricket::UsrsctpTransport::StreamStatus::is_open' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus7is_openEv">is_open</a>()) {</td></tr>
<tr><th id="737">737</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 737, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>)</td></tr>
<tr><th id="738">738</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="739">739</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;SendData(...): "</q></td></tr>
<tr><th id="740">740</th><td>           <q>"Not sending data because sid is unknown or closing: "</q></td></tr>
<tr><th id="741">741</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col9 ref" href="#279sid" title='sid' data-ref="279sid" data-ref-filename="279sid">sid</a>;</td></tr>
<tr><th id="742">742</th><td>    <b>if</b> (<a class="local col2 ref" href="#282result" title='result' data-ref="282result" data-ref-filename="282result">result</a>) {</td></tr>
<tr><th id="743">743</th><td>      *<a class="local col2 ref" href="#282result" title='result' data-ref="282result" data-ref-filename="282result">result</a> = <a class="enum" href="../base/media_channel.h.html#cricket::SDR_ERROR" title='cricket::SDR_ERROR' data-ref="cricket::SDR_ERROR" data-ref-filename="cricket..SDR_ERROR">SDR_ERROR</a>;</td></tr>
<tr><th id="744">744</th><td>    }</td></tr>
<tr><th id="745">745</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="746">746</th><td>  }</td></tr>
<tr><th id="747">747</th><td></td></tr>
<tr><th id="748">748</th><td>  <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col4 decl" id="284payload_size" title='payload_size' data-type='size_t' data-ref="284payload_size" data-ref-filename="284payload_size">payload_size</dfn> = <a class="local col1 ref" href="#281payload" title='payload' data-ref="281payload" data-ref-filename="281payload">payload</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>();</td></tr>
<tr><th id="749">749</th><td>  <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::OutgoingMessage" title='cricket::UsrsctpTransport::OutgoingMessage' data-ref="cricket::UsrsctpTransport::OutgoingMessage" data-ref-filename="cricket..UsrsctpTransport..OutgoingMessage">OutgoingMessage</a> <dfn class="local col5 decl" id="285message" title='message' data-type='cricket::UsrsctpTransport::OutgoingMessage' data-ref="285message" data-ref-filename="285message">message</dfn><a class="ref fn" href="usrsctp_transport.h.html#_ZN7cricket16UsrsctpTransport15OutgoingMessageC1ERKN3rtc17CopyOnWriteBufferEiRKN6webrtc14SendDataParamsE" title='cricket::UsrsctpTransport::OutgoingMessage::OutgoingMessage' data-ref="_ZN7cricket16UsrsctpTransport15OutgoingMessageC1ERKN3rtc17CopyOnWriteBufferEiRKN6webrtc14SendDataParamsE" data-ref-filename="_ZN7cricket16UsrsctpTransport15OutgoingMessageC1ERKN3rtc17CopyOnWriteBufferEiRKN6webrtc14SendDataParamsE">(</a><a class="local col1 ref" href="#281payload" title='payload' data-ref="281payload" data-ref-filename="281payload">payload</a>, <a class="local col9 ref" href="#279sid" title='sid' data-ref="279sid" data-ref-filename="279sid">sid</a>, <a class="local col0 ref" href="#280params" title='params' data-ref="280params" data-ref-filename="280params">params</a>);</td></tr>
<tr><th id="750">750</th><td>  <a class="type" href="../base/media_channel.h.html#cricket::SendDataResult" title='cricket::SendDataResult' data-ref="cricket::SendDataResult" data-ref-filename="cricket..SendDataResult">SendDataResult</a> <dfn class="local col6 decl" id="286send_message_result" title='send_message_result' data-type='cricket::SendDataResult' data-ref="286send_message_result" data-ref-filename="286send_message_result">send_message_result</dfn> = <a class="member fn" href="#_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE" title='cricket::UsrsctpTransport::SendMessageInternal' data-ref="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE" data-ref-filename="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE">SendMessageInternal</a>(&amp;<a class="local col5 ref" href="#285message" title='message' data-ref="285message" data-ref-filename="285message">message</a>);</td></tr>
<tr><th id="751">751</th><td>  <b>if</b> (<a class="local col2 ref" href="#282result" title='result' data-ref="282result" data-ref-filename="282result">result</a>) {</td></tr>
<tr><th id="752">752</th><td>    *<a class="local col2 ref" href="#282result" title='result' data-ref="282result" data-ref-filename="282result">result</a> = <a class="local col6 ref" href="#286send_message_result" title='send_message_result' data-ref="286send_message_result" data-ref-filename="286send_message_result">send_message_result</a>;</td></tr>
<tr><th id="753">753</th><td>  }</td></tr>
<tr><th id="754">754</th><td>  <b>if</b> (<a class="local col4 ref" href="#284payload_size" title='payload_size' data-ref="284payload_size" data-ref-filename="284payload_size">payload_size</a> == <a class="local col5 ref" href="#285message" title='message' data-ref="285message" data-ref-filename="285message">message</a>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>()) {</td></tr>
<tr><th id="755">755</th><td>    <i>// Nothing was sent.</i></td></tr>
<tr><th id="756">756</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="757">757</th><td>  }</td></tr>
<tr><th id="758">758</th><td>  <i>// If any data is sent, we accept the message. In the case that data was</i></td></tr>
<tr><th id="759">759</th><td><i>  // partially accepted by the sctp library, the remaining is buffered. This</i></td></tr>
<tr><th id="760">760</th><td><i>  // ensures the client does not resend the message.</i></td></tr>
<tr><th id="761">761</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#433" title="::rtc::SafeLt((message.size()), (payload_size)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 761, &quot;message.size()&quot; &quot; &quot; &quot;&lt;&quot; &quot; &quot; &quot;payload_size&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (message.size()) &lt;&lt; (payload_size)" data-ref="_M/RTC_DCHECK_LT">RTC_DCHECK_LT</a>(<a class="local col5 ref" href="#285message" title='message' data-ref="285message" data-ref-filename="285message">message</a>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>(), <a class="local col4 ref" href="#284payload_size" title='payload_size' data-ref="284payload_size" data-ref-filename="284payload_size">payload_size</a>);</td></tr>
<tr><th id="762">762</th><td>  <b>if</b> (<a class="local col5 ref" href="#285message" title='message' data-ref="285message" data-ref-filename="285message">message</a>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() &gt; <var>0</var>) {</td></tr>
<tr><th id="763">763</th><td>    <a class="macro" href="../../rtc_base/checks.h.html#429" title="(!partial_outgoing_message_.has_value()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 763, &quot;!partial_outgoing_message_.has_value()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>());</td></tr>
<tr><th id="764">764</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#703" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 764, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_DLOG">RTC_DLOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Partially sent message. Buffering the remaining"</q></td></tr>
<tr><th id="765">765</th><td>                         <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col5 ref" href="#285message" title='message' data-ref="285message" data-ref-filename="285message">message</a>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"/"</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#284payload_size" title='payload_size' data-ref="284payload_size" data-ref-filename="284payload_size">payload_size</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" bytes."</q>;</td></tr>
<tr><th id="766">766</th><td></td></tr>
<tr><th id="767">767</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::optional::emplace' data-ref="_ZNSt3__18optional7emplaceEDpOTL0__" data-ref-filename="_ZNSt3__18optional7emplaceEDpOTL0__">emplace</span>(<span class='refarg'><a class="local col5 ref" href="#285message" title='message' data-ref="285message" data-ref-filename="285message">message</a></span>);</td></tr>
<tr><th id="768">768</th><td>  }</td></tr>
<tr><th id="769">769</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="770">770</th><td>}</td></tr>
<tr><th id="771">771</th><td></td></tr>
<tr><th id="772">772</th><td><a class="type" href="../base/media_channel.h.html#cricket::SendDataResult" title='cricket::SendDataResult' data-ref="cricket::SendDataResult" data-ref-filename="cricket..SendDataResult">SendDataResult</a> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE" title='cricket::UsrsctpTransport::SendMessageInternal' data-ref="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE" data-ref-filename="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE">SendMessageInternal</dfn>(<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::OutgoingMessage" title='cricket::UsrsctpTransport::OutgoingMessage' data-ref="cricket::UsrsctpTransport::OutgoingMessage" data-ref-filename="cricket..UsrsctpTransport..OutgoingMessage">OutgoingMessage</a>* <dfn class="local col7 decl" id="287message" title='message' data-type='cricket::UsrsctpTransport::OutgoingMessage *' data-ref="287message" data-ref-filename="287message">message</dfn>) {</td></tr>
<tr><th id="773">773</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 773, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="774">774</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>) {</td></tr>
<tr><th id="775">775</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 775, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="776">776</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;SendMessageInternal(...): "</q></td></tr>
<tr><th id="777">777</th><td>                           <q>"Not sending packet with sid="</q></td></tr>
<tr><th id="778">778</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" title='cricket::UsrsctpTransport::OutgoingMessage::sid' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv">sid</a>() <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" len="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>()</td></tr>
<tr><th id="779">779</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" before Start()."</q>;</td></tr>
<tr><th id="780">780</th><td>    <b>return</b> <a class="enum" href="../base/media_channel.h.html#cricket::SDR_ERROR" title='cricket::SDR_ERROR' data-ref="cricket::SDR_ERROR" data-ref-filename="cricket..SDR_ERROR">SDR_ERROR</a>;</td></tr>
<tr><th id="781">781</th><td>  }</td></tr>
<tr><th id="782">782</th><td>  <b>if</b> (<a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage11send_paramsEv" title='cricket::UsrsctpTransport::OutgoingMessage::send_params' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage11send_paramsEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage11send_paramsEv">send_params</a>().<a class="ref field" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::SendDataParams::type" title='webrtc::SendDataParams::type' data-ref="webrtc::SendDataParams::type" data-ref-filename="webrtc..SendDataParams..type">type</a> != <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a>::<a class="enum" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType::kControl" title='webrtc::DataMessageType::kControl' data-ref="webrtc::DataMessageType::kControl" data-ref-filename="webrtc..DataMessageType..kControl">kControl</a>) {</td></tr>
<tr><th id="783">783</th><td>    <em>auto</em> <dfn class="local col8 decl" id="288it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="288it" data-ref-filename="288it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::find' data-ref="_ZNSt3__13map4findERKT_" data-ref-filename="_ZNSt3__13map4findERKT_">find</span>(<a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" title='cricket::UsrsctpTransport::OutgoingMessage::sid' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv">sid</a>());</td></tr>
<tr><th id="784">784</th><td>    <b>if</b> (<a class="local col8 ref" href="#288it" title='it' data-ref="288it" data-ref-filename="288it">it</a> <span class='ref fn' title='std::__1::operator==' data-ref="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_">==</span> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::end' data-ref="_ZNSt3__13map3endEv" data-ref-filename="_ZNSt3__13map3endEv">end</span>()) {</td></tr>
<tr><th id="785">785</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 785, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="786">786</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;SendMessageInternal(...): "</q></td></tr>
<tr><th id="787">787</th><td>                             <q>"Not sending data because sid is unknown: "</q></td></tr>
<tr><th id="788">788</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" title='cricket::UsrsctpTransport::OutgoingMessage::sid' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv">sid</a>();</td></tr>
<tr><th id="789">789</th><td>      <b>return</b> <a class="enum" href="../base/media_channel.h.html#cricket::SDR_ERROR" title='cricket::SDR_ERROR' data-ref="cricket::SDR_ERROR" data-ref-filename="cricket..SDR_ERROR">SDR_ERROR</a>;</td></tr>
<tr><th id="790">790</th><td>    }</td></tr>
<tr><th id="791">791</th><td>  }</td></tr>
<tr><th id="792">792</th><td>  <b>if</b> (<a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() &gt; <b>static_cast</b>&lt;<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span>&gt;(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::max_message_size_" title='cricket::UsrsctpTransport::max_message_size_' data-ref="cricket::UsrsctpTransport::max_message_size_" data-ref-filename="cricket..UsrsctpTransport..max_message_size_">max_message_size_</a>)) {</td></tr>
<tr><th id="793">793</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 793, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Attempting to send message of size "</q></td></tr>
<tr><th id="794">794</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" which is larger than limit "</q></td></tr>
<tr><th id="795">795</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::max_message_size_" title='cricket::UsrsctpTransport::max_message_size_' data-ref="cricket::UsrsctpTransport::max_message_size_" data-ref-filename="cricket..UsrsctpTransport..max_message_size_">max_message_size_</a>;</td></tr>
<tr><th id="796">796</th><td>    <b>return</b> <a class="enum" href="../base/media_channel.h.html#cricket::SDR_ERROR" title='cricket::SDR_ERROR' data-ref="cricket::SDR_ERROR" data-ref-filename="cricket..SDR_ERROR">SDR_ERROR</a>;</td></tr>
<tr><th id="797">797</th><td>  }</td></tr>
<tr><th id="798">798</th><td></td></tr>
<tr><th id="799">799</th><td>  <i>// Send data using SCTP.</i></td></tr>
<tr><th id="800">800</th><td>  <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sendv_spa" title='sctp_sendv_spa' data-ref="sctp_sendv_spa" data-ref-filename="sctp_sendv_spa">sctp_sendv_spa</a> <dfn class="local col9 decl" id="289spa" title='spa' data-type='sctp_sendv_spa' data-ref="289spa" data-ref-filename="289spa">spa</dfn> = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm" title='(anonymous namespace)::CreateSctpSendParams' data-use='c' data-ref="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm" data-ref-filename="_ZN12_GLOBAL__N_120CreateSctpSendParamsEiRKN6webrtc14SendDataParamsEm">CreateSctpSendParams</a>(</td></tr>
<tr><th id="801">801</th><td>      <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" title='cricket::UsrsctpTransport::OutgoingMessage::sid' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv">sid</a>(), <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage11send_paramsEv" title='cricket::UsrsctpTransport::OutgoingMessage::send_params' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage11send_paramsEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage11send_paramsEv">send_params</a>(), <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>());</td></tr>
<tr><th id="802">802</th><td>  <em>const</em> <em>void</em>* <dfn class="local col0 decl" id="290data" title='data' data-type='const void *' data-ref="290data" data-ref-filename="290data">data</dfn> = <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4dataEv" title='cricket::UsrsctpTransport::OutgoingMessage::data' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4dataEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4dataEv">data</a>();</td></tr>
<tr><th id="803">803</th><td>  <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="291data_length" title='data_length' data-type='size_t' data-ref="291data_length" data-ref-filename="291data_length">data_length</dfn> = <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>();</td></tr>
<tr><th id="804">804</th><td>  <b>if</b> (<a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() == <var>0</var>) {</td></tr>
<tr><th id="805">805</th><td>    <i>// Empty messages are replaced by a single NUL byte on the wire as SCTP</i></td></tr>
<tr><th id="806">806</th><td><i>    // doesn't support empty messages.</i></td></tr>
<tr><th id="807">807</th><td><i>    // The PPID carries the information that the payload needs to be ignored.</i></td></tr>
<tr><th id="808">808</th><td>    <a class="local col0 ref" href="#290data" title='data' data-ref="290data" data-ref-filename="290data">data</a> = <a class="tu ref" href="#(anonymousnamespace)::kZero" title='(anonymous namespace)::kZero' data-use='r' data-ref="(anonymousnamespace)::kZero" data-ref-filename="(anonymousnamespace)..kZero">kZero</a>;</td></tr>
<tr><th id="809">809</th><td>    <a class="local col1 ref" href="#291data_length" title='data_length' data-ref="291data_length" data-ref-filename="291data_length">data_length</a> = <var>1</var>;</td></tr>
<tr><th id="810">810</th><td>  }</td></tr>
<tr><th id="811">811</th><td>  <i>// Note: this send call is not atomic because the EOR bit is set. This means</i></td></tr>
<tr><th id="812">812</th><td><i>  // that usrsctp can partially accept this message and it is our duty to buffer</i></td></tr>
<tr><th id="813">813</th><td><i>  // the rest.</i></td></tr>
<tr><th id="814">814</th><td>  <span class='typedef' title='ssize_t' data-type='__darwin_ssize_t' data-ref="ssize_t" data-ref-filename="ssize_t">ssize_t</span> <dfn class="local col2 decl" id="292send_res" title='send_res' data-type='ssize_t' data-ref="292send_res" data-ref-filename="292send_res">send_res</dfn> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_sendv" title='usrsctp_sendv' data-ref="usrsctp_sendv" data-ref-filename="usrsctp_sendv">usrsctp_sendv</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <a class="local col0 ref" href="#290data" title='data' data-ref="290data" data-ref-filename="290data">data</a>, <a class="local col1 ref" href="#291data_length" title='data_length' data-ref="291data_length" data-ref-filename="291data_length">data_length</a>, <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>, <var>0</var>, &amp;<a class="local col9 ref" href="#289spa" title='spa' data-ref="289spa" data-ref-filename="289spa">spa</a>,</td></tr>
<tr><th id="815">815</th><td>                                   <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/numerics/safe_conversions.h.html#_ZN3rtc12checked_castET0_" title='rtc::checked_cast' data-ref="_ZN3rtc12checked_castET0_" data-ref-filename="_ZN3rtc12checked_castET0_">checked_cast</a>&lt;<span class='typedef' title='socklen_t' data-type='__darwin_socklen_t' data-ref="socklen_t" data-ref-filename="socklen_t">socklen_t</span>&gt;(<b>sizeof</b>(<a class="local col9 ref" href="#289spa" title='spa' data-ref="289spa" data-ref-filename="289spa">spa</a>)),</td></tr>
<tr><th id="816">816</th><td>                                   <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#197" title="4" data-ref="_M/SCTP_SENDV_SPA">SCTP_SENDV_SPA</a>, <var>0</var>);</td></tr>
<tr><th id="817">817</th><td>  <b>if</b> (<a class="local col2 ref" href="#292send_res" title='send_res' data-ref="292send_res" data-ref-filename="292send_res">send_res</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="818">818</th><td>    <b>if</b> (<span class="macro" title="(*__error())" data-ref="_M/errno">errno</span> == <a class="tu enum" href="#(anonymousnamespace)::SCTP_EWOULDBLOCK" title='(anonymous namespace)::SCTP_EWOULDBLOCK' data-use='r' data-ref="(anonymousnamespace)::SCTP_EWOULDBLOCK" data-ref-filename="(anonymousnamespace)..SCTP_EWOULDBLOCK">SCTP_EWOULDBLOCK</a>) {</td></tr>
<tr><th id="819">819</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::ready_to_send_data_" title='cricket::UsrsctpTransport::ready_to_send_data_' data-ref="cricket::UsrsctpTransport::ready_to_send_data_" data-ref-filename="cricket..UsrsctpTransport..ready_to_send_data_">ready_to_send_data_</a> = <b>false</b>;</td></tr>
<tr><th id="820">820</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 820, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="821">821</th><td>                       <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;SendMessageInternal(...): EWOULDBLOCK returned"</q>;</td></tr>
<tr><th id="822">822</th><td>      <b>return</b> <a class="enum" href="../base/media_channel.h.html#cricket::SDR_BLOCK" title='cricket::SDR_BLOCK' data-ref="cricket::SDR_BLOCK" data-ref-filename="cricket..SDR_BLOCK">SDR_BLOCK</a>;</td></tr>
<tr><th id="823">823</th><td>    }</td></tr>
<tr><th id="824">824</th><td></td></tr>
<tr><th id="825">825</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 825, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"ERROR:"</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="826">826</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;SendMessageInternal(...): "</q></td></tr>
<tr><th id="827">827</th><td>                               <q>" usrsctp_sendv: "</q>;</td></tr>
<tr><th id="828">828</th><td>    <b>return</b> <a class="enum" href="../base/media_channel.h.html#cricket::SDR_ERROR" title='cricket::SDR_ERROR' data-ref="cricket::SDR_ERROR" data-ref-filename="cricket..SDR_ERROR">SDR_ERROR</a>;</td></tr>
<tr><th id="829">829</th><td>  }</td></tr>
<tr><th id="830">830</th><td></td></tr>
<tr><th id="831">831</th><td>  <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col3 decl" id="293amount_sent" title='amount_sent' data-type='size_t' data-ref="293amount_sent" data-ref-filename="293amount_sent">amount_sent</dfn> = <b>static_cast</b>&lt;<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span>&gt;(<a class="local col2 ref" href="#292send_res" title='send_res' data-ref="292send_res" data-ref-filename="292send_res">send_res</a>);</td></tr>
<tr><th id="832">832</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#432" title="::rtc::SafeLe((amount_sent), (data_length)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 832, &quot;amount_sent&quot; &quot; &quot; &quot;&lt;=&quot; &quot; &quot; &quot;data_length&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (amount_sent) &lt;&lt; (data_length)" data-ref="_M/RTC_DCHECK_LE">RTC_DCHECK_LE</a>(<a class="local col3 ref" href="#293amount_sent" title='amount_sent' data-ref="293amount_sent" data-ref-filename="293amount_sent">amount_sent</a>, <a class="local col1 ref" href="#291data_length" title='data_length' data-ref="291data_length" data-ref-filename="291data_length">data_length</a>);</td></tr>
<tr><th id="833">833</th><td>  <b>if</b> (<a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() != <var>0</var>)</td></tr>
<tr><th id="834">834</th><td>    <a class="local col7 ref" href="#287message" title='message' data-ref="287message" data-ref-filename="287message">message</a>-&gt;<a class="ref fn" href="usrsctp_transport.h.html#_ZN7cricket16UsrsctpTransport15OutgoingMessage7AdvanceEm" title='cricket::UsrsctpTransport::OutgoingMessage::Advance' data-ref="_ZN7cricket16UsrsctpTransport15OutgoingMessage7AdvanceEm" data-ref-filename="_ZN7cricket16UsrsctpTransport15OutgoingMessage7AdvanceEm">Advance</a>(<a class="local col3 ref" href="#293amount_sent" title='amount_sent' data-ref="293amount_sent" data-ref-filename="293amount_sent">amount_sent</a>);</td></tr>
<tr><th id="835">835</th><td>  <i>// Only way out now is success.</i></td></tr>
<tr><th id="836">836</th><td>  <b>return</b> <a class="enum" href="../base/media_channel.h.html#cricket::SDR_SUCCESS" title='cricket::SDR_SUCCESS' data-ref="cricket::SDR_SUCCESS" data-ref-filename="cricket..SDR_SUCCESS">SDR_SUCCESS</a>;</td></tr>
<tr><th id="837">837</th><td>}</td></tr>
<tr><th id="838">838</th><td></td></tr>
<tr><th id="839">839</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport15ReadyToSendDataEv" title='cricket::UsrsctpTransport::ReadyToSendData' data-ref="_ZN7cricket16UsrsctpTransport15ReadyToSendDataEv" data-ref-filename="_ZN7cricket16UsrsctpTransport15ReadyToSendDataEv">ReadyToSendData</dfn>() {</td></tr>
<tr><th id="840">840</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 840, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="841">841</th><td>  <b>return</b> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::ready_to_send_data_" title='cricket::UsrsctpTransport::ready_to_send_data_' data-ref="cricket::UsrsctpTransport::ready_to_send_data_" data-ref-filename="cricket..UsrsctpTransport..ready_to_send_data_">ready_to_send_data_</a>;</td></tr>
<tr><th id="842">842</th><td>}</td></tr>
<tr><th id="843">843</th><td></td></tr>
<tr><th id="844">844</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv" title='cricket::UsrsctpTransport::ConnectTransportSignals' data-ref="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport23ConnectTransportSignalsEv">ConnectTransportSignals</dfn>() {</td></tr>
<tr><th id="845">845</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 845, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="846">846</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>) {</td></tr>
<tr><th id="847">847</th><td>    <b>return</b>;</td></tr>
<tr><th id="848">848</th><td>  }</td></tr>
<tr><th id="849">849</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="ref field" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal::SignalWritableState" title='rtc::PacketTransportInternal::SignalWritableState' data-ref="rtc::PacketTransportInternal::SignalWritableState" data-ref-filename="rtc..PacketTransportInternal..SignalWritableState">SignalWritableState</a>.<a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E" title='sigslot::signal_with_thread_policy::connect' data-ref="_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E" data-ref-filename="_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E">connect</a>(<b>this</b>,</td></tr>
<tr><th id="850">850</th><td>                                          &amp;<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<a class="member fn" href="#_ZN7cricket16UsrsctpTransport15OnWritableStateEPN3rtc23PacketTransportInternalE" title='cricket::UsrsctpTransport::OnWritableState' data-ref="_ZN7cricket16UsrsctpTransport15OnWritableStateEPN3rtc23PacketTransportInternalE" data-ref-filename="_ZN7cricket16UsrsctpTransport15OnWritableStateEPN3rtc23PacketTransportInternalE">OnWritableState</a>);</td></tr>
<tr><th id="851">851</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="ref field" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal::SignalReadPacket" title='rtc::PacketTransportInternal::SignalReadPacket' data-ref="rtc::PacketTransportInternal::SignalReadPacket" data-ref-filename="rtc..PacketTransportInternal..SignalReadPacket">SignalReadPacket</a>.<a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E" title='sigslot::signal_with_thread_policy::connect' data-ref="_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E" data-ref-filename="_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E">connect</a>(<b>this</b>, &amp;<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<a class="virtual member fn" href="#_ZN7cricket16UsrsctpTransport12OnPacketReadEPN3rtc23PacketTransportInternalEPKcmRKxi" title='cricket::UsrsctpTransport::OnPacketRead' data-ref="_ZN7cricket16UsrsctpTransport12OnPacketReadEPN3rtc23PacketTransportInternalEPKcmRKxi" data-ref-filename="_ZN7cricket16UsrsctpTransport12OnPacketReadEPN3rtc23PacketTransportInternalEPKcmRKxi">OnPacketRead</a>);</td></tr>
<tr><th id="852">852</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="ref field" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal::SignalClosed" title='rtc::PacketTransportInternal::SignalClosed' data-ref="rtc::PacketTransportInternal::SignalClosed" data-ref-filename="rtc..PacketTransportInternal..SignalClosed">SignalClosed</a>.<a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E" title='sigslot::signal_with_thread_policy::connect' data-ref="_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E" data-ref-filename="_ZN7sigslot25signal_with_thread_policy7connectEPTL0__MS1_FvDpT0_E">connect</a>(<b>this</b>, &amp;<a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<a class="member fn" href="#_ZN7cricket16UsrsctpTransport8OnClosedEPN3rtc23PacketTransportInternalE" title='cricket::UsrsctpTransport::OnClosed' data-ref="_ZN7cricket16UsrsctpTransport8OnClosedEPN3rtc23PacketTransportInternalE" data-ref-filename="_ZN7cricket16UsrsctpTransport8OnClosedEPN3rtc23PacketTransportInternalE">OnClosed</a>);</td></tr>
<tr><th id="853">853</th><td>}</td></tr>
<tr><th id="854">854</th><td></td></tr>
<tr><th id="855">855</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport26DisconnectTransportSignalsEv" title='cricket::UsrsctpTransport::DisconnectTransportSignals' data-ref="_ZN7cricket16UsrsctpTransport26DisconnectTransportSignalsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport26DisconnectTransportSignalsEv">DisconnectTransportSignals</dfn>() {</td></tr>
<tr><th id="856">856</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 856, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="857">857</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>) {</td></tr>
<tr><th id="858">858</th><td>    <b>return</b>;</td></tr>
<tr><th id="859">859</th><td>  }</td></tr>
<tr><th id="860">860</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="ref field" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal::SignalWritableState" title='rtc::PacketTransportInternal::SignalWritableState' data-ref="rtc::PacketTransportInternal::SignalWritableState" data-ref-filename="rtc..PacketTransportInternal..SignalWritableState">SignalWritableState</a>.<a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE" title='sigslot::_signal_base::disconnect' data-ref="_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE" data-ref-filename="_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE">disconnect</a>(<b>this</b>);</td></tr>
<tr><th id="861">861</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="ref field" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal::SignalReadPacket" title='rtc::PacketTransportInternal::SignalReadPacket' data-ref="rtc::PacketTransportInternal::SignalReadPacket" data-ref-filename="rtc..PacketTransportInternal..SignalReadPacket">SignalReadPacket</a>.<a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE" title='sigslot::_signal_base::disconnect' data-ref="_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE" data-ref-filename="_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE">disconnect</a>(<b>this</b>);</td></tr>
<tr><th id="862">862</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="ref field" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal::SignalClosed" title='rtc::PacketTransportInternal::SignalClosed' data-ref="rtc::PacketTransportInternal::SignalClosed" data-ref-filename="rtc..PacketTransportInternal..SignalClosed">SignalClosed</a>.<a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE" title='sigslot::_signal_base::disconnect' data-ref="_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE" data-ref-filename="_ZN7sigslot12_signal_base10disconnectEPNS_19has_slots_interfaceE">disconnect</a>(<b>this</b>);</td></tr>
<tr><th id="863">863</th><td>}</td></tr>
<tr><th id="864">864</th><td></td></tr>
<tr><th id="865">865</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport7ConnectEv" title='cricket::UsrsctpTransport::Connect' data-ref="_ZN7cricket16UsrsctpTransport7ConnectEv" data-ref-filename="_ZN7cricket16UsrsctpTransport7ConnectEv">Connect</dfn>() {</td></tr>
<tr><th id="866">866</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 866, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="867">867</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 867, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;Connect()."</q>;</td></tr>
<tr><th id="868">868</th><td></td></tr>
<tr><th id="869">869</th><td>  <i>// If we already have a socket connection (which shouldn't ever happen), just</i></td></tr>
<tr><th id="870">870</th><td><i>  // return.</i></td></tr>
<tr><th id="871">871</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#429" title="(!sock_) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 871, &quot;!sock_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>);</td></tr>
<tr><th id="872">872</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>) {</td></tr>
<tr><th id="873">873</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 873, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="874">874</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;Connect(): Ignored as socket "</q></td></tr>
<tr><th id="875">875</th><td>                         <q>"is already established."</q>;</td></tr>
<tr><th id="876">876</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="877">877</th><td>  }</td></tr>
<tr><th id="878">878</th><td></td></tr>
<tr><th id="879">879</th><td>  <i>// If no socket (it was closed) try to start it again. This can happen when</i></td></tr>
<tr><th id="880">880</th><td><i>  // the socket we are connecting to closes, does an sctp shutdown handshake,</i></td></tr>
<tr><th id="881">881</th><td><i>  // or behaves unexpectedly causing us to perform a CloseSctpSocket.</i></td></tr>
<tr><th id="882">882</th><td>  <b>if</b> (!<a class="member fn" href="#_ZN7cricket16UsrsctpTransport14OpenSctpSocketEv" title='cricket::UsrsctpTransport::OpenSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport14OpenSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14OpenSctpSocketEv">OpenSctpSocket</a>()) {</td></tr>
<tr><th id="883">883</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="884">884</th><td>  }</td></tr>
<tr><th id="885">885</th><td></td></tr>
<tr><th id="886">886</th><td>  <i>// Note: conversion from int to uint16_t happens on assignment.</i></td></tr>
<tr><th id="887">887</th><td>  <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a> <dfn class="local col4 decl" id="294local_sconn" title='local_sconn' data-type='sockaddr_conn' data-ref="294local_sconn" data-ref-filename="294local_sconn">local_sconn</dfn> = <a class="member fn" href="#_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi" title='cricket::UsrsctpTransport::GetSctpSockAddr' data-ref="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi" data-ref-filename="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi">GetSctpSockAddr</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::local_port_" title='cricket::UsrsctpTransport::local_port_' data-ref="cricket::UsrsctpTransport::local_port_" data-ref-filename="cricket..UsrsctpTransport..local_port_">local_port_</a>);</td></tr>
<tr><th id="888">888</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_bind" title='usrsctp_bind' data-ref="usrsctp_bind" data-ref-filename="usrsctp_bind">usrsctp_bind</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <b>reinterpret_cast</b>&lt;<span class='type' title='sockaddr' data-ref="sockaddr" data-ref-filename="sockaddr">sockaddr</span>*&gt;(&amp;<a class="local col4 ref" href="#294local_sconn" title='local_sconn' data-ref="294local_sconn" data-ref-filename="294local_sconn">local_sconn</a>),</td></tr>
<tr><th id="889">889</th><td>                   <b>sizeof</b>(<a class="local col4 ref" href="#294local_sconn" title='local_sconn' data-ref="294local_sconn" data-ref-filename="294local_sconn">local_sconn</a>)) &lt; <var>0</var>) {</td></tr>
<tr><th id="890">890</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 890, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="891">891</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;Connect(): "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> (<q>"Failed usrsctp_bind"</q>);</td></tr>
<tr><th id="892">892</th><td>    <a class="member fn" href="#_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" title='cricket::UsrsctpTransport::CloseSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv">CloseSctpSocket</a>();</td></tr>
<tr><th id="893">893</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="894">894</th><td>  }</td></tr>
<tr><th id="895">895</th><td></td></tr>
<tr><th id="896">896</th><td>  <i>// Note: conversion from int to uint16_t happens on assignment.</i></td></tr>
<tr><th id="897">897</th><td>  <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a> <dfn class="local col5 decl" id="295remote_sconn" title='remote_sconn' data-type='sockaddr_conn' data-ref="295remote_sconn" data-ref-filename="295remote_sconn">remote_sconn</dfn> = <a class="member fn" href="#_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi" title='cricket::UsrsctpTransport::GetSctpSockAddr' data-ref="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi" data-ref-filename="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi">GetSctpSockAddr</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::remote_port_" title='cricket::UsrsctpTransport::remote_port_' data-ref="cricket::UsrsctpTransport::remote_port_" data-ref-filename="cricket..UsrsctpTransport..remote_port_">remote_port_</a>);</td></tr>
<tr><th id="898">898</th><td>  <em>int</em> <dfn class="local col6 decl" id="296connect_result" title='connect_result' data-type='int' data-ref="296connect_result" data-ref-filename="296connect_result">connect_result</dfn> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_connect" title='usrsctp_connect' data-ref="usrsctp_connect" data-ref-filename="usrsctp_connect">usrsctp_connect</a>(</td></tr>
<tr><th id="899">899</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <b>reinterpret_cast</b>&lt;<span class='type' title='sockaddr' data-ref="sockaddr" data-ref-filename="sockaddr">sockaddr</span>*&gt;(&amp;<a class="local col5 ref" href="#295remote_sconn" title='remote_sconn' data-ref="295remote_sconn" data-ref-filename="295remote_sconn">remote_sconn</a>), <b>sizeof</b>(<a class="local col5 ref" href="#295remote_sconn" title='remote_sconn' data-ref="295remote_sconn" data-ref-filename="295remote_sconn">remote_sconn</a>));</td></tr>
<tr><th id="900">900</th><td>  <b>if</b> (<a class="local col6 ref" href="#296connect_result" title='connect_result' data-ref="296connect_result" data-ref-filename="296connect_result">connect_result</a> &lt; <var>0</var> &amp;&amp; <span class="macro" title="(*__error())" data-ref="_M/errno">errno</span> != <a class="tu enum" href="#(anonymousnamespace)::SCTP_EINPROGRESS" title='(anonymous namespace)::SCTP_EINPROGRESS' data-use='r' data-ref="(anonymousnamespace)::SCTP_EINPROGRESS" data-ref-filename="(anonymousnamespace)..SCTP_EINPROGRESS">SCTP_EINPROGRESS</a>) {</td></tr>
<tr><th id="901">901</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 901, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="902">902</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;Connect(): "</q></td></tr>
<tr><th id="903">903</th><td>                               <q>"Failed usrsctp_connect. got errno="</q></td></tr>
<tr><th id="904">904</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <span class="macro" title="(*__error())" data-ref="_M/errno">errno</span> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", but wanted "</q> <a class="tu ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-use='c' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="tu enum" href="#(anonymousnamespace)::SCTP_EINPROGRESS" title='(anonymous namespace)::SCTP_EINPROGRESS' data-use='r' data-ref="(anonymousnamespace)::SCTP_EINPROGRESS" data-ref-filename="(anonymousnamespace)..SCTP_EINPROGRESS">SCTP_EINPROGRESS</a>;</td></tr>
<tr><th id="905">905</th><td>    <a class="member fn" href="#_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" title='cricket::UsrsctpTransport::CloseSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv">CloseSctpSocket</a>();</td></tr>
<tr><th id="906">906</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="907">907</th><td>  }</td></tr>
<tr><th id="908">908</th><td>  <i>// Set the MTU and disable MTU discovery.</i></td></tr>
<tr><th id="909">909</th><td><i>  // We can only do this after usrsctp_connect or it has no effect.</i></td></tr>
<tr><th id="910">910</th><td>  <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_paddrparams" title='sctp_paddrparams' data-ref="sctp_paddrparams" data-ref-filename="sctp_paddrparams">sctp_paddrparams</a> <dfn class="local col7 decl" id="297params" title='params' data-type='sctp_paddrparams' data-ref="297params" data-ref-filename="297params">params</dfn> = {};</td></tr>
<tr><th id="911">911</th><td>  <span class='ref fn' title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</span>(&amp;<a class="local col7 ref" href="#297params" title='params' data-ref="297params" data-ref-filename="297params">params</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_paddrparams::spp_address" title='sctp_paddrparams::spp_address' data-ref="sctp_paddrparams::spp_address" data-ref-filename="sctp_paddrparams..spp_address">spp_address</a>, &amp;<a class="local col5 ref" href="#295remote_sconn" title='remote_sconn' data-ref="295remote_sconn" data-ref-filename="295remote_sconn">remote_sconn</a>, <b>sizeof</b>(<a class="local col5 ref" href="#295remote_sconn" title='remote_sconn' data-ref="295remote_sconn" data-ref-filename="295remote_sconn">remote_sconn</a>));</td></tr>
<tr><th id="912">912</th><td>  <a class="local col7 ref" href="#297params" title='params' data-ref="297params" data-ref-filename="297params">params</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_paddrparams::spp_flags" title='sctp_paddrparams::spp_flags' data-ref="sctp_paddrparams::spp_flags" data-ref-filename="sctp_paddrparams..spp_flags">spp_flags</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#644" title="0x00000010" data-ref="_M/SPP_PMTUD_DISABLE">SPP_PMTUD_DISABLE</a>;</td></tr>
<tr><th id="913">913</th><td>  <i>// The MTU value provided specifies the space available for chunks in the</i></td></tr>
<tr><th id="914">914</th><td><i>  // packet, so we subtract the SCTP header size.</i></td></tr>
<tr><th id="915">915</th><td>  <a class="local col7 ref" href="#297params" title='params' data-ref="297params" data-ref-filename="297params">params</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_paddrparams::spp_pathmtu" title='sctp_paddrparams::spp_pathmtu' data-ref="sctp_paddrparams::spp_pathmtu" data-ref-filename="sctp_paddrparams..spp_pathmtu">spp_pathmtu</a> = <a class="tu ref" href="#(anonymousnamespace)::kSctpMtu" title='(anonymous namespace)::kSctpMtu' data-use='r' data-ref="(anonymousnamespace)::kSctpMtu" data-ref-filename="(anonymousnamespace)..kSctpMtu">kSctpMtu</a> - <b>sizeof</b>(<b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_common_header" title='sctp_common_header' data-ref="sctp_common_header" data-ref-filename="sctp_common_header">sctp_common_header</a>);</td></tr>
<tr><th id="916">916</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#530" title="0x0000000a" data-ref="_M/SCTP_PEER_ADDR_PARAMS">SCTP_PEER_ADDR_PARAMS</a>, &amp;<a class="local col7 ref" href="#297params" title='params' data-ref="297params" data-ref-filename="297params">params</a>,</td></tr>
<tr><th id="917">917</th><td>                         <b>sizeof</b>(<a class="local col7 ref" href="#297params" title='params' data-ref="297params" data-ref-filename="297params">params</a>))) {</td></tr>
<tr><th id="918">918</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 918, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="919">919</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;Connect(): "</q></td></tr>
<tr><th id="920">920</th><td>                               <q>"Failed to set SCTP_PEER_ADDR_PARAMS."</q>;</td></tr>
<tr><th id="921">921</th><td>  }</td></tr>
<tr><th id="922">922</th><td>  <i>// Since this is a fresh SCTP association, we'll always start out with empty</i></td></tr>
<tr><th id="923">923</th><td><i>  // queues, so "ReadyToSendData" should be true.</i></td></tr>
<tr><th id="924">924</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" title='cricket::UsrsctpTransport::SetReadyToSendData' data-ref="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" data-ref-filename="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv">SetReadyToSendData</a>();</td></tr>
<tr><th id="925">925</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="926">926</th><td>}</td></tr>
<tr><th id="927">927</th><td></td></tr>
<tr><th id="928">928</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport14OpenSctpSocketEv" title='cricket::UsrsctpTransport::OpenSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport14OpenSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14OpenSctpSocketEv">OpenSctpSocket</dfn>() {</td></tr>
<tr><th id="929">929</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 929, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="930">930</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>) {</td></tr>
<tr><th id="931">931</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 931, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="932">932</th><td>                        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OpenSctpSocket(): "</q></td></tr>
<tr><th id="933">933</th><td>                           <q>"Ignoring attempt to re-create existing socket."</q>;</td></tr>
<tr><th id="934">934</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="935">935</th><td>  }</td></tr>
<tr><th id="936">936</th><td></td></tr>
<tr><th id="937">937</th><td>  <a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26IncrementUsrSctpUsageCountEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::IncrementUsrSctpUsageCount' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26IncrementUsrSctpUsageCountEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26IncrementUsrSctpUsageCountEv">IncrementUsrSctpUsageCount</a>();</td></tr>
<tr><th id="938">938</th><td></td></tr>
<tr><th id="939">939</th><td>  <i>// If kSctpSendBufferSize isn't reflective of reality, we log an error, but we</i></td></tr>
<tr><th id="940">940</th><td><i>  // still have to do something reasonable here.  Look up what the buffer's real</i></td></tr>
<tr><th id="941">941</th><td><i>  // size is and set our threshold to something reasonable.</i></td></tr>
<tr><th id="942">942</th><td><i>  // TODO(bugs.webrtc.org/11824): That was previously set to 50%, not 25%, but</i></td></tr>
<tr><th id="943">943</th><td><i>  // it was reduced to a recent usrsctp regression. Can return to 50% when the</i></td></tr>
<tr><th id="944">944</th><td><i>  // root cause is fixed.</i></td></tr>
<tr><th id="945">945</th><td>  <em>static</em> <em>const</em> <em>int</em> <dfn class="local col8 decl" id="298kSendThreshold" title='kSendThreshold' data-type='const int' data-ref="298kSendThreshold" data-ref-filename="298kSendThreshold">kSendThreshold</dfn> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1081" title='usrsctp_sysctl_get_sctp_sendspace' data-ref="usrsctp_sysctl_get_sctp_sendspace" data-ref-filename="usrsctp_sysctl_get_sctp_sendspace">usrsctp_sysctl_get_sctp_sendspace</a>() / <var>4</var>;</td></tr>
<tr><th id="946">946</th><td></td></tr>
<tr><th id="947">947</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a> = <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_socket" title='usrsctp_socket' data-ref="usrsctp_socket" data-ref-filename="usrsctp_socket">usrsctp_socket</a>(</td></tr>
<tr><th id="948">948</th><td>      <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#118" title="123" data-ref="_M/AF_CONN">AF_CONN</a>, <span class="macro" title="1" data-ref="_M/SOCK_STREAM">SOCK_STREAM</span>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, &amp;<a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19OnSctpInboundPacketEP6socket14sctp_sockstorePvm12sctp_rcvinfoiS5_" title='cricket::UsrsctpTransport::UsrSctpWrapper::OnSctpInboundPacket' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19OnSctpInboundPacketEP6socket14sctp_sockstorePvm12sctp_rcvinfoiS5_" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper19OnSctpInboundPacketEP6socket14sctp_sockstorePvm12sctp_rcvinfoiS5_">OnSctpInboundPacket</a>,</td></tr>
<tr><th id="949">949</th><td>      &amp;<a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketjPv" title='cricket::UsrsctpTransport::UsrSctpWrapper::SendThresholdCallback' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketjPv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper21SendThresholdCallbackEP6socketjPv">SendThresholdCallback</a>, <a class="local col8 ref" href="#298kSendThreshold" title='kSendThreshold' data-ref="298kSendThreshold" data-ref-filename="298kSendThreshold">kSendThreshold</a>, <b>this</b>);</td></tr>
<tr><th id="950">950</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>) {</td></tr>
<tr><th id="951">951</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 951, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="952">952</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OpenSctpSocket(): "</q></td></tr>
<tr><th id="953">953</th><td>                               <q>"Failed to create SCTP socket."</q>;</td></tr>
<tr><th id="954">954</th><td>    <a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::DecrementUsrSctpUsageCount' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv">DecrementUsrSctpUsageCount</a>();</td></tr>
<tr><th id="955">955</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="956">956</th><td>  }</td></tr>
<tr><th id="957">957</th><td></td></tr>
<tr><th id="958">958</th><td>  <b>if</b> (!<a class="member fn" href="#_ZN7cricket16UsrsctpTransport19ConfigureSctpSocketEv" title='cricket::UsrsctpTransport::ConfigureSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport19ConfigureSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport19ConfigureSctpSocketEv">ConfigureSctpSocket</a>()) {</td></tr>
<tr><th id="959">959</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_close" title='usrsctp_close' data-ref="usrsctp_close" data-ref-filename="usrsctp_close">usrsctp_close</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>);</td></tr>
<tr><th id="960">960</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a> = <b>nullptr</b>;</td></tr>
<tr><th id="961">961</th><td>    <a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::DecrementUsrSctpUsageCount' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv">DecrementUsrSctpUsageCount</a>();</td></tr>
<tr><th id="962">962</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="963">963</th><td>  }</td></tr>
<tr><th id="964">964</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::id_" title='cricket::UsrsctpTransport::id_' data-ref="cricket::UsrsctpTransport::id_" data-ref-filename="cricket..UsrsctpTransport..id_">id_</a> = <a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>-&gt;<a class="ref fn" href="#_ZN7cricket19UsrsctpTransportMap8RegisterEPNS_16UsrsctpTransportE" title='cricket::UsrsctpTransportMap::Register' data-ref="_ZN7cricket19UsrsctpTransportMap8RegisterEPNS_16UsrsctpTransportE" data-ref-filename="_ZN7cricket19UsrsctpTransportMap8RegisterEPNS_16UsrsctpTransportE">Register</a>(<b>this</b>);</td></tr>
<tr><th id="965">965</th><td>  <i>// Register our id as an address for usrsctp. This is used by SCTP to</i></td></tr>
<tr><th id="966">966</th><td><i>  // direct the packets received (by the created socket) to this class.</i></td></tr>
<tr><th id="967">967</th><td>  <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_register_address" title='usrsctp_register_address' data-ref="usrsctp_register_address" data-ref-filename="usrsctp_register_address">usrsctp_register_address</a>(<b>reinterpret_cast</b>&lt;<em>void</em>*&gt;(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::id_" title='cricket::UsrsctpTransport::id_' data-ref="cricket::UsrsctpTransport::id_" data-ref-filename="cricket..UsrsctpTransport..id_">id_</a>));</td></tr>
<tr><th id="968">968</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="969">969</th><td>}</td></tr>
<tr><th id="970">970</th><td></td></tr>
<tr><th id="971">971</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport19ConfigureSctpSocketEv" title='cricket::UsrsctpTransport::ConfigureSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport19ConfigureSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport19ConfigureSctpSocketEv">ConfigureSctpSocket</dfn>() {</td></tr>
<tr><th id="972">972</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 972, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="973">973</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#429" title="(sock_) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 973, &quot;sock_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>);</td></tr>
<tr><th id="974">974</th><td>  <i>// Make the socket non-blocking. Connect, close, shutdown etc will not block</i></td></tr>
<tr><th id="975">975</th><td><i>  // the thread waiting for the socket operation to complete.</i></td></tr>
<tr><th id="976">976</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_set_non_blocking" title='usrsctp_set_non_blocking' data-ref="usrsctp_set_non_blocking" data-ref-filename="usrsctp_set_non_blocking">usrsctp_set_non_blocking</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <var>1</var>) &lt; <var>0</var>) {</td></tr>
<tr><th id="977">977</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 977, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="978">978</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ConfigureSctpSocket(): "</q></td></tr>
<tr><th id="979">979</th><td>                               <q>"Failed to set SCTP to non blocking."</q>;</td></tr>
<tr><th id="980">980</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="981">981</th><td>  }</td></tr>
<tr><th id="982">982</th><td></td></tr>
<tr><th id="983">983</th><td>  <i>// This ensures that the usrsctp close call deletes the association. This</i></td></tr>
<tr><th id="984">984</th><td><i>  // prevents usrsctp from calling OnSctpOutboundPacket with references to</i></td></tr>
<tr><th id="985">985</th><td><i>  // this class as the address.</i></td></tr>
<tr><th id="986">986</th><td>  <span class='type' title='linger' data-ref="linger" data-ref-filename="linger">linger</span> <span class='ref fn fake' title='linger::linger' data-ref="_ZN6lingerC1Ev" data-ref-filename="_ZN6lingerC1Ev"></span><dfn class="local col9 decl" id="299linger_opt" title='linger_opt' data-type='linger' data-ref="299linger_opt" data-ref-filename="299linger_opt">linger_opt</dfn>;</td></tr>
<tr><th id="987">987</th><td>  <a class="local col9 ref" href="#299linger_opt" title='linger_opt' data-ref="299linger_opt" data-ref-filename="299linger_opt">linger_opt</a>.<span class='ref field' title='linger::l_onoff' data-ref="linger::l_onoff" data-ref-filename="linger..l_onoff">l_onoff</span> = <var>1</var>;</td></tr>
<tr><th id="988">988</th><td>  <a class="local col9 ref" href="#299linger_opt" title='linger_opt' data-ref="299linger_opt" data-ref-filename="299linger_opt">linger_opt</a>.<span class='ref field' title='linger::l_linger' data-ref="linger::l_linger" data-ref-filename="linger..l_linger">l_linger</span> = <var>0</var>;</td></tr>
<tr><th id="989">989</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="0xffff" data-ref="_M/SOL_SOCKET">SOL_SOCKET</span>, <span class="macro" title="0x0080" data-ref="_M/SO_LINGER">SO_LINGER</span>, &amp;<a class="local col9 ref" href="#299linger_opt" title='linger_opt' data-ref="299linger_opt" data-ref-filename="299linger_opt">linger_opt</a>,</td></tr>
<tr><th id="990">990</th><td>                         <b>sizeof</b>(<a class="local col9 ref" href="#299linger_opt" title='linger_opt' data-ref="299linger_opt" data-ref-filename="299linger_opt">linger_opt</a>))) {</td></tr>
<tr><th id="991">991</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 991, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="992">992</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ConfigureSctpSocket(): "</q></td></tr>
<tr><th id="993">993</th><td>                               <q>"Failed to set SO_LINGER."</q>;</td></tr>
<tr><th id="994">994</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="995">995</th><td>  }</td></tr>
<tr><th id="996">996</th><td></td></tr>
<tr><th id="997">997</th><td>  <i>// Enable stream ID resets.</i></td></tr>
<tr><th id="998">998</th><td>  <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_value" title='sctp_assoc_value' data-ref="sctp_assoc_value" data-ref-filename="sctp_assoc_value">sctp_assoc_value</a> <a class="ref fn fake" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#650" title='sctp_assoc_value::sctp_assoc_value' data-ref="_ZN16sctp_assoc_valueC1Ev" data-ref-filename="_ZN16sctp_assoc_valueC1Ev"></a><dfn class="local col0 decl" id="300stream_rst" title='stream_rst' data-type='struct sctp_assoc_value' data-ref="300stream_rst" data-ref-filename="300stream_rst">stream_rst</dfn>;</td></tr>
<tr><th id="999">999</th><td>  <a class="local col0 ref" href="#300stream_rst" title='stream_rst' data-ref="300stream_rst" data-ref-filename="300stream_rst">stream_rst</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_value::assoc_id" title='sctp_assoc_value::assoc_id' data-ref="sctp_assoc_value::assoc_id" data-ref-filename="sctp_assoc_value..assoc_id">assoc_id</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#147" title="2" data-ref="_M/SCTP_ALL_ASSOC">SCTP_ALL_ASSOC</a>;</td></tr>
<tr><th id="1000">1000</th><td>  <a class="local col0 ref" href="#300stream_rst" title='stream_rst' data-ref="300stream_rst" data-ref-filename="300stream_rst">stream_rst</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_value::assoc_value" title='sctp_assoc_value::assoc_value' data-ref="sctp_assoc_value::assoc_value" data-ref-filename="sctp_assoc_value..assoc_value">assoc_value</a> = <var>1</var>;</td></tr>
<tr><th id="1001">1001</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#564" title="0x00000900" data-ref="_M/SCTP_ENABLE_STREAM_RESET">SCTP_ENABLE_STREAM_RESET</a>,</td></tr>
<tr><th id="1002">1002</th><td>                         &amp;<a class="local col0 ref" href="#300stream_rst" title='stream_rst' data-ref="300stream_rst" data-ref-filename="300stream_rst">stream_rst</a>, <b>sizeof</b>(<a class="local col0 ref" href="#300stream_rst" title='stream_rst' data-ref="300stream_rst" data-ref-filename="300stream_rst">stream_rst</a>))) {</td></tr>
<tr><th id="1003">1003</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1003, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1004">1004</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ConfigureSctpSocket(): "</q></td></tr>
<tr><th id="1005">1005</th><td>                               <q>"Failed to set SCTP_ENABLE_STREAM_RESET."</q>;</td></tr>
<tr><th id="1006">1006</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1007">1007</th><td>  }</td></tr>
<tr><th id="1008">1008</th><td></td></tr>
<tr><th id="1009">1009</th><td>  <i>// Nagle.</i></td></tr>
<tr><th id="1010">1010</th><td>  <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col1 decl" id="301nodelay" title='nodelay' data-type='uint32_t' data-ref="301nodelay" data-ref-filename="301nodelay">nodelay</dfn> = <var>1</var>;</td></tr>
<tr><th id="1011">1011</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#525" title="0x00000004" data-ref="_M/SCTP_NODELAY">SCTP_NODELAY</a>, &amp;<a class="local col1 ref" href="#301nodelay" title='nodelay' data-ref="301nodelay" data-ref-filename="301nodelay">nodelay</a>,</td></tr>
<tr><th id="1012">1012</th><td>                         <b>sizeof</b>(<a class="local col1 ref" href="#301nodelay" title='nodelay' data-ref="301nodelay" data-ref-filename="301nodelay">nodelay</a>))) {</td></tr>
<tr><th id="1013">1013</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1013, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1014">1014</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ConfigureSctpSocket(): "</q></td></tr>
<tr><th id="1015">1015</th><td>                               <q>"Failed to set SCTP_NODELAY."</q>;</td></tr>
<tr><th id="1016">1016</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1017">1017</th><td>  }</td></tr>
<tr><th id="1018">1018</th><td></td></tr>
<tr><th id="1019">1019</th><td>  <i>// Explicit EOR.</i></td></tr>
<tr><th id="1020">1020</th><td>  <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col2 decl" id="302eor" title='eor' data-type='uint32_t' data-ref="302eor" data-ref-filename="302eor">eor</dfn> = <var>1</var>;</td></tr>
<tr><th id="1021">1021</th><td>  <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#546" title="0x0000001b" data-ref="_M/SCTP_EXPLICIT_EOR">SCTP_EXPLICIT_EOR</a>, &amp;<a class="local col2 ref" href="#302eor" title='eor' data-ref="302eor" data-ref-filename="302eor">eor</a>,</td></tr>
<tr><th id="1022">1022</th><td>                         <b>sizeof</b>(<a class="local col2 ref" href="#302eor" title='eor' data-ref="302eor" data-ref-filename="302eor">eor</a>))) {</td></tr>
<tr><th id="1023">1023</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1023, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1024">1024</th><td>                            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ConfigureSctpSocket(): "</q></td></tr>
<tr><th id="1025">1025</th><td>                               <q>"Failed to set SCTP_EXPLICIT_EOR."</q>;</td></tr>
<tr><th id="1026">1026</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1027">1027</th><td>  }</td></tr>
<tr><th id="1028">1028</th><td></td></tr>
<tr><th id="1029">1029</th><td>  <i>// Subscribe to SCTP event notifications.</i></td></tr>
<tr><th id="1030">1030</th><td><i>  // TODO(crbug.com/1137936): Subscribe to SCTP_SEND_FAILED_EVENT once deadlock</i></td></tr>
<tr><th id="1031">1031</th><td><i>  // is fixed upstream, or we switch to the upcall API:</i></td></tr>
<tr><th id="1032">1032</th><td><i>  // <a href="https://github.com/sctplab/usrsctp/issues/537">https://github.com/sctplab/usrsctp/issues/537</a></i></td></tr>
<tr><th id="1033">1033</th><td>  <em>int</em> <dfn class="local col3 decl" id="303event_types" title='event_types' data-type='int [4]' data-ref="303event_types" data-ref-filename="303event_types">event_types</dfn>[] = {<a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#245" title="0x0001" data-ref="_M/SCTP_ASSOC_CHANGE">SCTP_ASSOC_CHANGE</a>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#246" title="0x0002" data-ref="_M/SCTP_PEER_ADDR_CHANGE">SCTP_PEER_ADDR_CHANGE</a>,</td></tr>
<tr><th id="1034">1034</th><td>                       <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#254" title="0x000a" data-ref="_M/SCTP_SENDER_DRY_EVENT">SCTP_SENDER_DRY_EVENT</a>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#253" title="0x0009" data-ref="_M/SCTP_STREAM_RESET_EVENT">SCTP_STREAM_RESET_EVENT</a>};</td></tr>
<tr><th id="1035">1035</th><td>  <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_event" title='sctp_event' data-ref="sctp_event" data-ref-filename="sctp_event">sctp_event</a> <dfn class="local col4 decl" id="304event" title='event' data-type='struct sctp_event' data-ref="304event" data-ref-filename="304event">event</dfn> = {<var>0</var>};</td></tr>
<tr><th id="1036">1036</th><td>  <a class="local col4 ref" href="#304event" title='event' data-ref="304event" data-ref-filename="304event">event</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_event::se_assoc_id" title='sctp_event::se_assoc_id' data-ref="sctp_event::se_assoc_id" data-ref-filename="sctp_event..se_assoc_id">se_assoc_id</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#147" title="2" data-ref="_M/SCTP_ALL_ASSOC">SCTP_ALL_ASSOC</a>;</td></tr>
<tr><th id="1037">1037</th><td>  <a class="local col4 ref" href="#304event" title='event' data-ref="304event" data-ref-filename="304event">event</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_event::se_on" title='sctp_event::se_on' data-ref="sctp_event::se_on" data-ref-filename="sctp_event..se_on">se_on</a> = <var>1</var>;</td></tr>
<tr><th id="1038">1038</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="305i" title='i' data-type='size_t' data-ref="305i" data-ref-filename="305i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#305i" title='i' data-ref="305i" data-ref-filename="305i">i</a> &lt; <a class="macro" href="../../rtc_base/arraysize.h.html#30" title="(sizeof(ArraySizeHelper(event_types)))" data-ref="_M/arraysize">arraysize</a>(<span class='refarg'><a class="local col3 ref" href="#303event_types" title='event_types' data-ref="303event_types" data-ref-filename="303event_types">event_types</a></span>); <a class="local col5 ref" href="#305i" title='i' data-ref="305i" data-ref-filename="305i">i</a>++) {</td></tr>
<tr><th id="1039">1039</th><td>    <a class="local col4 ref" href="#304event" title='event' data-ref="304event" data-ref-filename="304event">event</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_event::se_type" title='sctp_event::se_type' data-ref="sctp_event::se_type" data-ref-filename="sctp_event..se_type">se_type</a> = <a class="local col3 ref" href="#303event_types" title='event_types' data-ref="303event_types" data-ref-filename="303event_types">event_types</a>[<a class="local col5 ref" href="#305i" title='i' data-ref="305i" data-ref-filename="305i">i</a>];</td></tr>
<tr><th id="1040">1040</th><td>    <b>if</b> (<a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#549" title="0x0000001e" data-ref="_M/SCTP_EVENT">SCTP_EVENT</a>, &amp;<a class="local col4 ref" href="#304event" title='event' data-ref="304event" data-ref-filename="304event">event</a>,</td></tr>
<tr><th id="1041">1041</th><td>                           <b>sizeof</b>(<a class="local col4 ref" href="#304event" title='event' data-ref="304event" data-ref-filename="304event">event</a>)) &lt; <var>0</var>) {</td></tr>
<tr><th id="1042">1042</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1042, ::rtc::LS_ERROR}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1043">1043</th><td>                              <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;ConfigureSctpSocket(): "</q></td></tr>
<tr><th id="1044">1044</th><td>                                 <q>"Failed to set SCTP_EVENT type: "</q></td></tr>
<tr><th id="1045">1045</th><td>                              <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#304event" title='event' data-ref="304event" data-ref-filename="304event">event</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_event::se_type" title='sctp_event::se_type' data-ref="sctp_event::se_type" data-ref-filename="sctp_event..se_type">se_type</a>;</td></tr>
<tr><th id="1046">1046</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1047">1047</th><td>    }</td></tr>
<tr><th id="1048">1048</th><td>  }</td></tr>
<tr><th id="1049">1049</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1050">1050</th><td>}</td></tr>
<tr><th id="1051">1051</th><td></td></tr>
<tr><th id="1052">1052</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" title='cricket::UsrsctpTransport::CloseSctpSocket' data-ref="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv" data-ref-filename="_ZN7cricket16UsrsctpTransport15CloseSctpSocketEv">CloseSctpSocket</dfn>() {</td></tr>
<tr><th id="1053">1053</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1053, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1054">1054</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>) {</td></tr>
<tr><th id="1055">1055</th><td>    <i>// We assume that SO_LINGER option is set to close the association when</i></td></tr>
<tr><th id="1056">1056</th><td><i>    // close is called. This means that any pending packets in usrsctp will be</i></td></tr>
<tr><th id="1057">1057</th><td><i>    // discarded instead of being sent.</i></td></tr>
<tr><th id="1058">1058</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_close" title='usrsctp_close' data-ref="usrsctp_close" data-ref-filename="usrsctp_close">usrsctp_close</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>);</td></tr>
<tr><th id="1059">1059</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a> = <b>nullptr</b>;</td></tr>
<tr><th id="1060">1060</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_deregister_address" title='usrsctp_deregister_address' data-ref="usrsctp_deregister_address" data-ref-filename="usrsctp_deregister_address">usrsctp_deregister_address</a>(<b>reinterpret_cast</b>&lt;<em>void</em>*&gt;(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::id_" title='cricket::UsrsctpTransport::id_' data-ref="cricket::UsrsctpTransport::id_" data-ref-filename="cricket..UsrsctpTransport..id_">id_</a>));</td></tr>
<tr><th id="1061">1061</th><td>    <a class="macro" href="../../rtc_base/checks.h.html#386" title="(g_transport_map_-&gt;Deregister(id_)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1061, &quot;g_transport_map_-&gt;Deregister(id_)&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_CHECK">RTC_CHECK</a>(<a class="tu ref" href="#(anonymousnamespace)::g_transport_map_" title='(anonymous namespace)::g_transport_map_' data-use='r' data-ref="(anonymousnamespace)::g_transport_map_" data-ref-filename="(anonymousnamespace)..g_transport_map_">g_transport_map_</a>-&gt;<a class="ref fn" href="#_ZN7cricket19UsrsctpTransportMap10DeregisterEm" title='cricket::UsrsctpTransportMap::Deregister' data-ref="_ZN7cricket19UsrsctpTransportMap10DeregisterEm" data-ref-filename="_ZN7cricket19UsrsctpTransportMap10DeregisterEm">Deregister</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::id_" title='cricket::UsrsctpTransport::id_' data-ref="cricket::UsrsctpTransport::id_" data-ref-filename="cricket..UsrsctpTransport..id_">id_</a>));</td></tr>
<tr><th id="1062">1062</th><td>    <a class="type" href="#cricket::UsrsctpTransport::UsrSctpWrapper" title='cricket::UsrsctpTransport::UsrSctpWrapper' data-ref="cricket::UsrsctpTransport::UsrSctpWrapper" data-ref-filename="cricket..UsrsctpTransport..UsrSctpWrapper">UsrSctpWrapper</a>::<a class="ref fn" href="#_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" title='cricket::UsrsctpTransport::UsrSctpWrapper::DecrementUsrSctpUsageCount' data-ref="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv" data-ref-filename="_ZN7cricket16UsrsctpTransport14UsrSctpWrapper26DecrementUsrSctpUsageCountEv">DecrementUsrSctpUsageCount</a>();</td></tr>
<tr><th id="1063">1063</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::ready_to_send_data_" title='cricket::UsrsctpTransport::ready_to_send_data_' data-ref="cricket::UsrsctpTransport::ready_to_send_data_" data-ref-filename="cricket..UsrsctpTransport..ready_to_send_data_">ready_to_send_data_</a> = <b>false</b>;</td></tr>
<tr><th id="1064">1064</th><td>  }</td></tr>
<tr><th id="1065">1065</th><td>}</td></tr>
<tr><th id="1066">1066</th><td></td></tr>
<tr><th id="1067">1067</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" title='cricket::UsrsctpTransport::SendQueuedStreamResets' data-ref="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv">SendQueuedStreamResets</dfn>() {</td></tr>
<tr><th id="1068">1068</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1068, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1069">1069</th><td></td></tr>
<tr><th id="1070">1070</th><td>  <em>auto</em> <dfn class="local col6 decl" id="306needs_reset" title='needs_reset' data-type='(lambda at /Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc:1071:7)' data-ref="306needs_reset" data-ref-filename="306needs_reset">needs_reset</dfn> =</td></tr>
<tr><th id="1071">1071</th><td>      [<b>this</b>](<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::map' data-ref="std::__1::map" data-ref-filename="std..__1..map">map</span>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>, <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus" title='cricket::UsrsctpTransport::StreamStatus' data-ref="cricket::UsrsctpTransport::StreamStatus" data-ref-filename="cricket..UsrsctpTransport..StreamStatus">StreamStatus</a>&gt;::<span class='typedef' title='std::__1::map&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus, std::__1::less&lt;unsigned int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;&gt;&gt;::value_type' data-type='pair&lt;const std::__1::map&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus, std::__1::less&lt;unsigned int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;&gt;&gt;::key_type, std::__1::map&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus, std::__1::less&lt;unsigned int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;&gt;&gt;::mapped_type&gt;' data-ref="std::__1::map{unsignedint,cricket::UsrsctpTransport::StreamStatus,std::__1::less{unsignedint},std::__1::allocator{std::__1::pair{constunsignedint,cric7670916" data-ref-filename="std..__1..map{unsignedint,cricket..UsrsctpTransport..StreamStatus,std..__1..less{unsignedint},std..__1..allocator{std..__1..pair{constunsignedint,cric7670916">value_type</span>&amp; <dfn class="local col7 decl" id="307stream" title='stream' data-type='const std::map&lt;uint32_t, StreamStatus&gt;::value_type &amp;' data-ref="307stream" data-ref-filename="307stream">stream</dfn>) {</td></tr>
<tr><th id="1072">1072</th><td>        <i>// Ignore streams with partial outgoing messages as they are required to</i></td></tr>
<tr><th id="1073">1073</th><td><i>        // be fully sent by the WebRTC spec</i></td></tr>
<tr><th id="1074">1074</th><td><i>        // <a href="https://w3c.github.io/webrtc-pc/#closing-procedure">https://w3c.github.io/webrtc-pc/#closing-procedure</a></i></td></tr>
<tr><th id="1075">1075</th><td>        <b>return</b> <a class="local col7 ref" href="#307stream" title='stream' data-ref="307stream" data-ref-filename="307stream">stream</a>.<span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv" title='cricket::UsrsctpTransport::StreamStatus::need_outgoing_reset' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv">need_outgoing_reset</a>() &amp;&amp;</td></tr>
<tr><th id="1076">1076</th><td>               (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>() ||</td></tr>
<tr><th id="1077">1077</th><td>                <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::optional::value' data-ref="_ZNRSt3__18optional5valueEv" data-ref-filename="_ZNRSt3__18optional5valueEv">value</span>().<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" title='cricket::UsrsctpTransport::OutgoingMessage::sid' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv">sid</a>() !=</td></tr>
<tr><th id="1078">1078</th><td>                    <b>static_cast</b>&lt;<em>int</em>&gt;(<a class="local col7 ref" href="#307stream" title='stream' data-ref="307stream" data-ref-filename="307stream">stream</a>.<span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::first' data-ref="std::__1::pair::first" data-ref-filename="std..__1..pair..first">first</span>));</td></tr>
<tr><th id="1079">1079</th><td>      };</td></tr>
<tr><th id="1080">1080</th><td>  <i>// Figure out how many streams need to be reset. We need to do this so we can</i></td></tr>
<tr><th id="1081">1081</th><td><i>  // allocate the right amount of memory for the sctp_reset_streams structure.</i></td></tr>
<tr><th id="1082">1082</th><td>  <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col8 decl" id="308num_streams" title='num_streams' data-type='size_t' data-ref="308num_streams" data-ref-filename="308num_streams">num_streams</dfn> = <span class="namespace">absl::</span><a class="tu ref fn" href="../../../third_party/abseil-cpp/absl/algorithm/container.h.html#_ZN4absl10c_count_ifERKT_OT0_" title='absl::c_count_if' data-use='c' data-ref="_ZN4absl10c_count_ifERKT_OT0_" data-ref-filename="_ZN4absl10c_count_ifERKT_OT0_">c_count_if</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>, <span class='refarg'><a class="local col6 ref" href="#306needs_reset" title='needs_reset' data-ref="306needs_reset" data-ref-filename="306needs_reset">needs_reset</a></span>);</td></tr>
<tr><th id="1083">1083</th><td>  <b>if</b> (<a class="local col8 ref" href="#308num_streams" title='num_streams' data-ref="308num_streams" data-ref-filename="308num_streams">num_streams</a> == <var>0</var>) {</td></tr>
<tr><th id="1084">1084</th><td>    <i>// Nothing to reset.</i></td></tr>
<tr><th id="1085">1085</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1086">1086</th><td>  }</td></tr>
<tr><th id="1087">1087</th><td></td></tr>
<tr><th id="1088">1088</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1088, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SendQueuedStreamResets["</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1089">1089</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"]: Resetting "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col8 ref" href="#308num_streams" title='num_streams' data-ref="308num_streams" data-ref-filename="308num_streams">num_streams</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" outgoing streams."</q>;</td></tr>
<tr><th id="1090">1090</th><td></td></tr>
<tr><th id="1091">1091</th><td>  <em>const</em> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col9 decl" id="309num_bytes" title='num_bytes' data-type='const size_t' data-ref="309num_bytes" data-ref-filename="309num_bytes">num_bytes</dfn> =</td></tr>
<tr><th id="1092">1092</th><td>      <b>sizeof</b>(<b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams" title='sctp_reset_streams' data-ref="sctp_reset_streams" data-ref-filename="sctp_reset_streams">sctp_reset_streams</a>) + (<a class="local col8 ref" href="#308num_streams" title='num_streams' data-ref="308num_streams" data-ref-filename="308num_streams">num_streams</a> * <b>sizeof</b>(<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>));</td></tr>
<tr><th id="1093">1093</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>&gt; <dfn class="local col0 decl" id="310reset_stream_buf" title='reset_stream_buf' data-type='std::vector&lt;uint8_t&gt;' data-ref="310reset_stream_buf" data-ref-filename="310reset_stream_buf">reset_stream_buf</dfn><span class='ref fn' title='std::__1::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_" data-ref-filename="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_">(</span><a class="local col9 ref" href="#309num_bytes" title='num_bytes' data-ref="309num_bytes" data-ref-filename="309num_bytes">num_bytes</a>, <var>0</var>);</td></tr>
<tr><th id="1094">1094</th><td>  <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams" title='sctp_reset_streams' data-ref="sctp_reset_streams" data-ref-filename="sctp_reset_streams">sctp_reset_streams</a>* <dfn class="local col1 decl" id="311resetp" title='resetp' data-type='struct sctp_reset_streams *' data-ref="311resetp" data-ref-filename="311resetp">resetp</dfn> =</td></tr>
<tr><th id="1095">1095</th><td>      <b>reinterpret_cast</b>&lt;<a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams" title='sctp_reset_streams' data-ref="sctp_reset_streams" data-ref-filename="sctp_reset_streams">sctp_reset_streams</a>*&gt;(&amp;<a class="local col0 ref" href="#310reset_stream_buf" title='reset_stream_buf' data-ref="310reset_stream_buf" data-ref-filename="310reset_stream_buf">reset_stream_buf</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span>);</td></tr>
<tr><th id="1096">1096</th><td>  <a class="local col1 ref" href="#311resetp" title='resetp' data-ref="311resetp" data-ref-filename="311resetp">resetp</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams::srs_assoc_id" title='sctp_reset_streams::srs_assoc_id' data-ref="sctp_reset_streams::srs_assoc_id" data-ref-filename="sctp_reset_streams..srs_assoc_id">srs_assoc_id</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#147" title="2" data-ref="_M/SCTP_ALL_ASSOC">SCTP_ALL_ASSOC</a>;</td></tr>
<tr><th id="1097">1097</th><td>  <a class="local col1 ref" href="#311resetp" title='resetp' data-ref="311resetp" data-ref-filename="311resetp">resetp</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams::srs_flags" title='sctp_reset_streams::srs_flags' data-ref="sctp_reset_streams::srs_flags" data-ref-filename="sctp_reset_streams..srs_flags">srs_flags</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#394" title="0x00000002" data-ref="_M/SCTP_STREAM_RESET_OUTGOING">SCTP_STREAM_RESET_OUTGOING</a>;</td></tr>
<tr><th id="1098">1098</th><td>  <a class="local col1 ref" href="#311resetp" title='resetp' data-ref="311resetp" data-ref-filename="311resetp">resetp</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams::srs_number_streams" title='sctp_reset_streams::srs_number_streams' data-ref="sctp_reset_streams::srs_number_streams" data-ref-filename="sctp_reset_streams..srs_number_streams">srs_number_streams</a> = <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/numerics/safe_conversions.h.html#_ZN3rtc12checked_castET0_" title='rtc::checked_cast' data-ref="_ZN3rtc12checked_castET0_" data-ref-filename="_ZN3rtc12checked_castET0_">checked_cast</a>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;(<a class="local col8 ref" href="#308num_streams" title='num_streams' data-ref="308num_streams" data-ref-filename="308num_streams">num_streams</a>);</td></tr>
<tr><th id="1099">1099</th><td>  <em>int</em> <dfn class="local col2 decl" id="312result_idx" title='result_idx' data-type='int' data-ref="312result_idx" data-ref-filename="312result_idx">result_idx</dfn> = <var>0</var>;</td></tr>
<tr><th id="1100">1100</th><td></td></tr>
<tr><th id="1101">1101</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col3 decl" id="313stream" title='stream' data-type='const std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt; &amp;' data-ref="313stream" data-ref-filename="313stream">stream</dfn> : <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>) {</td></tr>
<tr><th id="1102">1102</th><td>    <b>if</b> (<a class="local col6 ref" href="#306needs_reset" title='needs_reset' data-ref="306needs_reset" data-ref-filename="306needs_reset">needs_reset</a><a class="tu ref fn" href="#_ZZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEvENK3$_0clERKNSt3__14pairIKjNS0_12StreamStatusEEE" title='cricket::UsrsctpTransport::SendQueuedStreamResets()::(anonymous class)::operator()' data-use='c' data-ref="_ZZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEvENK3$_0clERKNSt3__14pairIKjNS0_12StreamStatusEEE" data-ref-filename="_ZZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEvENK3$_0clERKNSt3__14pairIKjNS0_12StreamStatusEEE">(<a class="local col3 ref" href="#313stream" title='stream' data-ref="313stream" data-ref-filename="313stream">stream</a>)</a>) {</td></tr>
<tr><th id="1103">1103</th><td>      <a class="local col1 ref" href="#311resetp" title='resetp' data-ref="311resetp" data-ref-filename="311resetp">resetp</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_reset_streams::srs_stream_list" title='sctp_reset_streams::srs_stream_list' data-ref="sctp_reset_streams::srs_stream_list" data-ref-filename="sctp_reset_streams..srs_stream_list">srs_stream_list</a>[<a class="local col2 ref" href="#312result_idx" title='result_idx' data-ref="312result_idx" data-ref-filename="312result_idx">result_idx</a>++] = <a class="local col3 ref" href="#313stream" title='stream' data-ref="313stream" data-ref-filename="313stream">stream</a>.<span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::first' data-ref="std::__1::pair::first" data-ref-filename="std..__1..pair..first">first</span>;</td></tr>
<tr><th id="1104">1104</th><td>    }</td></tr>
<tr><th id="1105">1105</th><td>  }</td></tr>
<tr><th id="1106">1106</th><td></td></tr>
<tr><th id="1107">1107</th><td>  <em>int</em> <dfn class="local col4 decl" id="314ret" title='ret' data-type='int' data-ref="314ret" data-ref-filename="314ret">ret</dfn> =</td></tr>
<tr><th id="1108">1108</th><td>      <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_setsockopt" title='usrsctp_setsockopt' data-ref="usrsctp_setsockopt" data-ref-filename="usrsctp_setsockopt">usrsctp_setsockopt</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>, <span class="macro" title="132" data-ref="_M/IPPROTO_SCTP">IPPROTO_SCTP</span>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#592" title="0x00000901" data-ref="_M/SCTP_RESET_STREAMS">SCTP_RESET_STREAMS</a>, <a class="local col1 ref" href="#311resetp" title='resetp' data-ref="311resetp" data-ref-filename="311resetp">resetp</a>,</td></tr>
<tr><th id="1109">1109</th><td>                         <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/numerics/safe_conversions.h.html#_ZN3rtc12checked_castET0_" title='rtc::checked_cast' data-ref="_ZN3rtc12checked_castET0_" data-ref-filename="_ZN3rtc12checked_castET0_">checked_cast</a>&lt;<span class='typedef' title='socklen_t' data-type='__darwin_socklen_t' data-ref="socklen_t" data-ref-filename="socklen_t">socklen_t</span>&gt;(<a class="local col0 ref" href="#310reset_stream_buf" title='reset_stream_buf' data-ref="310reset_stream_buf" data-ref-filename="310reset_stream_buf">reset_stream_buf</a>.<span class='ref fn' title='std::__1::vector::size' data-ref="_ZNKSt3__16vector4sizeEv" data-ref-filename="_ZNKSt3__16vector4sizeEv">size</span>()));</td></tr>
<tr><th id="1110">1110</th><td>  <b>if</b> (<a class="local col4 ref" href="#314ret" title='ret' data-ref="314ret" data-ref-filename="314ret">ret</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="1111">1111</th><td>    <i>// Note that usrsctp only lets us have one reset in progress at a time</i></td></tr>
<tr><th id="1112">1112</th><td><i>    // (even though multiple streams can be reset at once). If this happens,</i></td></tr>
<tr><th id="1113">1113</th><td><i>    // SendQueuedStreamResets will end up called after the current in-progress</i></td></tr>
<tr><th id="1114">1114</th><td><i>    // reset finishes, in OnStreamResetEvent.</i></td></tr>
<tr><th id="1115">1115</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#658" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadataErr { {&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1115, ::rtc::LS_WARNING}, ::rtc::ERRCTX_ERRNO, ((*__error())) }" data-ref="_M/RTC_LOG_ERRNO">RTC_LOG_ERRNO</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1116">1116</th><td>                              <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;SendQueuedStreamResets(): "</q></td></tr>
<tr><th id="1117">1117</th><td>                                 <q>"Failed to send a stream reset for "</q></td></tr>
<tr><th id="1118">1118</th><td>                              <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col8 ref" href="#308num_streams" title='num_streams' data-ref="308num_streams" data-ref-filename="308num_streams">num_streams</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" streams"</q>;</td></tr>
<tr><th id="1119">1119</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1120">1120</th><td>  }</td></tr>
<tr><th id="1121">1121</th><td></td></tr>
<tr><th id="1122">1122</th><td>  <i>// Since the usrsctp call completed successfully, update our stream status</i></td></tr>
<tr><th id="1123">1123</th><td><i>  // map to note that we started the outgoing reset.</i></td></tr>
<tr><th id="1124">1124</th><td>  <b>for</b> (<em>auto</em> <dfn class="local col5 decl" id="315it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="315it" data-ref-filename="315it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::begin' data-ref="_ZNSt3__13map5beginEv" data-ref-filename="_ZNSt3__13map5beginEv">begin</span>();</td></tr>
<tr><th id="1125">1125</th><td>       <a class="local col5 ref" href="#315it" title='it' data-ref="315it" data-ref-filename="315it">it</a> <span class='ref fn' title='std::__1::operator!=' data-ref="_ZNSt3__1neERKNS_14__map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1neERKNS_14__map_iteratorIT_EES5_">!=</span> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::end' data-ref="_ZNSt3__13map3endEv" data-ref-filename="_ZNSt3__13map3endEv">end</span>(); <span class='ref fn' title='std::__1::__map_iterator::operator++' data-ref="_ZNSt3__114__map_iteratorppEv" data-ref-filename="_ZNSt3__114__map_iteratorppEv">++</span><a class="local col5 ref" href="#315it" title='it' data-ref="315it" data-ref-filename="315it">it</a>) {</td></tr>
<tr><th id="1126">1126</th><td>    <b>if</b> (<a class="local col5 ref" href="#315it" title='it' data-ref="315it" data-ref-filename="315it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv" title='cricket::UsrsctpTransport::StreamStatus::need_outgoing_reset' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv">need_outgoing_reset</a>()) {</td></tr>
<tr><th id="1127">1127</th><td>      <a class="local col5 ref" href="#315it" title='it' data-ref="315it" data-ref-filename="315it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus::outgoing_reset_initiated" title='cricket::UsrsctpTransport::StreamStatus::outgoing_reset_initiated' data-ref="cricket::UsrsctpTransport::StreamStatus::outgoing_reset_initiated" data-ref-filename="cricket..UsrsctpTransport..StreamStatus..outgoing_reset_initiated">outgoing_reset_initiated</a> = <b>true</b>;</td></tr>
<tr><th id="1128">1128</th><td>    }</td></tr>
<tr><th id="1129">1129</th><td>  }</td></tr>
<tr><th id="1130">1130</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1131">1131</th><td>}</td></tr>
<tr><th id="1132">1132</th><td></td></tr>
<tr><th id="1133">1133</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" title='cricket::UsrsctpTransport::SetReadyToSendData' data-ref="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" data-ref-filename="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv">SetReadyToSendData</dfn>() {</td></tr>
<tr><th id="1134">1134</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1134, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1135">1135</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::ready_to_send_data_" title='cricket::UsrsctpTransport::ready_to_send_data_' data-ref="cricket::UsrsctpTransport::ready_to_send_data_" data-ref-filename="cricket..UsrsctpTransport..ready_to_send_data_">ready_to_send_data_</a>) {</td></tr>
<tr><th id="1136">1136</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::ready_to_send_data_" title='cricket::UsrsctpTransport::ready_to_send_data_' data-ref="cricket::UsrsctpTransport::ready_to_send_data_" data-ref-filename="cricket..UsrsctpTransport..ready_to_send_data_">ready_to_send_data_</a> = <b>true</b>;</td></tr>
<tr><th id="1137">1137</th><td>    <a class="member field" href="sctp_transport_internal.h.html#cricket::SctpTransportInternal::SignalReadyToSendData" title='cricket::SctpTransportInternal::SignalReadyToSendData' data-ref="cricket::SctpTransportInternal::SignalReadyToSendData" data-ref-filename="cricket..SctpTransportInternal..SignalReadyToSendData">SignalReadyToSendData</a><a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policyclEDpT0_" title='sigslot::signal_with_thread_policy::operator()' data-ref="_ZN7sigslot25signal_with_thread_policyclEDpT0_" data-ref-filename="_ZN7sigslot25signal_with_thread_policyclEDpT0_">()</a>;</td></tr>
<tr><th id="1138">1138</th><td>  }</td></tr>
<tr><th id="1139">1139</th><td>}</td></tr>
<tr><th id="1140">1140</th><td></td></tr>
<tr><th id="1141">1141</th><td><em>bool</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport19SendBufferedMessageEv" title='cricket::UsrsctpTransport::SendBufferedMessage' data-ref="_ZN7cricket16UsrsctpTransport19SendBufferedMessageEv" data-ref-filename="_ZN7cricket16UsrsctpTransport19SendBufferedMessageEv">SendBufferedMessage</dfn>() {</td></tr>
<tr><th id="1142">1142</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1142, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1143">1143</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#429" title="(partial_outgoing_message_.has_value()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1143, &quot;partial_outgoing_message_.has_value()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>());</td></tr>
<tr><th id="1144">1144</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#703" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1144, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_DLOG">RTC_DLOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Sending partially buffered message of size "</q></td></tr>
<tr><th id="1145">1145</th><td>                       <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a><span class='ref fn' title='std::__1::optional::operator-&gt;' data-ref="_ZNSt3__18optionalptEv" data-ref-filename="_ZNSt3__18optionalptEv">-&gt;</span><a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"."</q>;</td></tr>
<tr><th id="1146">1146</th><td></td></tr>
<tr><th id="1147">1147</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE" title='cricket::UsrsctpTransport::SendMessageInternal' data-ref="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE" data-ref-filename="_ZN7cricket16UsrsctpTransport19SendMessageInternalEPNS0_15OutgoingMessageE">SendMessageInternal</a>(&amp;<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::optional::value' data-ref="_ZNRSt3__18optional5valueEv" data-ref-filename="_ZNRSt3__18optional5valueEv">value</span>());</td></tr>
<tr><th id="1148">1148</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a><span class='ref fn' title='std::__1::optional::operator-&gt;' data-ref="_ZNSt3__18optionalptEv" data-ref-filename="_ZNSt3__18optionalptEv">-&gt;</span><a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>() &gt; <var>0</var>) {</td></tr>
<tr><th id="1149">1149</th><td>    <i>// Still need to finish sending the message.</i></td></tr>
<tr><th id="1150">1150</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1151">1151</th><td>  }</td></tr>
<tr><th id="1152">1152</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#430" title="::rtc::SafeEq((0u), (partial_outgoing_message_-&gt;size())) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1152, &quot;0u&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;partial_outgoing_message_-&gt;size()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (0u) &lt;&lt; (partial_outgoing_message_-&gt;size())" data-ref="_M/RTC_DCHECK_EQ">RTC_DCHECK_EQ</a>(<var>0u</var>, <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a><span class='ref fn' title='std::__1::optional::operator-&gt;' data-ref="_ZNSt3__18optionalptEv" data-ref-filename="_ZNSt3__18optionalptEv">-&gt;</span><a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" title='cricket::UsrsctpTransport::OutgoingMessage::size' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage4sizeEv">size</a>());</td></tr>
<tr><th id="1153">1153</th><td></td></tr>
<tr><th id="1154">1154</th><td>  <em>int</em> <dfn class="local col6 decl" id="316sid" title='sid' data-type='int' data-ref="316sid" data-ref-filename="316sid">sid</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a><span class='ref fn' title='std::__1::optional::operator-&gt;' data-ref="_ZNSt3__18optionalptEv" data-ref-filename="_ZNSt3__18optionalptEv">-&gt;</span><a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" title='cricket::UsrsctpTransport::OutgoingMessage::sid' data-ref="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport15OutgoingMessage3sidEv">sid</a>();</td></tr>
<tr><th id="1155">1155</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::__optional_destruct_base&lt;type-parameter-0-0, false&gt;::reset' data-ref="_ZNSt3__124__optional_destruct_baseIT_Lb0EE5resetEv" data-ref-filename="_ZNSt3__124__optional_destruct_baseIT_Lb0EE5resetEv">reset</span>();</td></tr>
<tr><th id="1156">1156</th><td></td></tr>
<tr><th id="1157">1157</th><td>  <i>// Send the queued stream reset if it was pending for this stream.</i></td></tr>
<tr><th id="1158">1158</th><td>  <em>auto</em> <dfn class="local col7 decl" id="317it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="317it" data-ref-filename="317it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::find' data-ref="_ZNSt3__13map4findERKT_" data-ref-filename="_ZNSt3__13map4findERKT_">find</span>(<a class="local col6 ref" href="#316sid" title='sid' data-ref="316sid" data-ref-filename="316sid">sid</a>);</td></tr>
<tr><th id="1159">1159</th><td>  <b>if</b> (<a class="local col7 ref" href="#317it" title='it' data-ref="317it" data-ref-filename="317it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv" title='cricket::UsrsctpTransport::StreamStatus::need_outgoing_reset' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus19need_outgoing_resetEv">need_outgoing_reset</a>()) {</td></tr>
<tr><th id="1160">1160</th><td>    <a class="member fn" href="#_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" title='cricket::UsrsctpTransport::SendQueuedStreamResets' data-ref="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv">SendQueuedStreamResets</a>();</td></tr>
<tr><th id="1161">1161</th><td>  }</td></tr>
<tr><th id="1162">1162</th><td></td></tr>
<tr><th id="1163">1163</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1164">1164</th><td>}</td></tr>
<tr><th id="1165">1165</th><td></td></tr>
<tr><th id="1166">1166</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport15OnWritableStateEPN3rtc23PacketTransportInternalE" title='cricket::UsrsctpTransport::OnWritableState' data-ref="_ZN7cricket16UsrsctpTransport15OnWritableStateEPN3rtc23PacketTransportInternalE" data-ref-filename="_ZN7cricket16UsrsctpTransport15OnWritableStateEPN3rtc23PacketTransportInternalE">OnWritableState</dfn>(</td></tr>
<tr><th id="1167">1167</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal" title='rtc::PacketTransportInternal' data-ref="rtc::PacketTransportInternal" data-ref-filename="rtc..PacketTransportInternal">PacketTransportInternal</a>* <dfn class="local col8 decl" id="318transport" title='transport' data-type='rtc::PacketTransportInternal *' data-ref="318transport" data-ref-filename="318transport">transport</dfn>) {</td></tr>
<tr><th id="1168">1168</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1168, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1169">1169</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#430" title="::rtc::SafeEq((transport_), (transport)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1169, &quot;transport_&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;transport&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (transport_) &lt;&lt; (transport)" data-ref="_M/RTC_DCHECK_EQ">RTC_DCHECK_EQ</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>, <a class="local col8 ref" href="#318transport" title='transport' data-ref="318transport" data-ref-filename="318transport">transport</a>);</td></tr>
<tr><th id="1170">1170</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::was_ever_writable_" title='cricket::UsrsctpTransport::was_ever_writable_' data-ref="cricket::UsrsctpTransport::was_ever_writable_" data-ref-filename="cricket..UsrsctpTransport..was_ever_writable_">was_ever_writable_</a> &amp;&amp; <a class="local col8 ref" href="#318transport" title='transport' data-ref="318transport" data-ref-filename="318transport">transport</a>-&gt;<a class="virtual ref fn" href="../../p2p/base/packet_transport_internal.h.html#_ZNK3rtc23PacketTransportInternal8writableEv" title='rtc::PacketTransportInternal::writable' data-ref="_ZNK3rtc23PacketTransportInternal8writableEv" data-ref-filename="_ZNK3rtc23PacketTransportInternal8writableEv">writable</a>()) {</td></tr>
<tr><th id="1171">1171</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::was_ever_writable_" title='cricket::UsrsctpTransport::was_ever_writable_' data-ref="cricket::UsrsctpTransport::was_ever_writable_" data-ref-filename="cricket..UsrsctpTransport..was_ever_writable_">was_ever_writable_</a> = <b>true</b>;</td></tr>
<tr><th id="1172">1172</th><td>    <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::started_" title='cricket::UsrsctpTransport::started_' data-ref="cricket::UsrsctpTransport::started_" data-ref-filename="cricket..UsrsctpTransport..started_">started_</a>) {</td></tr>
<tr><th id="1173">1173</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport7ConnectEv" title='cricket::UsrsctpTransport::Connect' data-ref="_ZN7cricket16UsrsctpTransport7ConnectEv" data-ref-filename="_ZN7cricket16UsrsctpTransport7ConnectEv">Connect</a>();</td></tr>
<tr><th id="1174">1174</th><td>    }</td></tr>
<tr><th id="1175">1175</th><td>  }</td></tr>
<tr><th id="1176">1176</th><td>}</td></tr>
<tr><th id="1177">1177</th><td></td></tr>
<tr><th id="1178">1178</th><td><i>// Called by network interface when a packet has been received.</i></td></tr>
<tr><th id="1179">1179</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="virtual decl def fn" id="_ZN7cricket16UsrsctpTransport12OnPacketReadEPN3rtc23PacketTransportInternalEPKcmRKxi" title='cricket::UsrsctpTransport::OnPacketRead' data-ref="_ZN7cricket16UsrsctpTransport12OnPacketReadEPN3rtc23PacketTransportInternalEPKcmRKxi" data-ref-filename="_ZN7cricket16UsrsctpTransport12OnPacketReadEPN3rtc23PacketTransportInternalEPKcmRKxi">OnPacketRead</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal" title='rtc::PacketTransportInternal' data-ref="rtc::PacketTransportInternal" data-ref-filename="rtc..PacketTransportInternal">PacketTransportInternal</a>* <dfn class="local col9 decl" id="319transport" title='transport' data-type='rtc::PacketTransportInternal *' data-ref="319transport" data-ref-filename="319transport">transport</dfn>,</td></tr>
<tr><th id="1180">1180</th><td>                                    <em>const</em> <em>char</em>* <dfn class="local col0 decl" id="320data" title='data' data-type='const char *' data-ref="320data" data-ref-filename="320data">data</dfn>,</td></tr>
<tr><th id="1181">1181</th><td>                                    <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="321len" title='len' data-type='size_t' data-ref="321len" data-ref-filename="321len">len</dfn>,</td></tr>
<tr><th id="1182">1182</th><td>                                    <em>const</em> <span class='typedef' title='int64_t' data-type='long long' data-ref="int64_t" data-ref-filename="int64_t">int64_t</span>&amp; <i>/* packet_time_us */</i>,</td></tr>
<tr><th id="1183">1183</th><td>                                    <em>int</em> <dfn class="local col2 decl" id="322flags" title='flags' data-type='int' data-ref="322flags" data-ref-filename="322flags">flags</dfn>) {</td></tr>
<tr><th id="1184">1184</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1184, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1185">1185</th><td>  <a class="macro" href="../../rtc_base/checks.h.html#430" title="::rtc::SafeEq((transport_), (transport)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1185, &quot;transport_&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;transport&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (transport_) &lt;&lt; (transport)" data-ref="_M/RTC_DCHECK_EQ">RTC_DCHECK_EQ</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>, <a class="local col9 ref" href="#319transport" title='transport' data-ref="319transport" data-ref-filename="319transport">transport</a>);</td></tr>
<tr><th id="1186">1186</th><td>  <a class="macro" href="../../rtc_base/trace_event.h.html#907" title="do {} while (0)" data-ref="_M/TRACE_EVENT0">TRACE_EVENT0</a>(<q>"webrtc"</q>, <q>"UsrsctpTransport::OnPacketRead"</q>);</td></tr>
<tr><th id="1187">1187</th><td></td></tr>
<tr><th id="1188">1188</th><td>  <b>if</b> (<a class="local col2 ref" href="#322flags" title='flags' data-ref="322flags" data-ref-filename="322flags">flags</a> &amp; <a class="enum" href="../../p2p/base/dtls_transport_internal.h.html#cricket::PF_SRTP_BYPASS" title='cricket::PF_SRTP_BYPASS' data-ref="cricket::PF_SRTP_BYPASS" data-ref-filename="cricket..PF_SRTP_BYPASS">PF_SRTP_BYPASS</a>) {</td></tr>
<tr><th id="1189">1189</th><td>    <i>// We are only interested in SCTP packets.</i></td></tr>
<tr><th id="1190">1190</th><td>    <b>return</b>;</td></tr>
<tr><th id="1191">1191</th><td>  }</td></tr>
<tr><th id="1192">1192</th><td></td></tr>
<tr><th id="1193">1193</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1193, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1194">1194</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OnPacketRead(...): "</q></td></tr>
<tr><th id="1195">1195</th><td>                         <q>" length="</q></td></tr>
<tr><th id="1196">1196</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col1 ref" href="#321len" title='len' data-ref="321len" data-ref-filename="321len">len</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", started: "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::started_" title='cricket::UsrsctpTransport::started_' data-ref="cricket::UsrsctpTransport::started_" data-ref-filename="cricket..UsrsctpTransport..started_">started_</a>;</td></tr>
<tr><th id="1197">1197</th><td>  <i>// Only give receiving packets to usrsctp after if connected. This enables two</i></td></tr>
<tr><th id="1198">1198</th><td><i>  // peers to each make a connect call, but for them not to receive an INIT</i></td></tr>
<tr><th id="1199">1199</th><td><i>  // packet before they have called connect; least the last receiver of the INIT</i></td></tr>
<tr><th id="1200">1200</th><td><i>  // packet will have called connect, and a connection will be established.</i></td></tr>
<tr><th id="1201">1201</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::sock_" title='cricket::UsrsctpTransport::sock_' data-ref="cricket::UsrsctpTransport::sock_" data-ref-filename="cricket..UsrsctpTransport..sock_">sock_</a>) {</td></tr>
<tr><th id="1202">1202</th><td>    <i>// Pass received packet to SCTP stack. Once processed by usrsctp, the data</i></td></tr>
<tr><th id="1203">1203</th><td><i>    // will be will be given to the global OnSctpInboundData, and then,</i></td></tr>
<tr><th id="1204">1204</th><td><i>    // marshalled by the AsyncInvoker.</i></td></tr>
<tr><th id="1205">1205</th><td>    <a class="tu ref fn" href="#_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi" title='(anonymous namespace)::VerboseLogPacket' data-use='c' data-ref="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi" data-ref-filename="_ZN12_GLOBAL__N_116VerboseLogPacketEPKvmi">VerboseLogPacket</a>(<a class="local col0 ref" href="#320data" title='data' data-ref="320data" data-ref-filename="320data">data</a>, <a class="local col1 ref" href="#321len" title='len' data-ref="321len" data-ref-filename="321len">len</a>, <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#1052" title="0" data-ref="_M/SCTP_DUMP_INBOUND">SCTP_DUMP_INBOUND</a>);</td></tr>
<tr><th id="1206">1206</th><td>    <a class="ref fn" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#usrsctp_conninput" title='usrsctp_conninput' data-ref="usrsctp_conninput" data-ref-filename="usrsctp_conninput">usrsctp_conninput</a>(<b>reinterpret_cast</b>&lt;<em>void</em>*&gt;(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::id_" title='cricket::UsrsctpTransport::id_' data-ref="cricket::UsrsctpTransport::id_" data-ref-filename="cricket..UsrsctpTransport..id_">id_</a>), <a class="local col0 ref" href="#320data" title='data' data-ref="320data" data-ref-filename="320data">data</a>, <a class="local col1 ref" href="#321len" title='len' data-ref="321len" data-ref-filename="321len">len</a>, <var>0</var>);</td></tr>
<tr><th id="1207">1207</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1208">1208</th><td>    <i>// TODO(ldixon): Consider caching the packet for very slightly better</i></td></tr>
<tr><th id="1209">1209</th><td><i>    // reliability.</i></td></tr>
<tr><th id="1210">1210</th><td>  }</td></tr>
<tr><th id="1211">1211</th><td>}</td></tr>
<tr><th id="1212">1212</th><td></td></tr>
<tr><th id="1213">1213</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport8OnClosedEPN3rtc23PacketTransportInternalE" title='cricket::UsrsctpTransport::OnClosed' data-ref="_ZN7cricket16UsrsctpTransport8OnClosedEPN3rtc23PacketTransportInternalE" data-ref-filename="_ZN7cricket16UsrsctpTransport8OnClosedEPN3rtc23PacketTransportInternalE">OnClosed</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../p2p/base/packet_transport_internal.h.html#rtc::PacketTransportInternal" title='rtc::PacketTransportInternal' data-ref="rtc::PacketTransportInternal" data-ref-filename="rtc..PacketTransportInternal">PacketTransportInternal</a>* <dfn class="local col3 decl" id="323transport" title='transport' data-type='rtc::PacketTransportInternal *' data-ref="323transport" data-ref-filename="323transport">transport</dfn>) {</td></tr>
<tr><th id="1214">1214</th><td>  <a class="member field" href="sctp_transport_internal.h.html#cricket::SctpTransportInternal::SignalClosedAbruptly" title='cricket::SctpTransportInternal::SignalClosedAbruptly' data-ref="cricket::SctpTransportInternal::SignalClosedAbruptly" data-ref-filename="cricket..SctpTransportInternal..SignalClosedAbruptly">SignalClosedAbruptly</a><a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policyclEDpT0_" title='sigslot::signal_with_thread_policy::operator()' data-ref="_ZN7sigslot25signal_with_thread_policyclEDpT0_" data-ref-filename="_ZN7sigslot25signal_with_thread_policyclEDpT0_">()</a>;</td></tr>
<tr><th id="1215">1215</th><td>}</td></tr>
<tr><th id="1216">1216</th><td></td></tr>
<tr><th id="1217">1217</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv" title='cricket::UsrsctpTransport::OnSendThresholdCallback' data-ref="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv" data-ref-filename="_ZN7cricket16UsrsctpTransport23OnSendThresholdCallbackEv">OnSendThresholdCallback</dfn>() {</td></tr>
<tr><th id="1218">1218</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1218, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1219">1219</th><td>  <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_outgoing_message_" title='cricket::UsrsctpTransport::partial_outgoing_message_' data-ref="cricket::UsrsctpTransport::partial_outgoing_message_" data-ref-filename="cricket..UsrsctpTransport..partial_outgoing_message_">partial_outgoing_message_</a>.<span class='ref fn' title='std::__1::__optional_storage_base::has_value' data-ref="_ZNKSt3__123__optional_storage_base9has_valueEv" data-ref-filename="_ZNKSt3__123__optional_storage_base9has_valueEv">has_value</span>()) {</td></tr>
<tr><th id="1220">1220</th><td>    <b>if</b> (!<a class="member fn" href="#_ZN7cricket16UsrsctpTransport19SendBufferedMessageEv" title='cricket::UsrsctpTransport::SendBufferedMessage' data-ref="_ZN7cricket16UsrsctpTransport19SendBufferedMessageEv" data-ref-filename="_ZN7cricket16UsrsctpTransport19SendBufferedMessageEv">SendBufferedMessage</a>()) {</td></tr>
<tr><th id="1221">1221</th><td>      <i>// Did not finish sending the buffered message.</i></td></tr>
<tr><th id="1222">1222</th><td>      <b>return</b>;</td></tr>
<tr><th id="1223">1223</th><td>    }</td></tr>
<tr><th id="1224">1224</th><td>  }</td></tr>
<tr><th id="1225">1225</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" title='cricket::UsrsctpTransport::SetReadyToSendData' data-ref="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" data-ref-filename="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv">SetReadyToSendData</a>();</td></tr>
<tr><th id="1226">1226</th><td>}</td></tr>
<tr><th id="1227">1227</th><td></td></tr>
<tr><th id="1228">1228</th><td><a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi" title='cricket::UsrsctpTransport::GetSctpSockAddr' data-ref="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi" data-ref-filename="_ZN7cricket16UsrsctpTransport15GetSctpSockAddrEi">GetSctpSockAddr</dfn>(<em>int</em> <dfn class="local col4 decl" id="324port" title='port' data-type='int' data-ref="324port" data-ref-filename="324port">port</dfn>) {</td></tr>
<tr><th id="1229">1229</th><td>  <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a> <dfn class="local col5 decl" id="325sconn" title='sconn' data-type='sockaddr_conn' data-ref="325sconn" data-ref-filename="325sconn">sconn</dfn> = {<var>0</var>};</td></tr>
<tr><th id="1230">1230</th><td>  <a class="local col5 ref" href="#325sconn" title='sconn' data-ref="325sconn" data-ref-filename="325sconn">sconn</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn::sconn_family" title='sockaddr_conn::sconn_family' data-ref="sockaddr_conn::sconn_family" data-ref-filename="sockaddr_conn..sconn_family">sconn_family</a> = <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#118" title="123" data-ref="_M/AF_CONN">AF_CONN</a>;</td></tr>
<tr><th id="1231">1231</th><td><u>#<span data-ppcond="1231">ifdef</span> <span class="macro" data-ref="_M/HAVE_SCONN_LEN">HAVE_SCONN_LEN</span></u></td></tr>
<tr><th id="1232">1232</th><td>  <a class="local col5 ref" href="#325sconn" title='sconn' data-ref="325sconn" data-ref-filename="325sconn">sconn</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn::sconn_len" title='sockaddr_conn::sconn_len' data-ref="sockaddr_conn::sconn_len" data-ref-filename="sockaddr_conn..sconn_len">sconn_len</a> = <b>sizeof</b>(<a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn" title='sockaddr_conn' data-ref="sockaddr_conn" data-ref-filename="sockaddr_conn">sockaddr_conn</a>);</td></tr>
<tr><th id="1233">1233</th><td><u>#<span data-ppcond="1231">endif</span></u></td></tr>
<tr><th id="1234">1234</th><td>  <i>// Note: conversion from int to uint16_t happens here.</i></td></tr>
<tr><th id="1235">1235</th><td>  <a class="local col5 ref" href="#325sconn" title='sconn' data-ref="325sconn" data-ref-filename="325sconn">sconn</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn::sconn_port" title='sockaddr_conn::sconn_port' data-ref="sockaddr_conn::sconn_port" data-ref-filename="sockaddr_conn..sconn_port">sconn_port</a> = <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/byte_order.h.html#_ZN3rtc15HostToNetwork16Et" title='rtc::HostToNetwork16' data-ref="_ZN3rtc15HostToNetwork16Et" data-ref-filename="_ZN3rtc15HostToNetwork16Et">HostToNetwork16</a>(<a class="local col4 ref" href="#324port" title='port' data-ref="324port" data-ref-filename="324port">port</a>);</td></tr>
<tr><th id="1236">1236</th><td>  <a class="local col5 ref" href="#325sconn" title='sconn' data-ref="325sconn" data-ref-filename="325sconn">sconn</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sockaddr_conn::sconn_addr" title='sockaddr_conn::sconn_addr' data-ref="sockaddr_conn::sconn_addr" data-ref-filename="sockaddr_conn..sconn_addr">sconn_addr</a> = <b>reinterpret_cast</b>&lt;<em>void</em>*&gt;(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::id_" title='cricket::UsrsctpTransport::id_' data-ref="cricket::UsrsctpTransport::id_" data-ref-filename="cricket..UsrsctpTransport..id_">id_</a>);</td></tr>
<tr><th id="1237">1237</th><td>  <b>return</b> <a class="local col5 ref" href="#325sconn" title='sconn' data-ref="325sconn" data-ref-filename="325sconn">sconn</a>;</td></tr>
<tr><th id="1238">1238</th><td>}</td></tr>
<tr><th id="1239">1239</th><td></td></tr>
<tr><th id="1240">1240</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport25OnPacketFromSctpToNetworkERKN3rtc17CopyOnWriteBufferE" title='cricket::UsrsctpTransport::OnPacketFromSctpToNetwork' data-ref="_ZN7cricket16UsrsctpTransport25OnPacketFromSctpToNetworkERKN3rtc17CopyOnWriteBufferE" data-ref-filename="_ZN7cricket16UsrsctpTransport25OnPacketFromSctpToNetworkERKN3rtc17CopyOnWriteBufferE">OnPacketFromSctpToNetwork</dfn>(</td></tr>
<tr><th id="1241">1241</th><td>    <em>const</em> <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/copy_on_write_buffer.h.html#rtc::CopyOnWriteBuffer" title='rtc::CopyOnWriteBuffer' data-ref="rtc::CopyOnWriteBuffer" data-ref-filename="rtc..CopyOnWriteBuffer">CopyOnWriteBuffer</a>&amp; <dfn class="local col6 decl" id="326buffer" title='buffer' data-type='const rtc::CopyOnWriteBuffer &amp;' data-ref="326buffer" data-ref-filename="326buffer">buffer</dfn>) {</td></tr>
<tr><th id="1242">1242</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1242, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1243">1243</th><td>  <b>if</b> (<a class="local col6 ref" href="#326buffer" title='buffer' data-ref="326buffer" data-ref-filename="326buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() &gt; (<a class="tu ref" href="#(anonymousnamespace)::kSctpMtu" title='(anonymous namespace)::kSctpMtu' data-use='r' data-ref="(anonymousnamespace)::kSctpMtu" data-ref-filename="(anonymousnamespace)..kSctpMtu">kSctpMtu</a>)) {</td></tr>
<tr><th id="1244">1244</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1244, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1245">1245</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OnPacketFromSctpToNetwork(...): "</q></td></tr>
<tr><th id="1246">1246</th><td>                         <q>"SCTP seems to have made a packet that is bigger "</q></td></tr>
<tr><th id="1247">1247</th><td>                         <q>"than its official MTU: "</q></td></tr>
<tr><th id="1248">1248</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col6 ref" href="#326buffer" title='buffer' data-ref="326buffer" data-ref-filename="326buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" vs max of "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="tu ref" href="#(anonymousnamespace)::kSctpMtu" title='(anonymous namespace)::kSctpMtu' data-use='r' data-ref="(anonymousnamespace)::kSctpMtu" data-ref-filename="(anonymousnamespace)..kSctpMtu">kSctpMtu</a>;</td></tr>
<tr><th id="1249">1249</th><td>  }</td></tr>
<tr><th id="1250">1250</th><td>  <a class="macro" href="../../rtc_base/trace_event.h.html#907" title="do {} while (0)" data-ref="_M/TRACE_EVENT0">TRACE_EVENT0</a>(<q>"webrtc"</q>, <q>"UsrsctpTransport::OnPacketFromSctpToNetwork"</q>);</td></tr>
<tr><th id="1251">1251</th><td></td></tr>
<tr><th id="1252">1252</th><td>  <i>// Don't create noise by trying to send a packet when the DTLS transport isn't</i></td></tr>
<tr><th id="1253">1253</th><td><i>  // even writable.</i></td></tr>
<tr><th id="1254">1254</th><td>  <b>if</b> (!<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a> || !<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="virtual ref fn" href="../../p2p/base/packet_transport_internal.h.html#_ZNK3rtc23PacketTransportInternal8writableEv" title='rtc::PacketTransportInternal::writable' data-ref="_ZNK3rtc23PacketTransportInternal8writableEv" data-ref-filename="_ZNK3rtc23PacketTransportInternal8writableEv">writable</a>()) {</td></tr>
<tr><th id="1255">1255</th><td>    <b>return</b>;</td></tr>
<tr><th id="1256">1256</th><td>  }</td></tr>
<tr><th id="1257">1257</th><td></td></tr>
<tr><th id="1258">1258</th><td>  <i>// Bon voyage.</i></td></tr>
<tr><th id="1259">1259</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::transport_" title='cricket::UsrsctpTransport::transport_' data-ref="cricket::UsrsctpTransport::transport_" data-ref-filename="cricket..UsrsctpTransport..transport_">transport_</a>-&gt;<a class="virtual ref fn" href="../../p2p/base/packet_transport_internal.h.html#_ZN3rtc23PacketTransportInternal10SendPacketEPKcmRKNS_13PacketOptionsEi" title='rtc::PacketTransportInternal::SendPacket' data-ref="_ZN3rtc23PacketTransportInternal10SendPacketEPKcmRKNS_13PacketOptionsEi" data-ref-filename="_ZN3rtc23PacketTransportInternal10SendPacketEPKcmRKNS_13PacketOptionsEi">SendPacket</a>(<a class="local col6 ref" href="#326buffer" title='buffer' data-ref="326buffer" data-ref-filename="326buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4dataEv" title='rtc::CopyOnWriteBuffer::data' data-ref="_ZNK3rtc17CopyOnWriteBuffer4dataEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4dataEv">data</a>&lt;<em>char</em>&gt;(), <a class="local col6 ref" href="#326buffer" title='buffer' data-ref="326buffer" data-ref-filename="326buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>(),</td></tr>
<tr><th id="1260">1260</th><td>                         <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/async_packet_socket.h.html#rtc::PacketOptions" title='rtc::PacketOptions' data-ref="rtc::PacketOptions" data-ref-filename="rtc..PacketOptions">PacketOptions</a><a class="ref fn" href="../../rtc_base/async_packet_socket.h.html#_ZN3rtc13PacketOptionsC1Ev" title='rtc::PacketOptions::PacketOptions' data-ref="_ZN3rtc13PacketOptionsC1Ev" data-ref-filename="_ZN3rtc13PacketOptionsC1Ev">(</a>), <a class="enum" href="../../p2p/base/dtls_transport_internal.h.html#cricket::PF_NORMAL" title='cricket::PF_NORMAL' data-ref="cricket::PF_NORMAL" data-ref-filename="cricket..PF_NORMAL">PF_NORMAL</a>);</td></tr>
<tr><th id="1261">1261</th><td>}</td></tr>
<tr><th id="1262">1262</th><td></td></tr>
<tr><th id="1263">1263</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport42InjectDataOrNotificationFromSctpForTestingEPKvm12sctp_rcvinfoi" title='cricket::UsrsctpTransport::InjectDataOrNotificationFromSctpForTesting' data-ref="_ZN7cricket16UsrsctpTransport42InjectDataOrNotificationFromSctpForTestingEPKvm12sctp_rcvinfoi" data-ref-filename="_ZN7cricket16UsrsctpTransport42InjectDataOrNotificationFromSctpForTestingEPKvm12sctp_rcvinfoi">InjectDataOrNotificationFromSctpForTesting</dfn>(</td></tr>
<tr><th id="1264">1264</th><td>    <em>const</em> <em>void</em>* <dfn class="local col7 decl" id="327data" title='data' data-type='const void *' data-ref="327data" data-ref-filename="327data">data</dfn>,</td></tr>
<tr><th id="1265">1265</th><td>    <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col8 decl" id="328length" title='length' data-type='size_t' data-ref="328length" data-ref-filename="328length">length</dfn>,</td></tr>
<tr><th id="1266">1266</th><td>    <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo" title='sctp_rcvinfo' data-ref="sctp_rcvinfo" data-ref-filename="sctp_rcvinfo">sctp_rcvinfo</a> <dfn class="local col9 decl" id="329rcv" title='rcv' data-type='struct sctp_rcvinfo' data-ref="329rcv" data-ref-filename="329rcv">rcv</dfn>,</td></tr>
<tr><th id="1267">1267</th><td>    <em>int</em> <dfn class="local col0 decl" id="330flags" title='flags' data-type='int' data-ref="330flags" data-ref-filename="330flags">flags</dfn>) {</td></tr>
<tr><th id="1268">1268</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi" title='cricket::UsrsctpTransport::OnDataOrNotificationFromSctp' data-ref="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi" data-ref-filename="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi">OnDataOrNotificationFromSctp</a>(<a class="local col7 ref" href="#327data" title='data' data-ref="327data" data-ref-filename="327data">data</a>, <a class="local col8 ref" href="#328length" title='length' data-ref="328length" data-ref-filename="328length">length</a>, <a class="ref fn fake" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#158" title='sctp_rcvinfo::sctp_rcvinfo' data-ref="_ZN12sctp_rcvinfoC1ERKS_" data-ref-filename="_ZN12sctp_rcvinfoC1ERKS_"></a><a class="local col9 ref" href="#329rcv" title='rcv' data-ref="329rcv" data-ref-filename="329rcv">rcv</a>, <a class="local col0 ref" href="#330flags" title='flags' data-ref="330flags" data-ref-filename="330flags">flags</a>);</td></tr>
<tr><th id="1269">1269</th><td>}</td></tr>
<tr><th id="1270">1270</th><td></td></tr>
<tr><th id="1271">1271</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi" title='cricket::UsrsctpTransport::OnDataOrNotificationFromSctp' data-ref="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi" data-ref-filename="_ZN7cricket16UsrsctpTransport28OnDataOrNotificationFromSctpEPKvm12sctp_rcvinfoi">OnDataOrNotificationFromSctp</dfn>(<em>const</em> <em>void</em>* <dfn class="local col1 decl" id="331data" title='data' data-type='const void *' data-ref="331data" data-ref-filename="331data">data</dfn>,</td></tr>
<tr><th id="1272">1272</th><td>                                                    <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col2 decl" id="332length" title='length' data-type='size_t' data-ref="332length" data-ref-filename="332length">length</dfn>,</td></tr>
<tr><th id="1273">1273</th><td>                                                    <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo" title='sctp_rcvinfo' data-ref="sctp_rcvinfo" data-ref-filename="sctp_rcvinfo">sctp_rcvinfo</a> <dfn class="local col3 decl" id="333rcv" title='rcv' data-type='struct sctp_rcvinfo' data-ref="333rcv" data-ref-filename="333rcv">rcv</dfn>,</td></tr>
<tr><th id="1274">1274</th><td>                                                    <em>int</em> <dfn class="local col4 decl" id="334flags" title='flags' data-type='int' data-ref="334flags" data-ref-filename="334flags">flags</dfn>) {</td></tr>
<tr><th id="1275">1275</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1275, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1276">1276</th><td>  <i>// If data is NULL, the SCTP association has been closed.</i></td></tr>
<tr><th id="1277">1277</th><td>  <b>if</b> (!<a class="local col1 ref" href="#331data" title='data' data-ref="331data" data-ref-filename="331data">data</a>) {</td></tr>
<tr><th id="1278">1278</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1278, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1279">1279</th><td>                     <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OnDataOrNotificationFromSctp(...): "</q></td></tr>
<tr><th id="1280">1280</th><td>                        <q>"No data; association closed."</q>;</td></tr>
<tr><th id="1281">1281</th><td>    <b>return</b>;</td></tr>
<tr><th id="1282">1282</th><td>  }</td></tr>
<tr><th id="1283">1283</th><td></td></tr>
<tr><th id="1284">1284</th><td>  <i>// Handle notifications early.</i></td></tr>
<tr><th id="1285">1285</th><td><i>  // Note: Notifications are never split into chunks, so they can and should</i></td></tr>
<tr><th id="1286">1286</th><td><i>  //       be handled early and entirely separate from the reassembly</i></td></tr>
<tr><th id="1287">1287</th><td><i>  //       process.</i></td></tr>
<tr><th id="1288">1288</th><td>  <b>if</b> (<a class="local col4 ref" href="#334flags" title='flags' data-ref="334flags" data-ref-filename="334flags">flags</a> &amp; <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#53" title="0x2000" data-ref="_M/MSG_NOTIFICATION">MSG_NOTIFICATION</a>) {</td></tr>
<tr><th id="1289">1289</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1289, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>)</td></tr>
<tr><th id="1290">1290</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1291">1291</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OnDataOrNotificationFromSctp(...): SCTP notification"</q></td></tr>
<tr><th id="1292">1292</th><td>        <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" length="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col2 ref" href="#332length" title='length' data-ref="332length" data-ref-filename="332length">length</a>;</td></tr>
<tr><th id="1293">1293</th><td></td></tr>
<tr><th id="1294">1294</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/copy_on_write_buffer.h.html#rtc::CopyOnWriteBuffer" title='rtc::CopyOnWriteBuffer' data-ref="rtc::CopyOnWriteBuffer" data-ref-filename="rtc..CopyOnWriteBuffer">CopyOnWriteBuffer</a> <dfn class="local col5 decl" id="335notification" title='notification' data-type='rtc::CopyOnWriteBuffer' data-ref="335notification" data-ref-filename="335notification">notification</dfn><a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZN3rtc17CopyOnWriteBufferC1EPKT_m" title='rtc::CopyOnWriteBuffer::CopyOnWriteBuffer' data-ref="_ZN3rtc17CopyOnWriteBufferC1EPKT_m" data-ref-filename="_ZN3rtc17CopyOnWriteBufferC1EPKT_m">(</a><b>reinterpret_cast</b>&lt;<em>const</em> <span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>*&gt;(<a class="local col1 ref" href="#331data" title='data' data-ref="331data" data-ref-filename="331data">data</a>),</td></tr>
<tr><th id="1295">1295</th><td>                                        <a class="local col2 ref" href="#332length" title='length' data-ref="332length" data-ref-filename="332length">length</a>);</td></tr>
<tr><th id="1296">1296</th><td>    <a class="member fn" href="#_ZN7cricket16UsrsctpTransport22OnNotificationFromSctpERKN3rtc17CopyOnWriteBufferE" title='cricket::UsrsctpTransport::OnNotificationFromSctp' data-ref="_ZN7cricket16UsrsctpTransport22OnNotificationFromSctpERKN3rtc17CopyOnWriteBufferE" data-ref-filename="_ZN7cricket16UsrsctpTransport22OnNotificationFromSctpERKN3rtc17CopyOnWriteBufferE">OnNotificationFromSctp</a>(<a class="local col5 ref" href="#335notification" title='notification' data-ref="335notification" data-ref-filename="335notification">notification</a>);</td></tr>
<tr><th id="1297">1297</th><td>    <b>return</b>;</td></tr>
<tr><th id="1298">1298</th><td>  }</td></tr>
<tr><th id="1299">1299</th><td></td></tr>
<tr><th id="1300">1300</th><td>  <i>// Log data chunk</i></td></tr>
<tr><th id="1301">1301</th><td>  <em>const</em> <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col6 decl" id="336ppid" title='ppid' data-type='const uint32_t' data-ref="336ppid" data-ref-filename="336ppid">ppid</dfn> = <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/byte_order.h.html#_ZN3rtc15NetworkToHost32Ej" title='rtc::NetworkToHost32' data-ref="_ZN3rtc15NetworkToHost32Ej" data-ref-filename="_ZN3rtc15NetworkToHost32Ej">NetworkToHost32</a>(<a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_ppid" title='sctp_rcvinfo::rcv_ppid' data-ref="sctp_rcvinfo::rcv_ppid" data-ref-filename="sctp_rcvinfo..rcv_ppid">rcv_ppid</a>);</td></tr>
<tr><th id="1302">1302</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1302, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1303">1303</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OnDataOrNotificationFromSctp(...): SCTP data chunk"</q></td></tr>
<tr><th id="1304">1304</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" length="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col2 ref" href="#332length" title='length' data-ref="332length" data-ref-filename="332length">length</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", sid="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_sid" title='sctp_rcvinfo::rcv_sid' data-ref="sctp_rcvinfo::rcv_sid" data-ref-filename="sctp_rcvinfo..rcv_sid">rcv_sid</a></td></tr>
<tr><th id="1305">1305</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", ppid="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col6 ref" href="#336ppid" title='ppid' data-ref="336ppid" data-ref-filename="336ppid">ppid</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", ssn="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_ssn" title='sctp_rcvinfo::rcv_ssn' data-ref="sctp_rcvinfo::rcv_ssn" data-ref-filename="sctp_rcvinfo..rcv_ssn">rcv_ssn</a></td></tr>
<tr><th id="1306">1306</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", cum-tsn="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_cumtsn" title='sctp_rcvinfo::rcv_cumtsn' data-ref="sctp_rcvinfo::rcv_cumtsn" data-ref-filename="sctp_rcvinfo..rcv_cumtsn">rcv_cumtsn</a></td></tr>
<tr><th id="1307">1307</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>", eor="</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> ((<a class="local col4 ref" href="#334flags" title='flags' data-ref="334flags" data-ref-filename="334flags">flags</a> &amp; <span class="macro" title="0x8" data-ref="_M/MSG_EOR">MSG_EOR</span>) ? <q>"y"</q> : <q>"n"</q>);</td></tr>
<tr><th id="1308">1308</th><td></td></tr>
<tr><th id="1309">1309</th><td>  <i>// Validate payload protocol identifier</i></td></tr>
<tr><th id="1310">1310</th><td>  <span class="namespace">webrtc::</span><a class="type" href="../../api/transport/data_channel_transport_interface.h.html#webrtc::DataMessageType" title='webrtc::DataMessageType' data-ref="webrtc::DataMessageType" data-ref-filename="webrtc..DataMessageType">DataMessageType</a> <dfn class="local col7 decl" id="337type" title='type' data-type='webrtc::DataMessageType' data-ref="337type" data-ref-filename="337type">type</dfn>;</td></tr>
<tr><th id="1311">1311</th><td>  <b>if</b> (!<a class="tu ref fn" href="#_ZN12_GLOBAL__N_116GetDataMediaTypeEjPN6webrtc15DataMessageTypeE" title='(anonymous namespace)::GetDataMediaType' data-use='c' data-ref="_ZN12_GLOBAL__N_116GetDataMediaTypeEjPN6webrtc15DataMessageTypeE" data-ref-filename="_ZN12_GLOBAL__N_116GetDataMediaTypeEjPN6webrtc15DataMessageTypeE">GetDataMediaType</a>(<a class="local col6 ref" href="#336ppid" title='ppid' data-ref="336ppid" data-ref-filename="336ppid">ppid</a>, &amp;<a class="local col7 ref" href="#337type" title='type' data-ref="337type" data-ref-filename="337type">type</a>)) {</td></tr>
<tr><th id="1312">1312</th><td>    <i>// Unexpected PPID, dropping</i></td></tr>
<tr><th id="1313">1313</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1313, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Received an unknown PPID "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col6 ref" href="#336ppid" title='ppid' data-ref="336ppid" data-ref-filename="336ppid">ppid</a></td></tr>
<tr><th id="1314">1314</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" on an SCTP packet.  Dropping."</q>;</td></tr>
<tr><th id="1315">1315</th><td>    <b>return</b>;</td></tr>
<tr><th id="1316">1316</th><td>  }</td></tr>
<tr><th id="1317">1317</th><td></td></tr>
<tr><th id="1318">1318</th><td>  <i>// Expect only continuation messages belonging to the same SID. The SCTP</i></td></tr>
<tr><th id="1319">1319</th><td><i>  // stack is expected to ensure this as long as the User Message</i></td></tr>
<tr><th id="1320">1320</th><td><i>  // Interleaving extension (RFC 8260) is not explicitly enabled, so this</i></td></tr>
<tr><th id="1321">1321</th><td><i>  // merely acts as a safeguard.</i></td></tr>
<tr><th id="1322">1322</th><td>  <b>if</b> ((<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_incoming_message_" title='cricket::UsrsctpTransport::partial_incoming_message_' data-ref="cricket::UsrsctpTransport::partial_incoming_message_" data-ref-filename="cricket..UsrsctpTransport..partial_incoming_message_">partial_incoming_message_</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() != <var>0</var>) &amp;&amp;</td></tr>
<tr><th id="1323">1323</th><td>      (<a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_sid" title='sctp_rcvinfo::rcv_sid' data-ref="sctp_rcvinfo::rcv_sid" data-ref-filename="sctp_rcvinfo..rcv_sid">rcv_sid</a> != <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_params_" title='cricket::UsrsctpTransport::partial_params_' data-ref="cricket::UsrsctpTransport::partial_params_" data-ref-filename="cricket..UsrsctpTransport..partial_params_">partial_params_</a>.<a class="ref field" href="../base/media_channel.h.html#cricket::ReceiveDataParams::sid" title='cricket::ReceiveDataParams::sid' data-ref="cricket::ReceiveDataParams::sid" data-ref-filename="cricket..ReceiveDataParams..sid">sid</a>)) {</td></tr>
<tr><th id="1324">1324</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1324, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Received a new SID without EOR in the previous"</q></td></tr>
<tr><th id="1325">1325</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" SCTP packet. Discarding the previous packet."</q>;</td></tr>
<tr><th id="1326">1326</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_incoming_message_" title='cricket::UsrsctpTransport::partial_incoming_message_' data-ref="cricket::UsrsctpTransport::partial_incoming_message_" data-ref-filename="cricket..UsrsctpTransport..partial_incoming_message_">partial_incoming_message_</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZN3rtc17CopyOnWriteBuffer5ClearEv" title='rtc::CopyOnWriteBuffer::Clear' data-ref="_ZN3rtc17CopyOnWriteBuffer5ClearEv" data-ref-filename="_ZN3rtc17CopyOnWriteBuffer5ClearEv">Clear</a>();</td></tr>
<tr><th id="1327">1327</th><td>  }</td></tr>
<tr><th id="1328">1328</th><td></td></tr>
<tr><th id="1329">1329</th><td>  <i>// Copy metadata of interest</i></td></tr>
<tr><th id="1330">1330</th><td>  <a class="type" href="../base/media_channel.h.html#cricket::ReceiveDataParams" title='cricket::ReceiveDataParams' data-ref="cricket::ReceiveDataParams" data-ref-filename="cricket..ReceiveDataParams">ReceiveDataParams</a> <a class="ref fn fake" href="../base/media_channel.h.html#899" title='cricket::ReceiveDataParams::ReceiveDataParams' data-ref="_ZN7cricket17ReceiveDataParamsC1Ev" data-ref-filename="_ZN7cricket17ReceiveDataParamsC1Ev"></a><dfn class="local col8 decl" id="338params" title='params' data-type='cricket::ReceiveDataParams' data-ref="338params" data-ref-filename="338params">params</dfn>;</td></tr>
<tr><th id="1331">1331</th><td>  <a class="local col8 ref" href="#338params" title='params' data-ref="338params" data-ref-filename="338params">params</a>.<a class="ref field" href="../base/media_channel.h.html#cricket::ReceiveDataParams::type" title='cricket::ReceiveDataParams::type' data-ref="cricket::ReceiveDataParams::type" data-ref-filename="cricket..ReceiveDataParams..type">type</a> = <a class="local col7 ref" href="#337type" title='type' data-ref="337type" data-ref-filename="337type">type</a>;</td></tr>
<tr><th id="1332">1332</th><td>  <a class="local col8 ref" href="#338params" title='params' data-ref="338params" data-ref-filename="338params">params</a>.<a class="ref field" href="../base/media_channel.h.html#cricket::ReceiveDataParams::sid" title='cricket::ReceiveDataParams::sid' data-ref="cricket::ReceiveDataParams::sid" data-ref-filename="cricket..ReceiveDataParams..sid">sid</a> = <a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_sid" title='sctp_rcvinfo::rcv_sid' data-ref="sctp_rcvinfo::rcv_sid" data-ref-filename="sctp_rcvinfo..rcv_sid">rcv_sid</a>;</td></tr>
<tr><th id="1333">1333</th><td>  <i>// Note that the SSN is identical for each chunk of the same message.</i></td></tr>
<tr><th id="1334">1334</th><td><i>  // Furthermore, it is increased per stream and not on the whole</i></td></tr>
<tr><th id="1335">1335</th><td><i>  // association.</i></td></tr>
<tr><th id="1336">1336</th><td>  <a class="local col8 ref" href="#338params" title='params' data-ref="338params" data-ref-filename="338params">params</a>.<a class="ref field" href="../base/media_channel.h.html#cricket::ReceiveDataParams::seq_num" title='cricket::ReceiveDataParams::seq_num' data-ref="cricket::ReceiveDataParams::seq_num" data-ref-filename="cricket..ReceiveDataParams..seq_num">seq_num</a> = <a class="local col3 ref" href="#333rcv" title='rcv' data-ref="333rcv" data-ref-filename="333rcv">rcv</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_rcvinfo::rcv_ssn" title='sctp_rcvinfo::rcv_ssn' data-ref="sctp_rcvinfo::rcv_ssn" data-ref-filename="sctp_rcvinfo..rcv_ssn">rcv_ssn</a>;</td></tr>
<tr><th id="1337">1337</th><td></td></tr>
<tr><th id="1338">1338</th><td>  <i>// Append the chunk's data to the message buffer unless we have a chunk with a</i></td></tr>
<tr><th id="1339">1339</th><td><i>  // PPID marking an empty message.</i></td></tr>
<tr><th id="1340">1340</th><td><i>  // See: <a href="https://tools.ietf.org/html/rfc8831#section-6.6">https://tools.ietf.org/html/rfc8831#section-6.6</a></i></td></tr>
<tr><th id="1341">1341</th><td>  <b>if</b> (!<a class="tu ref fn" href="#_ZN12_GLOBAL__N_111IsEmptyPPIDEj" title='(anonymous namespace)::IsEmptyPPID' data-use='c' data-ref="_ZN12_GLOBAL__N_111IsEmptyPPIDEj" data-ref-filename="_ZN12_GLOBAL__N_111IsEmptyPPIDEj">IsEmptyPPID</a>(<a class="local col6 ref" href="#336ppid" title='ppid' data-ref="336ppid" data-ref-filename="336ppid">ppid</a>))</td></tr>
<tr><th id="1342">1342</th><td>    <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_incoming_message_" title='cricket::UsrsctpTransport::partial_incoming_message_' data-ref="cricket::UsrsctpTransport::partial_incoming_message_" data-ref-filename="cricket..UsrsctpTransport..partial_incoming_message_">partial_incoming_message_</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZN3rtc17CopyOnWriteBuffer10AppendDataEPKT_m" title='rtc::CopyOnWriteBuffer::AppendData' data-ref="_ZN3rtc17CopyOnWriteBuffer10AppendDataEPKT_m" data-ref-filename="_ZN3rtc17CopyOnWriteBuffer10AppendDataEPKT_m">AppendData</a>(<b>reinterpret_cast</b>&lt;<em>const</em> <span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>*&gt;(<a class="local col1 ref" href="#331data" title='data' data-ref="331data" data-ref-filename="331data">data</a>),</td></tr>
<tr><th id="1343">1343</th><td>                                         <a class="local col2 ref" href="#332length" title='length' data-ref="332length" data-ref-filename="332length">length</a>);</td></tr>
<tr><th id="1344">1344</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_params_" title='cricket::UsrsctpTransport::partial_params_' data-ref="cricket::UsrsctpTransport::partial_params_" data-ref-filename="cricket..UsrsctpTransport..partial_params_">partial_params_</a> <a class="ref fn" href="../base/media_channel.h.html#899" title='cricket::ReceiveDataParams::operator=' data-ref="_ZN7cricket17ReceiveDataParamsaSERKS0_" data-ref-filename="_ZN7cricket17ReceiveDataParamsaSERKS0_">=</a> <a class="local col8 ref" href="#338params" title='params' data-ref="338params" data-ref-filename="338params">params</a>;</td></tr>
<tr><th id="1345">1345</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_flags_" title='cricket::UsrsctpTransport::partial_flags_' data-ref="cricket::UsrsctpTransport::partial_flags_" data-ref-filename="cricket..UsrsctpTransport..partial_flags_">partial_flags_</a> = <a class="local col4 ref" href="#334flags" title='flags' data-ref="334flags" data-ref-filename="334flags">flags</a>;</td></tr>
<tr><th id="1346">1346</th><td></td></tr>
<tr><th id="1347">1347</th><td>  <i>// If the message is not yet complete...</i></td></tr>
<tr><th id="1348">1348</th><td>  <b>if</b> (!(<a class="local col4 ref" href="#334flags" title='flags' data-ref="334flags" data-ref-filename="334flags">flags</a> &amp; <span class="macro" title="0x8" data-ref="_M/MSG_EOR">MSG_EOR</span>)) {</td></tr>
<tr><th id="1349">1349</th><td>    <b>if</b> (<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_incoming_message_" title='cricket::UsrsctpTransport::partial_incoming_message_' data-ref="cricket::UsrsctpTransport::partial_incoming_message_" data-ref-filename="cricket..UsrsctpTransport..partial_incoming_message_">partial_incoming_message_</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() &lt; <a class="ref" href="sctp_transport_internal.h.html#cricket::kSctpSendBufferSize" title='cricket::kSctpSendBufferSize' data-ref="cricket::kSctpSendBufferSize" data-ref-filename="cricket..kSctpSendBufferSize">kSctpSendBufferSize</a>) {</td></tr>
<tr><th id="1350">1350</th><td>      <i>// We still have space in the buffer. Continue buffering chunks until</i></td></tr>
<tr><th id="1351">1351</th><td><i>      // the message is complete before handing it out.</i></td></tr>
<tr><th id="1352">1352</th><td>      <b>return</b>;</td></tr>
<tr><th id="1353">1353</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1354">1354</th><td>      <i>// The sender is exceeding the maximum message size that we announced.</i></td></tr>
<tr><th id="1355">1355</th><td><i>      // Spit out a warning but still hand out the partial message. Note that</i></td></tr>
<tr><th id="1356">1356</th><td><i>      // this behaviour is undesirable, see the discussion in issue 7774.</i></td></tr>
<tr><th id="1357">1357</th><td><i>      //</i></td></tr>
<tr><th id="1358">1358</th><td><i>      // TODO(lgrahl): Once sufficient time has passed and all supported</i></td></tr>
<tr><th id="1359">1359</th><td><i>      // browser versions obey the announced maximum message size, we should</i></td></tr>
<tr><th id="1360">1360</th><td><i>      // abort the SCTP association instead to prevent message integrity</i></td></tr>
<tr><th id="1361">1361</th><td><i>      // violation.</i></td></tr>
<tr><th id="1362">1362</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1362, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Handing out partial SCTP message."</q>;</td></tr>
<tr><th id="1363">1363</th><td>    }</td></tr>
<tr><th id="1364">1364</th><td>  }</td></tr>
<tr><th id="1365">1365</th><td></td></tr>
<tr><th id="1366">1366</th><td>  <i>// Dispatch the complete message and reset the message buffer.</i></td></tr>
<tr><th id="1367">1367</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport25OnDataFromSctpToTransportERKNS_17ReceiveDataParamsERKN3rtc17CopyOnWriteBufferE" title='cricket::UsrsctpTransport::OnDataFromSctpToTransport' data-ref="_ZN7cricket16UsrsctpTransport25OnDataFromSctpToTransportERKNS_17ReceiveDataParamsERKN3rtc17CopyOnWriteBufferE" data-ref-filename="_ZN7cricket16UsrsctpTransport25OnDataFromSctpToTransportERKNS_17ReceiveDataParamsERKN3rtc17CopyOnWriteBufferE">OnDataFromSctpToTransport</a>(<a class="local col8 ref" href="#338params" title='params' data-ref="338params" data-ref-filename="338params">params</a>, <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_incoming_message_" title='cricket::UsrsctpTransport::partial_incoming_message_' data-ref="cricket::UsrsctpTransport::partial_incoming_message_" data-ref-filename="cricket..UsrsctpTransport..partial_incoming_message_">partial_incoming_message_</a>);</td></tr>
<tr><th id="1368">1368</th><td>  <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::partial_incoming_message_" title='cricket::UsrsctpTransport::partial_incoming_message_' data-ref="cricket::UsrsctpTransport::partial_incoming_message_" data-ref-filename="cricket..UsrsctpTransport..partial_incoming_message_">partial_incoming_message_</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZN3rtc17CopyOnWriteBuffer5ClearEv" title='rtc::CopyOnWriteBuffer::Clear' data-ref="_ZN3rtc17CopyOnWriteBuffer5ClearEv" data-ref-filename="_ZN3rtc17CopyOnWriteBuffer5ClearEv">Clear</a>();</td></tr>
<tr><th id="1369">1369</th><td>}</td></tr>
<tr><th id="1370">1370</th><td></td></tr>
<tr><th id="1371">1371</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport25OnDataFromSctpToTransportERKNS_17ReceiveDataParamsERKN3rtc17CopyOnWriteBufferE" title='cricket::UsrsctpTransport::OnDataFromSctpToTransport' data-ref="_ZN7cricket16UsrsctpTransport25OnDataFromSctpToTransportERKNS_17ReceiveDataParamsERKN3rtc17CopyOnWriteBufferE" data-ref-filename="_ZN7cricket16UsrsctpTransport25OnDataFromSctpToTransportERKNS_17ReceiveDataParamsERKN3rtc17CopyOnWriteBufferE">OnDataFromSctpToTransport</dfn>(</td></tr>
<tr><th id="1372">1372</th><td>    <em>const</em> <a class="type" href="../base/media_channel.h.html#cricket::ReceiveDataParams" title='cricket::ReceiveDataParams' data-ref="cricket::ReceiveDataParams" data-ref-filename="cricket..ReceiveDataParams">ReceiveDataParams</a>&amp; <dfn class="local col9 decl" id="339params" title='params' data-type='const cricket::ReceiveDataParams &amp;' data-ref="339params" data-ref-filename="339params">params</dfn>,</td></tr>
<tr><th id="1373">1373</th><td>    <em>const</em> <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/copy_on_write_buffer.h.html#rtc::CopyOnWriteBuffer" title='rtc::CopyOnWriteBuffer' data-ref="rtc::CopyOnWriteBuffer" data-ref-filename="rtc..CopyOnWriteBuffer">CopyOnWriteBuffer</a>&amp; <dfn class="local col0 decl" id="340buffer" title='buffer' data-type='const rtc::CopyOnWriteBuffer &amp;' data-ref="340buffer" data-ref-filename="340buffer">buffer</dfn>) {</td></tr>
<tr><th id="1374">1374</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1374, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1375">1375</th><td>  <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1375, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1376">1376</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"-&gt;OnDataFromSctpToTransport(...): "</q></td></tr>
<tr><th id="1377">1377</th><td>                         <q>"Posting with length: "</q></td></tr>
<tr><th id="1378">1378</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col0 ref" href="#340buffer" title='buffer' data-ref="340buffer" data-ref-filename="340buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" on stream "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col9 ref" href="#339params" title='params' data-ref="339params" data-ref-filename="339params">params</a>.<a class="ref field" href="../base/media_channel.h.html#cricket::ReceiveDataParams::sid" title='cricket::ReceiveDataParams::sid' data-ref="cricket::ReceiveDataParams::sid" data-ref-filename="cricket..ReceiveDataParams..sid">sid</a>;</td></tr>
<tr><th id="1379">1379</th><td>  <i>// Reports all received messages to upper layers, no matter whether the sid</i></td></tr>
<tr><th id="1380">1380</th><td><i>  // is known.</i></td></tr>
<tr><th id="1381">1381</th><td>  <a class="member field" href="sctp_transport_internal.h.html#cricket::SctpTransportInternal::SignalDataReceived" title='cricket::SctpTransportInternal::SignalDataReceived' data-ref="cricket::SctpTransportInternal::SignalDataReceived" data-ref-filename="cricket..SctpTransportInternal..SignalDataReceived">SignalDataReceived</a><a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policyclEDpT0_" title='sigslot::signal_with_thread_policy::operator()' data-ref="_ZN7sigslot25signal_with_thread_policyclEDpT0_" data-ref-filename="_ZN7sigslot25signal_with_thread_policyclEDpT0_">(<a class="local col9 ref" href="#339params" title='params' data-ref="339params" data-ref-filename="339params">params</a>, <a class="local col0 ref" href="#340buffer" title='buffer' data-ref="340buffer" data-ref-filename="340buffer">buffer</a>)</a>;</td></tr>
<tr><th id="1382">1382</th><td>}</td></tr>
<tr><th id="1383">1383</th><td></td></tr>
<tr><th id="1384">1384</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport22OnNotificationFromSctpERKN3rtc17CopyOnWriteBufferE" title='cricket::UsrsctpTransport::OnNotificationFromSctp' data-ref="_ZN7cricket16UsrsctpTransport22OnNotificationFromSctpERKN3rtc17CopyOnWriteBufferE" data-ref-filename="_ZN7cricket16UsrsctpTransport22OnNotificationFromSctpERKN3rtc17CopyOnWriteBufferE">OnNotificationFromSctp</dfn>(</td></tr>
<tr><th id="1385">1385</th><td>    <em>const</em> <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/copy_on_write_buffer.h.html#rtc::CopyOnWriteBuffer" title='rtc::CopyOnWriteBuffer' data-ref="rtc::CopyOnWriteBuffer" data-ref-filename="rtc..CopyOnWriteBuffer">CopyOnWriteBuffer</a>&amp; <dfn class="local col1 decl" id="341buffer" title='buffer' data-type='const rtc::CopyOnWriteBuffer &amp;' data-ref="341buffer" data-ref-filename="341buffer">buffer</dfn>) {</td></tr>
<tr><th id="1386">1386</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1386, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1387">1387</th><td>  <b>if</b> (<a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() &lt; <b>sizeof</b>(<a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification" title='sctp_notification' data-ref="sctp_notification" data-ref-filename="sctp_notification">sctp_notification</a>::<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_header" title='sctp_notification::sn_header' data-ref="sctp_notification::sn_header" data-ref-filename="sctp_notification..sn_header">sn_header</a>)) {</td></tr>
<tr><th id="1388">1388</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1388, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP notification is shorter than header size: "</q></td></tr>
<tr><th id="1389">1389</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>();</td></tr>
<tr><th id="1390">1390</th><td>    <b>return</b>;</td></tr>
<tr><th id="1391">1391</th><td>  }</td></tr>
<tr><th id="1392">1392</th><td></td></tr>
<tr><th id="1393">1393</th><td>  <em>const</em> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification" title='sctp_notification' data-ref="sctp_notification" data-ref-filename="sctp_notification">sctp_notification</a>&amp; <dfn class="local col2 decl" id="342notification" title='notification' data-type='const sctp_notification &amp;' data-ref="342notification" data-ref-filename="342notification">notification</dfn> =</td></tr>
<tr><th id="1394">1394</th><td>      <b>reinterpret_cast</b>&lt;<em>const</em> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification" title='sctp_notification' data-ref="sctp_notification" data-ref-filename="sctp_notification">sctp_notification</a>&amp;&gt;(*<a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4dataEv" title='rtc::CopyOnWriteBuffer::data' data-ref="_ZNK3rtc17CopyOnWriteBuffer4dataEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4dataEv">data</a>());</td></tr>
<tr><th id="1395">1395</th><td>  <b>if</b> (<a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() != <a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_header" title='sctp_notification::sn_header' data-ref="sctp_notification::sn_header" data-ref-filename="sctp_notification..sn_header">sn_header</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sctp_tlv::sn_length" title='sctp_notification::sctp_tlv::sn_length' data-ref="sctp_notification::sctp_tlv::sn_length" data-ref-filename="sctp_notification..sctp_tlv..sn_length">sn_length</a>) {</td></tr>
<tr><th id="1396">1396</th><td>    <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1396, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP notification length ("</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>()</td></tr>
<tr><th id="1397">1397</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>") does not match sn_length field ("</q></td></tr>
<tr><th id="1398">1398</th><td>                      <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_header" title='sctp_notification::sn_header' data-ref="sctp_notification::sn_header" data-ref-filename="sctp_notification..sn_header">sn_header</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sctp_tlv::sn_length" title='sctp_notification::sctp_tlv::sn_length' data-ref="sctp_notification::sctp_tlv::sn_length" data-ref-filename="sctp_notification..sctp_tlv..sn_length">sn_length</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>")."</q>;</td></tr>
<tr><th id="1399">1399</th><td>    <b>return</b>;</td></tr>
<tr><th id="1400">1400</th><td>  }</td></tr>
<tr><th id="1401">1401</th><td></td></tr>
<tr><th id="1402">1402</th><td>  <i>// TODO(ldixon): handle notifications appropriately.</i></td></tr>
<tr><th id="1403">1403</th><td>  <b>switch</b> (<a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_header" title='sctp_notification::sn_header' data-ref="sctp_notification::sn_header" data-ref-filename="sctp_notification..sn_header">sn_header</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sctp_tlv::sn_type" title='sctp_notification::sctp_tlv::sn_type' data-ref="sctp_notification::sctp_tlv::sn_type" data-ref-filename="sctp_notification..sctp_tlv..sn_type">sn_type</a>) {</td></tr>
<tr><th id="1404">1404</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#245" title="0x0001" data-ref="_M/SCTP_ASSOC_CHANGE">SCTP_ASSOC_CHANGE</a>:</td></tr>
<tr><th id="1405">1405</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1405, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_ASSOC_CHANGE"</q>;</td></tr>
<tr><th id="1406">1406</th><td>      <b>if</b> (<a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() &lt; <b>sizeof</b>(<a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_assoc_change" title='sctp_notification::sn_assoc_change' data-ref="sctp_notification::sn_assoc_change" data-ref-filename="sctp_notification..sn_assoc_change">sn_assoc_change</a>)) {</td></tr>
<tr><th id="1407">1407</th><td>        <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1407, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>)</td></tr>
<tr><th id="1408">1408</th><td>            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_ASSOC_CHANGE notification has less than required length: "</q></td></tr>
<tr><th id="1409">1409</th><td>            <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>();</td></tr>
<tr><th id="1410">1410</th><td>        <b>return</b>;</td></tr>
<tr><th id="1411">1411</th><td>      }</td></tr>
<tr><th id="1412">1412</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport25OnNotificationAssocChangeERK17sctp_assoc_change" title='cricket::UsrsctpTransport::OnNotificationAssocChange' data-ref="_ZN7cricket16UsrsctpTransport25OnNotificationAssocChangeERK17sctp_assoc_change" data-ref-filename="_ZN7cricket16UsrsctpTransport25OnNotificationAssocChangeERK17sctp_assoc_change">OnNotificationAssocChange</a>(<a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_assoc_change" title='sctp_notification::sn_assoc_change' data-ref="sctp_notification::sn_assoc_change" data-ref-filename="sctp_notification..sn_assoc_change">sn_assoc_change</a>);</td></tr>
<tr><th id="1413">1413</th><td>      <b>break</b>;</td></tr>
<tr><th id="1414">1414</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#247" title="0x0003" data-ref="_M/SCTP_REMOTE_ERROR">SCTP_REMOTE_ERROR</a>:</td></tr>
<tr><th id="1415">1415</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1415, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_REMOTE_ERROR"</q>;</td></tr>
<tr><th id="1416">1416</th><td>      <b>break</b>;</td></tr>
<tr><th id="1417">1417</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#249" title="0x0005" data-ref="_M/SCTP_SHUTDOWN_EVENT">SCTP_SHUTDOWN_EVENT</a>:</td></tr>
<tr><th id="1418">1418</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1418, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_SHUTDOWN_EVENT"</q>;</td></tr>
<tr><th id="1419">1419</th><td>      <b>break</b>;</td></tr>
<tr><th id="1420">1420</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#250" title="0x0006" data-ref="_M/SCTP_ADAPTATION_INDICATION">SCTP_ADAPTATION_INDICATION</a>:</td></tr>
<tr><th id="1421">1421</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1421, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_ADAPTATION_INDICATION"</q>;</td></tr>
<tr><th id="1422">1422</th><td>      <b>break</b>;</td></tr>
<tr><th id="1423">1423</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#251" title="0x0007" data-ref="_M/SCTP_PARTIAL_DELIVERY_EVENT">SCTP_PARTIAL_DELIVERY_EVENT</a>:</td></tr>
<tr><th id="1424">1424</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1424, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_PARTIAL_DELIVERY_EVENT"</q>;</td></tr>
<tr><th id="1425">1425</th><td>      <b>break</b>;</td></tr>
<tr><th id="1426">1426</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#252" title="0x0008" data-ref="_M/SCTP_AUTHENTICATION_EVENT">SCTP_AUTHENTICATION_EVENT</a>:</td></tr>
<tr><th id="1427">1427</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1427, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_AUTHENTICATION_EVENT"</q>;</td></tr>
<tr><th id="1428">1428</th><td>      <b>break</b>;</td></tr>
<tr><th id="1429">1429</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#254" title="0x000a" data-ref="_M/SCTP_SENDER_DRY_EVENT">SCTP_SENDER_DRY_EVENT</a>:</td></tr>
<tr><th id="1430">1430</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1430, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_SENDER_DRY_EVENT"</q>;</td></tr>
<tr><th id="1431">1431</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" title='cricket::UsrsctpTransport::SetReadyToSendData' data-ref="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv" data-ref-filename="_ZN7cricket16UsrsctpTransport18SetReadyToSendDataEv">SetReadyToSendData</a>();</td></tr>
<tr><th id="1432">1432</th><td>      <b>break</b>;</td></tr>
<tr><th id="1433">1433</th><td>    <i>// TODO(ldixon): Unblock after congestion.</i></td></tr>
<tr><th id="1434">1434</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#255" title="0x000b" data-ref="_M/SCTP_NOTIFICATIONS_STOPPED_EVENT">SCTP_NOTIFICATIONS_STOPPED_EVENT</a>:</td></tr>
<tr><th id="1435">1435</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1435, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_NOTIFICATIONS_STOPPED_EVENT"</q>;</td></tr>
<tr><th id="1436">1436</th><td>      <b>break</b>;</td></tr>
<tr><th id="1437">1437</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#258" title="0x000e" data-ref="_M/SCTP_SEND_FAILED_EVENT">SCTP_SEND_FAILED_EVENT</a>: {</td></tr>
<tr><th id="1438">1438</th><td>      <b>if</b> (<a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() &lt; <b>sizeof</b>(<a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_send_failed_event" title='sctp_notification::sn_send_failed_event' data-ref="sctp_notification::sn_send_failed_event" data-ref-filename="sctp_notification..sn_send_failed_event">sn_send_failed_event</a>)) {</td></tr>
<tr><th id="1439">1439</th><td>        <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1439, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_SEND_FAILED_EVENT notification has less "</q></td></tr>
<tr><th id="1440">1440</th><td>                             <q>"than required length: "</q></td></tr>
<tr><th id="1441">1441</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>();</td></tr>
<tr><th id="1442">1442</th><td>        <b>return</b>;</td></tr>
<tr><th id="1443">1443</th><td>      }</td></tr>
<tr><th id="1444">1444</th><td>      <em>const</em> <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_send_failed_event" title='sctp_send_failed_event' data-ref="sctp_send_failed_event" data-ref-filename="sctp_send_failed_event">sctp_send_failed_event</a>&amp; <dfn class="local col3 decl" id="343ssfe" title='ssfe' data-type='const struct sctp_send_failed_event &amp;' data-ref="343ssfe" data-ref-filename="343ssfe">ssfe</dfn> =</td></tr>
<tr><th id="1445">1445</th><td>          <a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_send_failed_event" title='sctp_notification::sn_send_failed_event' data-ref="sctp_notification::sn_send_failed_event" data-ref-filename="sctp_notification..sn_send_failed_event">sn_send_failed_event</a>;</td></tr>
<tr><th id="1446">1446</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1446, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_SEND_FAILED_EVENT: message with"</q></td></tr>
<tr><th id="1447">1447</th><td>                             <q>" PPID = "</q></td></tr>
<tr><th id="1448">1448</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/byte_order.h.html#_ZN3rtc15NetworkToHost32Ej" title='rtc::NetworkToHost32' data-ref="_ZN3rtc15NetworkToHost32Ej" data-ref-filename="_ZN3rtc15NetworkToHost32Ej">NetworkToHost32</a>(<a class="local col3 ref" href="#343ssfe" title='ssfe' data-ref="343ssfe" data-ref-filename="343ssfe">ssfe</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_send_failed_event::ssfe_info" title='sctp_send_failed_event::ssfe_info' data-ref="sctp_send_failed_event::ssfe_info" data-ref-filename="sctp_send_failed_event..ssfe_info">ssfe_info</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_ppid" title='sctp_sndinfo::snd_ppid' data-ref="sctp_sndinfo::snd_ppid" data-ref-filename="sctp_sndinfo..snd_ppid">snd_ppid</a>)</td></tr>
<tr><th id="1449">1449</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" SID = "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col3 ref" href="#343ssfe" title='ssfe' data-ref="343ssfe" data-ref-filename="343ssfe">ssfe</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_send_failed_event::ssfe_info" title='sctp_send_failed_event::ssfe_info' data-ref="sctp_send_failed_event::ssfe_info" data-ref-filename="sctp_send_failed_event..ssfe_info">ssfe_info</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_sid" title='sctp_sndinfo::snd_sid' data-ref="sctp_sndinfo::snd_sid" data-ref-filename="sctp_sndinfo..snd_sid">snd_sid</a></td></tr>
<tr><th id="1450">1450</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" flags = "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/string_utils.h.html#_ZN3rtc5ToHexEi" title='rtc::ToHex' data-ref="_ZN3rtc5ToHexEi" data-ref-filename="_ZN3rtc5ToHexEi">ToHex</a>(<a class="local col3 ref" href="#343ssfe" title='ssfe' data-ref="343ssfe" data-ref-filename="343ssfe">ssfe</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_send_failed_event::ssfe_info" title='sctp_send_failed_event::ssfe_info' data-ref="sctp_send_failed_event::ssfe_info" data-ref-filename="sctp_send_failed_event..ssfe_info">ssfe_info</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_sndinfo::snd_flags" title='sctp_sndinfo::snd_flags' data-ref="sctp_sndinfo::snd_flags" data-ref-filename="sctp_sndinfo..snd_flags">snd_flags</a>)</td></tr>
<tr><th id="1451">1451</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" failed to sent due to error = "</q></td></tr>
<tr><th id="1452">1452</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <span class="namespace">rtc::</span><a class="ref fn" href="../../rtc_base/string_utils.h.html#_ZN3rtc5ToHexEi" title='rtc::ToHex' data-ref="_ZN3rtc5ToHexEi" data-ref-filename="_ZN3rtc5ToHexEi">ToHex</a>(<a class="local col3 ref" href="#343ssfe" title='ssfe' data-ref="343ssfe" data-ref-filename="343ssfe">ssfe</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_send_failed_event::ssfe_error" title='sctp_send_failed_event::ssfe_error' data-ref="sctp_send_failed_event::ssfe_error" data-ref-filename="sctp_send_failed_event..ssfe_error">ssfe_error</a>);</td></tr>
<tr><th id="1453">1453</th><td>      <b>break</b>;</td></tr>
<tr><th id="1454">1454</th><td>    }</td></tr>
<tr><th id="1455">1455</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#253" title="0x0009" data-ref="_M/SCTP_STREAM_RESET_EVENT">SCTP_STREAM_RESET_EVENT</a>:</td></tr>
<tr><th id="1456">1456</th><td>      <b>if</b> (<a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>() &lt; <b>sizeof</b>(<a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_strreset_event" title='sctp_notification::sn_strreset_event' data-ref="sctp_notification::sn_strreset_event" data-ref-filename="sctp_notification..sn_strreset_event">sn_strreset_event</a>)) {</td></tr>
<tr><th id="1457">1457</th><td>        <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_ERROR&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1457, ::rtc::LS_ERROR)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_ERROR" title='rtc::LS_ERROR' data-ref="rtc::LS_ERROR" data-ref-filename="rtc..LS_ERROR">LS_ERROR</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_STREAM_RESET_EVENT notification has less "</q></td></tr>
<tr><th id="1458">1458</th><td>                             <q>"than required length: "</q></td></tr>
<tr><th id="1459">1459</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col1 ref" href="#341buffer" title='buffer' data-ref="341buffer" data-ref-filename="341buffer">buffer</a>.<a class="ref fn" href="../../rtc_base/copy_on_write_buffer.h.html#_ZNK3rtc17CopyOnWriteBuffer4sizeEv" title='rtc::CopyOnWriteBuffer::size' data-ref="_ZNK3rtc17CopyOnWriteBuffer4sizeEv" data-ref-filename="_ZNK3rtc17CopyOnWriteBuffer4sizeEv">size</a>();</td></tr>
<tr><th id="1460">1460</th><td>        <b>return</b>;</td></tr>
<tr><th id="1461">1461</th><td>      }</td></tr>
<tr><th id="1462">1462</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport18OnStreamResetEventEPK23sctp_stream_reset_event" title='cricket::UsrsctpTransport::OnStreamResetEvent' data-ref="_ZN7cricket16UsrsctpTransport18OnStreamResetEventEPK23sctp_stream_reset_event" data-ref-filename="_ZN7cricket16UsrsctpTransport18OnStreamResetEventEPK23sctp_stream_reset_event">OnStreamResetEvent</a>(&amp;<a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_strreset_event" title='sctp_notification::sn_strreset_event' data-ref="sctp_notification::sn_strreset_event" data-ref-filename="sctp_notification..sn_strreset_event">sn_strreset_event</a>);</td></tr>
<tr><th id="1463">1463</th><td>      <b>break</b>;</td></tr>
<tr><th id="1464">1464</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#256" title="0x000c" data-ref="_M/SCTP_ASSOC_RESET_EVENT">SCTP_ASSOC_RESET_EVENT</a>:</td></tr>
<tr><th id="1465">1465</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1465, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_ASSOC_RESET_EVENT"</q>;</td></tr>
<tr><th id="1466">1466</th><td>      <b>break</b>;</td></tr>
<tr><th id="1467">1467</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#257" title="0x000d" data-ref="_M/SCTP_STREAM_CHANGE_EVENT">SCTP_STREAM_CHANGE_EVENT</a>:</td></tr>
<tr><th id="1468">1468</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1468, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_STREAM_CHANGE_EVENT"</q>;</td></tr>
<tr><th id="1469">1469</th><td>      <i>// An acknowledgment we get after our stream resets have gone through,</i></td></tr>
<tr><th id="1470">1470</th><td><i>      // if they've failed.  We log the message, but don't react -- we don't</i></td></tr>
<tr><th id="1471">1471</th><td><i>      // keep around the last-transmitted set of SSIDs we wanted to close for</i></td></tr>
<tr><th id="1472">1472</th><td><i>      // error recovery.  It doesn't seem likely to occur, and if so, likely</i></td></tr>
<tr><th id="1473">1473</th><td><i>      // harmless within the lifetime of a single SCTP association.</i></td></tr>
<tr><th id="1474">1474</th><td>      <b>break</b>;</td></tr>
<tr><th id="1475">1475</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#246" title="0x0002" data-ref="_M/SCTP_PEER_ADDR_CHANGE">SCTP_PEER_ADDR_CHANGE</a>:</td></tr>
<tr><th id="1476">1476</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1476, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_PEER_ADDR_CHANGE"</q>;</td></tr>
<tr><th id="1477">1477</th><td>      <b>break</b>;</td></tr>
<tr><th id="1478">1478</th><td>    <b>default</b>:</td></tr>
<tr><th id="1479">1479</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_WARNING&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1479, ::rtc::LS_WARNING)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_WARNING" title='rtc::LS_WARNING' data-ref="rtc::LS_WARNING" data-ref-filename="rtc..LS_WARNING">LS_WARNING</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Unknown SCTP event: "</q></td></tr>
<tr><th id="1480">1480</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col2 ref" href="#342notification" title='notification' data-ref="342notification" data-ref-filename="342notification">notification</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sn_header" title='sctp_notification::sn_header' data-ref="sctp_notification::sn_header" data-ref-filename="sctp_notification..sn_header">sn_header</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_notification::sctp_tlv::sn_type" title='sctp_notification::sctp_tlv::sn_type' data-ref="sctp_notification::sctp_tlv::sn_type" data-ref-filename="sctp_notification..sctp_tlv..sn_type">sn_type</a>;</td></tr>
<tr><th id="1481">1481</th><td>      <b>break</b>;</td></tr>
<tr><th id="1482">1482</th><td>  }</td></tr>
<tr><th id="1483">1483</th><td>}</td></tr>
<tr><th id="1484">1484</th><td></td></tr>
<tr><th id="1485">1485</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport25OnNotificationAssocChangeERK17sctp_assoc_change" title='cricket::UsrsctpTransport::OnNotificationAssocChange' data-ref="_ZN7cricket16UsrsctpTransport25OnNotificationAssocChangeERK17sctp_assoc_change" data-ref-filename="_ZN7cricket16UsrsctpTransport25OnNotificationAssocChangeERK17sctp_assoc_change">OnNotificationAssocChange</dfn>(</td></tr>
<tr><th id="1486">1486</th><td>    <em>const</em> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_change" title='sctp_assoc_change' data-ref="sctp_assoc_change" data-ref-filename="sctp_assoc_change">sctp_assoc_change</a>&amp; <dfn class="local col4 decl" id="344change" title='change' data-type='const sctp_assoc_change &amp;' data-ref="344change" data-ref-filename="344change">change</dfn>) {</td></tr>
<tr><th id="1487">1487</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1487, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1488">1488</th><td>  <b>switch</b> (<a class="local col4 ref" href="#344change" title='change' data-ref="344change" data-ref-filename="344change">change</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_change::sac_state" title='sctp_assoc_change::sac_state' data-ref="sctp_assoc_change::sac_state" data-ref-filename="sctp_assoc_change..sac_state">sac_state</a>) {</td></tr>
<tr><th id="1489">1489</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#277" title="0x0001" data-ref="_M/SCTP_COMM_UP">SCTP_COMM_UP</a>:</td></tr>
<tr><th id="1490">1490</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1490, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Association change SCTP_COMM_UP, stream # is "</q></td></tr>
<tr><th id="1491">1491</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#344change" title='change' data-ref="344change" data-ref-filename="344change">change</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_change::sac_outbound_streams" title='sctp_assoc_change::sac_outbound_streams' data-ref="sctp_assoc_change::sac_outbound_streams" data-ref-filename="sctp_assoc_change..sac_outbound_streams">sac_outbound_streams</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" outbound, "</q></td></tr>
<tr><th id="1492">1492</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col4 ref" href="#344change" title='change' data-ref="344change" data-ref-filename="344change">change</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_change::sac_inbound_streams" title='sctp_assoc_change::sac_inbound_streams' data-ref="sctp_assoc_change::sac_inbound_streams" data-ref-filename="sctp_assoc_change..sac_inbound_streams">sac_inbound_streams</a> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>" inbound."</q>;</td></tr>
<tr><th id="1493">1493</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::max_outbound_streams_" title='cricket::UsrsctpTransport::max_outbound_streams_' data-ref="cricket::UsrsctpTransport::max_outbound_streams_" data-ref-filename="cricket..UsrsctpTransport..max_outbound_streams_">max_outbound_streams_</a> <span class='ref fn' title='std::__1::optional::operator=' data-ref="_ZNSt3__18optionalaSEOTL0__" data-ref-filename="_ZNSt3__18optionalaSEOTL0__">=</span> <a class="local col4 ref" href="#344change" title='change' data-ref="344change" data-ref-filename="344change">change</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_change::sac_outbound_streams" title='sctp_assoc_change::sac_outbound_streams' data-ref="sctp_assoc_change::sac_outbound_streams" data-ref-filename="sctp_assoc_change..sac_outbound_streams">sac_outbound_streams</a>;</td></tr>
<tr><th id="1494">1494</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::max_inbound_streams_" title='cricket::UsrsctpTransport::max_inbound_streams_' data-ref="cricket::UsrsctpTransport::max_inbound_streams_" data-ref-filename="cricket..UsrsctpTransport..max_inbound_streams_">max_inbound_streams_</a> <span class='ref fn' title='std::__1::optional::operator=' data-ref="_ZNSt3__18optionalaSEOTL0__" data-ref-filename="_ZNSt3__18optionalaSEOTL0__">=</span> <a class="local col4 ref" href="#344change" title='change' data-ref="344change" data-ref-filename="344change">change</a>.<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_assoc_change::sac_inbound_streams" title='sctp_assoc_change::sac_inbound_streams' data-ref="sctp_assoc_change::sac_inbound_streams" data-ref-filename="sctp_assoc_change..sac_inbound_streams">sac_inbound_streams</a>;</td></tr>
<tr><th id="1495">1495</th><td>      <a class="member field" href="sctp_transport_internal.h.html#cricket::SctpTransportInternal::SignalAssociationChangeCommunicationUp" title='cricket::SctpTransportInternal::SignalAssociationChangeCommunicationUp' data-ref="cricket::SctpTransportInternal::SignalAssociationChangeCommunicationUp" data-ref-filename="cricket..SctpTransportInternal..SignalAssociationChangeCommunicationUp">SignalAssociationChangeCommunicationUp</a><a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policyclEDpT0_" title='sigslot::signal_with_thread_policy::operator()' data-ref="_ZN7sigslot25signal_with_thread_policyclEDpT0_" data-ref-filename="_ZN7sigslot25signal_with_thread_policyclEDpT0_">()</a>;</td></tr>
<tr><th id="1496">1496</th><td>      <i>// In case someone tried to close a stream before communication</i></td></tr>
<tr><th id="1497">1497</th><td><i>      // came up, send any queued resets.</i></td></tr>
<tr><th id="1498">1498</th><td>      <a class="member fn" href="#_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" title='cricket::UsrsctpTransport::SendQueuedStreamResets' data-ref="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv">SendQueuedStreamResets</a>();</td></tr>
<tr><th id="1499">1499</th><td>      <b>break</b>;</td></tr>
<tr><th id="1500">1500</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#278" title="0x0002" data-ref="_M/SCTP_COMM_LOST">SCTP_COMM_LOST</a>:</td></tr>
<tr><th id="1501">1501</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1501, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Association change SCTP_COMM_LOST"</q>;</td></tr>
<tr><th id="1502">1502</th><td>      <b>break</b>;</td></tr>
<tr><th id="1503">1503</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#279" title="0x0003" data-ref="_M/SCTP_RESTART">SCTP_RESTART</a>:</td></tr>
<tr><th id="1504">1504</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1504, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Association change SCTP_RESTART"</q>;</td></tr>
<tr><th id="1505">1505</th><td>      <b>break</b>;</td></tr>
<tr><th id="1506">1506</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#280" title="0x0004" data-ref="_M/SCTP_SHUTDOWN_COMP">SCTP_SHUTDOWN_COMP</a>:</td></tr>
<tr><th id="1507">1507</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1507, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Association change SCTP_SHUTDOWN_COMP"</q>;</td></tr>
<tr><th id="1508">1508</th><td>      <b>break</b>;</td></tr>
<tr><th id="1509">1509</th><td>    <b>case</b> <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#281" title="0x0005" data-ref="_M/SCTP_CANT_STR_ASSOC">SCTP_CANT_STR_ASSOC</a>:</td></tr>
<tr><th id="1510">1510</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1510, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Association change SCTP_CANT_STR_ASSOC"</q>;</td></tr>
<tr><th id="1511">1511</th><td>      <b>break</b>;</td></tr>
<tr><th id="1512">1512</th><td>    <b>default</b>:</td></tr>
<tr><th id="1513">1513</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_INFO&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1513, ::rtc::LS_INFO)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_INFO" title='rtc::LS_INFO' data-ref="rtc::LS_INFO" data-ref-filename="rtc..LS_INFO">LS_INFO</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"Association change UNKNOWN"</q>;</td></tr>
<tr><th id="1514">1514</th><td>      <b>break</b>;</td></tr>
<tr><th id="1515">1515</th><td>  }</td></tr>
<tr><th id="1516">1516</th><td>}</td></tr>
<tr><th id="1517">1517</th><td></td></tr>
<tr><th id="1518">1518</th><td><em>void</em> <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport" title='cricket::UsrsctpTransport' data-ref="cricket::UsrsctpTransport" data-ref-filename="cricket..UsrsctpTransport">UsrsctpTransport</a>::<dfn class="decl def fn" id="_ZN7cricket16UsrsctpTransport18OnStreamResetEventEPK23sctp_stream_reset_event" title='cricket::UsrsctpTransport::OnStreamResetEvent' data-ref="_ZN7cricket16UsrsctpTransport18OnStreamResetEventEPK23sctp_stream_reset_event" data-ref-filename="_ZN7cricket16UsrsctpTransport18OnStreamResetEventEPK23sctp_stream_reset_event">OnStreamResetEvent</dfn>(</td></tr>
<tr><th id="1519">1519</th><td>    <em>const</em> <b>struct</b> <a class="type" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event" title='sctp_stream_reset_event' data-ref="sctp_stream_reset_event" data-ref-filename="sctp_stream_reset_event">sctp_stream_reset_event</a>* <dfn class="local col5 decl" id="345evt" title='evt' data-type='const struct sctp_stream_reset_event *' data-ref="345evt" data-ref-filename="345evt">evt</dfn>) {</td></tr>
<tr><th id="1520">1520</th><td>  <a class="macro" href="../../api/sequence_checker.h.html#110" title="webrtc::webrtc_sequence_checker_internal::SequenceCheckerScope seq_check_scope(network_thread_); ((network_thread_)-&gt;IsCurrent()) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1520, &quot;(network_thread_)-&gt;IsCurrent()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; webrtc::webrtc_sequence_checker_internal::ExpectationToString(network_thread_)" data-ref="_M/RTC_DCHECK_RUN_ON">RTC_DCHECK_RUN_ON</a>(<a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::network_thread_" title='cricket::UsrsctpTransport::network_thread_' data-ref="cricket::UsrsctpTransport::network_thread_" data-ref-filename="cricket..UsrsctpTransport..network_thread_">network_thread_</a>);</td></tr>
<tr><th id="1521">1521</th><td></td></tr>
<tr><th id="1522">1522</th><td>  <i>// This callback indicates that a reset is complete for incoming and/or</i></td></tr>
<tr><th id="1523">1523</th><td><i>  // outgoing streams. The reset may have been initiated by us or the remote</i></td></tr>
<tr><th id="1524">1524</th><td><i>  // side.</i></td></tr>
<tr><th id="1525">1525</th><td>  <em>const</em> <em>int</em> <dfn class="local col6 decl" id="346num_sids" title='num_sids' data-type='const int' data-ref="346num_sids" data-ref-filename="346num_sids">num_sids</dfn> = (<a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event::strreset_length" title='sctp_stream_reset_event::strreset_length' data-ref="sctp_stream_reset_event::strreset_length" data-ref-filename="sctp_stream_reset_event..strreset_length">strreset_length</a> - <b>sizeof</b>(*<a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>)) /</td></tr>
<tr><th id="1526">1526</th><td>                       <b>sizeof</b>(<a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event::strreset_stream_list" title='sctp_stream_reset_event::strreset_stream_list' data-ref="sctp_stream_reset_event::strreset_stream_list" data-ref-filename="sctp_stream_reset_event..strreset_stream_list">strreset_stream_list</a>[<var>0</var>]);</td></tr>
<tr><th id="1527">1527</th><td></td></tr>
<tr><th id="1528">1528</th><td>  <b>if</b> (<a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event::strreset_flags" title='sctp_stream_reset_event::strreset_flags' data-ref="sctp_stream_reset_event::strreset_flags" data-ref-filename="sctp_stream_reset_event..strreset_flags">strreset_flags</a> &amp; <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#390" title="0x0008" data-ref="_M/SCTP_STREAM_RESET_FAILED">SCTP_STREAM_RESET_FAILED</a>) {</td></tr>
<tr><th id="1529">1529</th><td>    <i>// OK, just try sending any previously sent stream resets again. The stream</i></td></tr>
<tr><th id="1530">1530</th><td><i>    // IDs sent over when the RESET_FIALED flag is set seem to be garbage</i></td></tr>
<tr><th id="1531">1531</th><td><i>    // values. Ignore them.</i></td></tr>
<tr><th id="1532">1532</th><td>    <b>for</b> (<span class="namespace">std::</span><span class='type' title='std::__1::map' data-ref="std::__1::map" data-ref-filename="std..__1..map">map</span>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>, <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus" title='cricket::UsrsctpTransport::StreamStatus' data-ref="cricket::UsrsctpTransport::StreamStatus" data-ref-filename="cricket..UsrsctpTransport..StreamStatus">StreamStatus</a>&gt;::<span class='typedef' title='std::__1::map&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus, std::__1::less&lt;unsigned int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;&gt;&gt;::value_type' data-type='pair&lt;const std::__1::map&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus, std::__1::less&lt;unsigned int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;&gt;&gt;::key_type, std::__1::map&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus, std::__1::less&lt;unsigned int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;&gt;&gt;::mapped_type&gt;' data-ref="std::__1::map{unsignedint,cricket::UsrsctpTransport::StreamStatus,std::__1::less{unsignedint},std::__1::allocator{std::__1::pair{constunsignedint,cric7670916" data-ref-filename="std..__1..map{unsignedint,cricket..UsrsctpTransport..StreamStatus,std..__1..less{unsignedint},std..__1..allocator{std..__1..pair{constunsignedint,cric7670916">value_type</span>&amp; <dfn class="local col7 decl" id="347stream" title='stream' data-type='std::map&lt;uint32_t, StreamStatus&gt;::value_type &amp;' data-ref="347stream" data-ref-filename="347stream">stream</dfn> :</td></tr>
<tr><th id="1533">1533</th><td>         <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>) {</td></tr>
<tr><th id="1534">1534</th><td>      <a class="local col7 ref" href="#347stream" title='stream' data-ref="347stream" data-ref-filename="347stream">stream</a>.<span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>.<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus::outgoing_reset_initiated" title='cricket::UsrsctpTransport::StreamStatus::outgoing_reset_initiated' data-ref="cricket::UsrsctpTransport::StreamStatus::outgoing_reset_initiated" data-ref-filename="cricket..UsrsctpTransport..StreamStatus..outgoing_reset_initiated">outgoing_reset_initiated</a> = <b>false</b>;</td></tr>
<tr><th id="1535">1535</th><td>    }</td></tr>
<tr><th id="1536">1536</th><td>    <a class="member fn" href="#_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" title='cricket::UsrsctpTransport::SendQueuedStreamResets' data-ref="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv">SendQueuedStreamResets</a>();</td></tr>
<tr><th id="1537">1537</th><td>    <i>// TODO(deadbeef): If this happens, the entire SCTP association is in quite</i></td></tr>
<tr><th id="1538">1538</th><td><i>    // crippled state. The SCTP session should be dismantled, and the WebRTC</i></td></tr>
<tr><th id="1539">1539</th><td><i>    // connectivity errored because is clear that the distant party is not</i></td></tr>
<tr><th id="1540">1540</th><td><i>    // playing ball: malforms the transported data.</i></td></tr>
<tr><th id="1541">1541</th><td>    <b>return</b>;</td></tr>
<tr><th id="1542">1542</th><td>  }</td></tr>
<tr><th id="1543">1543</th><td></td></tr>
<tr><th id="1544">1544</th><td>  <i>// Loop over the received events and properly update the StreamStatus map.</i></td></tr>
<tr><th id="1545">1545</th><td>  <b>for</b> (<em>int</em> <dfn class="local col8 decl" id="348i" title='i' data-type='int' data-ref="348i" data-ref-filename="348i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#348i" title='i' data-ref="348i" data-ref-filename="348i">i</a> &lt; <a class="local col6 ref" href="#346num_sids" title='num_sids' data-ref="346num_sids" data-ref-filename="346num_sids">num_sids</a>; <a class="local col8 ref" href="#348i" title='i' data-ref="348i" data-ref-filename="348i">i</a>++) {</td></tr>
<tr><th id="1546">1546</th><td>    <em>const</em> <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col9 decl" id="349sid" title='sid' data-type='const uint32_t' data-ref="349sid" data-ref-filename="349sid">sid</dfn> = <a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event::strreset_stream_list" title='sctp_stream_reset_event::strreset_stream_list' data-ref="sctp_stream_reset_event::strreset_stream_list" data-ref-filename="sctp_stream_reset_event..strreset_stream_list">strreset_stream_list</a>[<a class="local col8 ref" href="#348i" title='i' data-ref="348i" data-ref-filename="348i">i</a>];</td></tr>
<tr><th id="1547">1547</th><td>    <em>auto</em> <dfn class="local col0 decl" id="350it" title='it' data-type='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;' data-ref="350it" data-ref-filename="350it">it</dfn> = <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::find' data-ref="_ZNSt3__13map4findERKT_" data-ref-filename="_ZNSt3__13map4findERKT_">find</span>(<a class="local col9 ref" href="#349sid" title='sid' data-ref="349sid" data-ref-filename="349sid">sid</a>);</td></tr>
<tr><th id="1548">1548</th><td>    <b>if</b> (<a class="local col0 ref" href="#350it" title='it' data-ref="350it" data-ref-filename="350it">it</a> <span class='ref fn' title='std::__1::operator==' data-ref="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_" data-ref-filename="_ZNSt3__1eqERKNS_14__map_iteratorIT_EES5_">==</span> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::end' data-ref="_ZNSt3__13map3endEv" data-ref-filename="_ZNSt3__13map3endEv">end</span>()) {</td></tr>
<tr><th id="1549">1549</th><td>      <i>// This stream is unknown. Sometimes this can be from a</i></td></tr>
<tr><th id="1550">1550</th><td><i>      // RESET_FAILED-related retransmit.</i></td></tr>
<tr><th id="1551">1551</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1551, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_STREAM_RESET_EVENT("</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1552">1552</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"): Unknown sid "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col9 ref" href="#349sid" title='sid' data-ref="349sid" data-ref-filename="349sid">sid</a>;</td></tr>
<tr><th id="1553">1553</th><td>      <b>continue</b>;</td></tr>
<tr><th id="1554">1554</th><td>    }</td></tr>
<tr><th id="1555">1555</th><td>    <a class="type" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus" title='cricket::UsrsctpTransport::StreamStatus' data-ref="cricket::UsrsctpTransport::StreamStatus" data-ref-filename="cricket..UsrsctpTransport..StreamStatus">StreamStatus</a>&amp; <dfn class="local col1 decl" id="351status" title='status' data-type='cricket::UsrsctpTransport::StreamStatus &amp;' data-ref="351status" data-ref-filename="351status">status</dfn> = <a class="local col0 ref" href="#350it" title='it' data-ref="350it" data-ref-filename="350it">it</a><span class='ref fn' title='std::__1::__map_iterator::operator-&gt;' data-ref="_ZNKSt3__114__map_iteratorptEv" data-ref-filename="_ZNKSt3__114__map_iteratorptEv">-&gt;</span><span class='ref field' title='std::__1::pair&lt;const unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;::second' data-ref="std::__1::pair::second" data-ref-filename="std..__1..pair..second">second</span>;</td></tr>
<tr><th id="1556">1556</th><td></td></tr>
<tr><th id="1557">1557</th><td>    <b>if</b> (<a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event::strreset_flags" title='sctp_stream_reset_event::strreset_flags' data-ref="sctp_stream_reset_event::strreset_flags" data-ref-filename="sctp_stream_reset_event..strreset_flags">strreset_flags</a> &amp; <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#387" title="0x0001" data-ref="_M/SCTP_STREAM_RESET_INCOMING_SSN">SCTP_STREAM_RESET_INCOMING_SSN</a>) {</td></tr>
<tr><th id="1558">1558</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1558, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_STREAM_RESET_INCOMING_SSN("</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1559">1559</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"): sid "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col9 ref" href="#349sid" title='sid' data-ref="349sid" data-ref-filename="349sid">sid</a>;</td></tr>
<tr><th id="1560">1560</th><td>      <a class="local col1 ref" href="#351status" title='status' data-ref="351status" data-ref-filename="351status">status</a>.<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus::incoming_reset_complete" title='cricket::UsrsctpTransport::StreamStatus::incoming_reset_complete' data-ref="cricket::UsrsctpTransport::StreamStatus::incoming_reset_complete" data-ref-filename="cricket..UsrsctpTransport..StreamStatus..incoming_reset_complete">incoming_reset_complete</a> = <b>true</b>;</td></tr>
<tr><th id="1561">1561</th><td>      <i>// If we receive an incoming stream reset and we haven't started the</i></td></tr>
<tr><th id="1562">1562</th><td><i>      // closing procedure ourselves, this means the remote side started the</i></td></tr>
<tr><th id="1563">1563</th><td><i>      // closing procedure; fire a signal so that the relevant data channel</i></td></tr>
<tr><th id="1564">1564</th><td><i>      // can change to "closing" (we still need to reset the outgoing stream</i></td></tr>
<tr><th id="1565">1565</th><td><i>      // before it changes to "closed").</i></td></tr>
<tr><th id="1566">1566</th><td>      <b>if</b> (!<a class="local col1 ref" href="#351status" title='status' data-ref="351status" data-ref-filename="351status">status</a>.<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus::closure_initiated" title='cricket::UsrsctpTransport::StreamStatus::closure_initiated' data-ref="cricket::UsrsctpTransport::StreamStatus::closure_initiated" data-ref-filename="cricket..UsrsctpTransport..StreamStatus..closure_initiated">closure_initiated</a>) {</td></tr>
<tr><th id="1567">1567</th><td>        <a class="member field" href="sctp_transport_internal.h.html#cricket::SctpTransportInternal::SignalClosingProcedureStartedRemotely" title='cricket::SctpTransportInternal::SignalClosingProcedureStartedRemotely' data-ref="cricket::SctpTransportInternal::SignalClosingProcedureStartedRemotely" data-ref-filename="cricket..SctpTransportInternal..SignalClosingProcedureStartedRemotely">SignalClosingProcedureStartedRemotely</a><a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policyclEDpT0_" title='sigslot::signal_with_thread_policy::operator()' data-ref="_ZN7sigslot25signal_with_thread_policyclEDpT0_" data-ref-filename="_ZN7sigslot25signal_with_thread_policyclEDpT0_">(<a class="local col9 ref" href="#349sid" title='sid' data-ref="349sid" data-ref-filename="349sid">sid</a>)</a>;</td></tr>
<tr><th id="1568">1568</th><td>      }</td></tr>
<tr><th id="1569">1569</th><td>    }</td></tr>
<tr><th id="1570">1570</th><td>    <b>if</b> (<a class="local col5 ref" href="#345evt" title='evt' data-ref="345evt" data-ref-filename="345evt">evt</a>-&gt;<a class="ref field" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#sctp_stream_reset_event::strreset_flags" title='sctp_stream_reset_event::strreset_flags' data-ref="sctp_stream_reset_event::strreset_flags" data-ref-filename="sctp_stream_reset_event..strreset_flags">strreset_flags</a> &amp; <a class="macro" href="../../../third_party/usrsctp/usrsctplib/usrsctplib/usrsctp.h.html#388" title="0x0002" data-ref="_M/SCTP_STREAM_RESET_OUTGOING_SSN">SCTP_STREAM_RESET_OUTGOING_SSN</a>) {</td></tr>
<tr><th id="1571">1571</th><td>      <a class="macro" href="../../rtc_base/logging.h.html#622" title="!rtc::LogMessage::IsNoop&lt;::rtc::LS_VERBOSE&gt;() &amp;&amp; ::rtc::webrtc_logging_impl::LogCall() &amp; ::rtc::webrtc_logging_impl::LogStreamer&lt;&gt;() &lt;&lt; ::rtc::webrtc_logging_impl::LogMetadata(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/media/sctp/usrsctp_transport.cc&quot;, 1571, ::rtc::LS_VERBOSE)" data-ref="_M/RTC_LOG">RTC_LOG</a>(<a class="enum" href="../../rtc_base/logging.h.html#rtc::LS_VERBOSE" title='rtc::LS_VERBOSE' data-ref="rtc::LS_VERBOSE" data-ref-filename="rtc..LS_VERBOSE">LS_VERBOSE</a>) <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"SCTP_STREAM_RESET_OUTGOING_SSN("</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::debug_name_" title='cricket::UsrsctpTransport::debug_name_' data-ref="cricket::UsrsctpTransport::debug_name_" data-ref-filename="cricket..UsrsctpTransport..debug_name_">debug_name_</a></td></tr>
<tr><th id="1572">1572</th><td>                          <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsERKTL0__">&lt;&lt;</a> <q>"): sid "</q> <a class="ref fn" href="../../rtc_base/logging.h.html#_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" title='rtc::webrtc_logging_impl::LogStreamer&lt;type-parameter-0-0, type-parameter-0-1...&gt;::operator&lt;&lt;' data-ref="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__" data-ref-filename="_ZNK3rtc19webrtc_logging_impl11LogStreamerIJT_DpT0_EElsETL0__">&lt;&lt;</a> <a class="local col9 ref" href="#349sid" title='sid' data-ref="349sid" data-ref-filename="349sid">sid</a>;</td></tr>
<tr><th id="1573">1573</th><td>      <a class="local col1 ref" href="#351status" title='status' data-ref="351status" data-ref-filename="351status">status</a>.<a class="ref field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::StreamStatus::outgoing_reset_complete" title='cricket::UsrsctpTransport::StreamStatus::outgoing_reset_complete' data-ref="cricket::UsrsctpTransport::StreamStatus::outgoing_reset_complete" data-ref-filename="cricket..UsrsctpTransport..StreamStatus..outgoing_reset_complete">outgoing_reset_complete</a> = <b>true</b>;</td></tr>
<tr><th id="1574">1574</th><td>    }</td></tr>
<tr><th id="1575">1575</th><td></td></tr>
<tr><th id="1576">1576</th><td>    <i>// If this reset completes the closing procedure, remove the stream from</i></td></tr>
<tr><th id="1577">1577</th><td><i>    // our map so we can consider it closed, and fire a signal such that the</i></td></tr>
<tr><th id="1578">1578</th><td><i>    // relevant DataChannel will change its state to "closed" and its ID can be</i></td></tr>
<tr><th id="1579">1579</th><td><i>    // re-used.</i></td></tr>
<tr><th id="1580">1580</th><td>    <b>if</b> (<a class="local col1 ref" href="#351status" title='status' data-ref="351status" data-ref-filename="351status">status</a>.<a class="ref fn" href="usrsctp_transport.h.html#_ZNK7cricket16UsrsctpTransport12StreamStatus14reset_completeEv" title='cricket::UsrsctpTransport::StreamStatus::reset_complete' data-ref="_ZNK7cricket16UsrsctpTransport12StreamStatus14reset_completeEv" data-ref-filename="_ZNK7cricket16UsrsctpTransport12StreamStatus14reset_completeEv">reset_complete</a>()) {</td></tr>
<tr><th id="1581">1581</th><td>      <a class="member field" href="usrsctp_transport.h.html#cricket::UsrsctpTransport::stream_status_by_sid_" title='cricket::UsrsctpTransport::stream_status_by_sid_' data-ref="cricket::UsrsctpTransport::stream_status_by_sid_" data-ref-filename="cricket..UsrsctpTransport..stream_status_by_sid_">stream_status_by_sid_</a>.<span class='ref fn' title='std::__1::map::erase' data-ref="_ZNSt3__13map5eraseENS_14__map_iteratorINS_6__treeINS_12__value_typeIT_T0_EENS_19__map_value_compareIS4_S6_NS_10__identityIT1_E4typeEXaasr8is_emptyISB3977986" data-ref-filename="_ZNSt3__13map5eraseENS_14__map_iteratorINS_6__treeINS_12__value_typeIT_T0_EENS_19__map_value_compareIS4_S6_NS_10__identityIT1_E4typeEXaasr8is_emptyISB3977986">erase</span>(<span class='ref fn fake' title='std::__1::__map_iterator&lt;std::__1::__tree_iterator&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, std::__1::__tree_node&lt;std::__1::__value_type&lt;unsigned int, cricket::UsrsctpTransport::StreamStatus&gt;, void *&gt; *, long&gt;&gt;::__map_iterator' data-ref="_ZNSt3__114__map_iteratorINS_15__tree_iteratorINS_12__value_typeIjN7cricket16UsrsctpTransport12StreamStatusEEEPNS_11__tree_nodeIS6_PvEElEEEC1ERKSC_" data-ref-filename="_ZNSt3__114__map_iteratorINS_15__tree_iteratorINS_12__value_typeIjN7cricket16UsrsctpTransport12StreamStatusEEEPNS_11__tree_nodeIS6_PvEElEEEC1ERKSC_"></span><a class="local col0 ref" href="#350it" title='it' data-ref="350it" data-ref-filename="350it">it</a>);</td></tr>
<tr><th id="1582">1582</th><td>      <a class="member field" href="sctp_transport_internal.h.html#cricket::SctpTransportInternal::SignalClosingProcedureComplete" title='cricket::SctpTransportInternal::SignalClosingProcedureComplete' data-ref="cricket::SctpTransportInternal::SignalClosingProcedureComplete" data-ref-filename="cricket..SctpTransportInternal..SignalClosingProcedureComplete">SignalClosingProcedureComplete</a><a class="ref fn" href="../../rtc_base/third_party/sigslot/sigslot.h.html#_ZN7sigslot25signal_with_thread_policyclEDpT0_" title='sigslot::signal_with_thread_policy::operator()' data-ref="_ZN7sigslot25signal_with_thread_policyclEDpT0_" data-ref-filename="_ZN7sigslot25signal_with_thread_policyclEDpT0_">(<a class="local col9 ref" href="#349sid" title='sid' data-ref="349sid" data-ref-filename="349sid">sid</a>)</a>;</td></tr>
<tr><th id="1583">1583</th><td>    }</td></tr>
<tr><th id="1584">1584</th><td>  }</td></tr>
<tr><th id="1585">1585</th><td></td></tr>
<tr><th id="1586">1586</th><td>  <i>// Always try to send any queued resets because this call indicates that the</i></td></tr>
<tr><th id="1587">1587</th><td><i>  // last outgoing or incoming reset has made some progress.</i></td></tr>
<tr><th id="1588">1588</th><td>  <a class="member fn" href="#_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" title='cricket::UsrsctpTransport::SendQueuedStreamResets' data-ref="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv" data-ref-filename="_ZN7cricket16UsrsctpTransport22SendQueuedStreamResetsEv">SendQueuedStreamResets</a>();</td></tr>
<tr><th id="1589">1589</th><td>}</td></tr>
<tr><th id="1590">1590</th><td></td></tr>
<tr><th id="1591">1591</th><td>}  <i>// namespace cricket</i></td></tr>
<tr><th id="1592">1592</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
