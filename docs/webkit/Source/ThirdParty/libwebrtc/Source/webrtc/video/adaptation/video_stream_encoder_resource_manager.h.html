<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>video_stream_encoder_resource_manager.h source code [webkit/Source/ThirdParty/libwebrtc/Source/webrtc/video/adaptation/video_stream_encoder_resource_manager.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="webrtc::VideoStreamEncoderResourceManager "/>
<link rel="stylesheet" href="../../../../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/ThirdParty/libwebrtc/Source/webrtc/video/adaptation/video_stream_encoder_resource_manager.h'; var root_path = '../../../../../../../..'; var data_path = '../../../../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../../..'>webkit</a>/<a href='../../../../../..'>Source</a>/<a href='../../../../..'>ThirdParty</a>/<a href='../../../..'>libwebrtc</a>/<a href='../../..'>Source</a>/<a href='../..'>webrtc</a>/<a href='..'>video</a>/<a href='./'>adaptation</a>/<a href='video_stream_encoder_resource_manager.h.html'>video_stream_encoder_resource_manager.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> *  Copyright 2020 The WebRTC Project Authors. All rights reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> *  Use of this source code is governed by a BSD-style license</i></td></tr>
<tr><th id="5">5</th><td><i> *  that can be found in the LICENSE file in the root of the source</i></td></tr>
<tr><th id="6">6</th><td><i> *  tree. An additional intellectual property rights grant can be found</i></td></tr>
<tr><th id="7">7</th><td><i> *  in the file PATENTS.  All contributing project authors may</i></td></tr>
<tr><th id="8">8</th><td><i> *  be found in the AUTHORS file in the root of the source tree.</i></td></tr>
<tr><th id="9">9</th><td><i> */</i></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#<span data-ppcond="11">ifndef</span> <span class="macro" data-ref="_M/VIDEO_ADAPTATION_VIDEO_STREAM_ENCODER_RESOURCE_MANAGER_H_">VIDEO_ADAPTATION_VIDEO_STREAM_ENCODER_RESOURCE_MANAGER_H_</span></u></td></tr>
<tr><th id="12">12</th><td><u>#define <dfn class="macro" id="_M/VIDEO_ADAPTATION_VIDEO_STREAM_ENCODER_RESOURCE_MANAGER_H_" data-ref="_M/VIDEO_ADAPTATION_VIDEO_STREAM_ENCODER_RESOURCE_MANAGER_H_">VIDEO_ADAPTATION_VIDEO_STREAM_ENCODER_RESOURCE_MANAGER_H_</dfn></u></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><u>#include &lt;atomic&gt;</u></td></tr>
<tr><th id="15">15</th><td><u>#include &lt;map&gt;</u></td></tr>
<tr><th id="16">16</th><td><u>#include &lt;memory&gt;</u></td></tr>
<tr><th id="17">17</th><td><u>#include &lt;string&gt;</u></td></tr>
<tr><th id="18">18</th><td><u>#include &lt;unordered_map&gt;</u></td></tr>
<tr><th id="19">19</th><td><u>#include &lt;utility&gt;</u></td></tr>
<tr><th id="20">20</th><td><u>#include &lt;vector&gt;</u></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../../third_party/abseil-cpp/absl/types/optional.h.html">"absl/types/optional.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../api/adaptation/resource.h.html">"api/adaptation/resource.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../api/rtp_parameters.h.html">"api/rtp_parameters.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../api/scoped_refptr.h.html">"api/scoped_refptr.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../api/task_queue/task_queue_base.h.html">"api/task_queue/task_queue_base.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../../api/video/video_adaptation_counters.h.html">"api/video/video_adaptation_counters.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../api/video/video_adaptation_reason.h.html">"api/video/video_adaptation_reason.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../api/video/video_frame.h.html">"api/video/video_frame.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../api/video/video_source_interface.h.html">"api/video/video_source_interface.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../api/video/video_stream_encoder_observer.h.html">"api/video/video_stream_encoder_observer.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../api/video_codecs/video_codec.h.html">"api/video_codecs/video_codec.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../api/video_codecs/video_encoder.h.html">"api/video_codecs/video_encoder.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../api/video_codecs/video_encoder_config.h.html">"api/video_codecs/video_encoder_config.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../../call/adaptation/resource_adaptation_processor_interface.h.html">"call/adaptation/resource_adaptation_processor_interface.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../../call/adaptation/video_stream_adapter.h.html">"call/adaptation/video_stream_adapter.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../call/adaptation/video_stream_input_state_provider.h.html">"call/adaptation/video_stream_input_state_provider.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../rtc_base/experiments/quality_scaler_settings.h.html">"rtc_base/experiments/quality_scaler_settings.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../../rtc_base/ref_count.h.html">"rtc_base/ref_count.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../../rtc_base/strings/string_builder.h.html">"rtc_base/strings/string_builder.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../../rtc_base/synchronization/mutex.h.html">"rtc_base/synchronization/mutex.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../../rtc_base/task_queue.h.html">"rtc_base/task_queue.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../../rtc_base/thread_annotations.h.html">"rtc_base/thread_annotations.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../../system_wrappers/include/clock.h.html">"system_wrappers/include/clock.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="balanced_constraint.h.html">"video/adaptation/balanced_constraint.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="bitrate_constraint.h.html">"video/adaptation/bitrate_constraint.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="encode_usage_resource.h.html">"video/adaptation/encode_usage_resource.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="overuse_frame_detector.h.html">"video/adaptation/overuse_frame_detector.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="pixel_limit_resource.h.html">"video/adaptation/pixel_limit_resource.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#include <a href="quality_rampup_experiment_helper.h.html">"video/adaptation/quality_rampup_experiment_helper.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="quality_scaler_resource.h.html">"video/adaptation/quality_scaler_resource.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="video_stream_encoder_resource.h.html">"video/adaptation/video_stream_encoder_resource.h"</a></u></td></tr>
<tr><th id="53">53</th><td></td></tr>
<tr><th id="54">54</th><td><b>namespace</b> <span class="namespace">webrtc</span> {</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i>// The assumed input frame size if we have not yet received a frame.</i></td></tr>
<tr><th id="57">57</th><td><i>// TODO(hbos): This is 144p - why are we assuming super low quality? Seems like</i></td></tr>
<tr><th id="58">58</th><td><i>// a bad heuristic.</i></td></tr>
<tr><th id="59">59</th><td><b>extern</b> <em>const</em> <em>int</em> <dfn class="decl" id="webrtc::kDefaultInputPixelsWidth" title='webrtc::kDefaultInputPixelsWidth' data-ref="webrtc::kDefaultInputPixelsWidth" data-ref-filename="webrtc..kDefaultInputPixelsWidth">kDefaultInputPixelsWidth</dfn>;</td></tr>
<tr><th id="60">60</th><td><b>extern</b> <em>const</em> <em>int</em> <dfn class="decl" id="webrtc::kDefaultInputPixelsHeight" title='webrtc::kDefaultInputPixelsHeight' data-ref="webrtc::kDefaultInputPixelsHeight" data-ref-filename="webrtc..kDefaultInputPixelsHeight">kDefaultInputPixelsHeight</dfn>;</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><i>// Owns adaptation-related Resources pertaining to a single VideoStreamEncoder</i></td></tr>
<tr><th id="63">63</th><td><i>// and passes on the relevant input from the encoder to the resources. The</i></td></tr>
<tr><th id="64">64</th><td><i>// resources provide resource usage states to the ResourceAdaptationProcessor</i></td></tr>
<tr><th id="65">65</th><td><i>// which is responsible for reconfiguring streams in order not to overuse</i></td></tr>
<tr><th id="66">66</th><td><i>// resources.</i></td></tr>
<tr><th id="67">67</th><td><i>//</i></td></tr>
<tr><th id="68">68</th><td><i>// The manager is also involved with various mitigations not part of the</i></td></tr>
<tr><th id="69">69</th><td><i>// ResourceAdaptationProcessor code such as the inital frame dropping.</i></td></tr>
<tr><th id="70">70</th><td><b>class</b> <dfn class="type def" id="webrtc::VideoStreamEncoderResourceManager" title='webrtc::VideoStreamEncoderResourceManager' data-ref="webrtc::VideoStreamEncoderResourceManager" data-ref-filename="webrtc..VideoStreamEncoderResourceManager">VideoStreamEncoderResourceManager</dfn></td></tr>
<tr><th id="71">71</th><td>    : <b>public</b> <a class="type" href="../../call/adaptation/video_stream_adapter.h.html#webrtc::VideoSourceRestrictionsListener" title='webrtc::VideoSourceRestrictionsListener' data-ref="webrtc::VideoSourceRestrictionsListener" data-ref-filename="webrtc..VideoSourceRestrictionsListener">VideoSourceRestrictionsListener</a>,</td></tr>
<tr><th id="72">72</th><td>      <b>public</b> <a class="type" href="../../call/adaptation/resource_adaptation_processor_interface.h.html#webrtc::ResourceLimitationsListener" title='webrtc::ResourceLimitationsListener' data-ref="webrtc::ResourceLimitationsListener" data-ref-filename="webrtc..ResourceLimitationsListener">ResourceLimitationsListener</a>,</td></tr>
<tr><th id="73">73</th><td>      <b>public</b> <a class="type" href="quality_rampup_experiment_helper.h.html#webrtc::QualityRampUpExperimentListener" title='webrtc::QualityRampUpExperimentListener' data-ref="webrtc::QualityRampUpExperimentListener" data-ref-filename="webrtc..QualityRampUpExperimentListener">QualityRampUpExperimentListener</a> {</td></tr>
<tr><th id="74">74</th><td> <b>public</b>:</td></tr>
<tr><th id="75">75</th><td>  <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManagerC1EPNS_29VideoStreamInputStateProviderEPNS_26VideoStreamEncoderObserverEPNS_5ClockEbNSt3__110unique_ptrIN13857679" title='webrtc::VideoStreamEncoderResourceManager::VideoStreamEncoderResourceManager' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManagerC1EPNS_29VideoStreamInputStateProviderEPNS_26VideoStreamEncoderObserverEPNS_5ClockEbNSt3__110unique_ptrIN13857679" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManagerC1EPNS_29VideoStreamInputStateProviderEPNS_26VideoStreamEncoderObserverEPNS_5ClockEbNSt3__110unique_ptrIN13857679">VideoStreamEncoderResourceManager</dfn>(</td></tr>
<tr><th id="76">76</th><td>      <a class="type" href="../../call/adaptation/video_stream_input_state_provider.h.html#webrtc::VideoStreamInputStateProvider" title='webrtc::VideoStreamInputStateProvider' data-ref="webrtc::VideoStreamInputStateProvider" data-ref-filename="webrtc..VideoStreamInputStateProvider">VideoStreamInputStateProvider</a>* <dfn class="local col2 decl" id="72input_state_provider" title='input_state_provider' data-type='webrtc::VideoStreamInputStateProvider *' data-ref="72input_state_provider" data-ref-filename="72input_state_provider">input_state_provider</dfn>,</td></tr>
<tr><th id="77">77</th><td>      <a class="type" href="../../api/video/video_stream_encoder_observer.h.html#webrtc::VideoStreamEncoderObserver" title='webrtc::VideoStreamEncoderObserver' data-ref="webrtc::VideoStreamEncoderObserver" data-ref-filename="webrtc..VideoStreamEncoderObserver">VideoStreamEncoderObserver</a>* <dfn class="local col3 decl" id="73encoder_stats_observer" title='encoder_stats_observer' data-type='webrtc::VideoStreamEncoderObserver *' data-ref="73encoder_stats_observer" data-ref-filename="73encoder_stats_observer">encoder_stats_observer</dfn>,</td></tr>
<tr><th id="78">78</th><td>      <a class="type" href="../../system_wrappers/include/clock.h.html#webrtc::Clock" title='webrtc::Clock' data-ref="webrtc::Clock" data-ref-filename="webrtc..Clock">Clock</a>* <dfn class="local col4 decl" id="74clock" title='clock' data-type='webrtc::Clock *' data-ref="74clock" data-ref-filename="74clock">clock</dfn>,</td></tr>
<tr><th id="79">79</th><td>      <em>bool</em> <dfn class="local col5 decl" id="75experiment_cpu_load_estimator" title='experiment_cpu_load_estimator' data-type='bool' data-ref="75experiment_cpu_load_estimator" data-ref-filename="75experiment_cpu_load_estimator">experiment_cpu_load_estimator</dfn>,</td></tr>
<tr><th id="80">80</th><td>      <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="overuse_frame_detector.h.html#webrtc::OveruseFrameDetector" title='webrtc::OveruseFrameDetector' data-ref="webrtc::OveruseFrameDetector" data-ref-filename="webrtc..OveruseFrameDetector">OveruseFrameDetector</a>&gt; <dfn class="local col6 decl" id="76overuse_detector" title='overuse_detector' data-type='std::unique_ptr&lt;OveruseFrameDetector&gt;' data-ref="76overuse_detector" data-ref-filename="76overuse_detector">overuse_detector</dfn>,</td></tr>
<tr><th id="81">81</th><td>      <a class="type" href="../../call/adaptation/degradation_preference_provider.h.html#webrtc::DegradationPreferenceProvider" title='webrtc::DegradationPreferenceProvider' data-ref="webrtc::DegradationPreferenceProvider" data-ref-filename="webrtc..DegradationPreferenceProvider">DegradationPreferenceProvider</a>* <dfn class="local col7 decl" id="77degradation_preference_provider" title='degradation_preference_provider' data-type='webrtc::DegradationPreferenceProvider *' data-ref="77degradation_preference_provider" data-ref-filename="77degradation_preference_provider">degradation_preference_provider</dfn>);</td></tr>
<tr><th id="82">82</th><td>  <dfn class="virtual decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManagerD1Ev" title='webrtc::VideoStreamEncoderResourceManager::~VideoStreamEncoderResourceManager' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManagerD1Ev" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManagerD1Ev">~VideoStreamEncoderResourceManager</dfn>() override;</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager10InitializeEPN3rtc9TaskQueueE" title='webrtc::VideoStreamEncoderResourceManager::Initialize' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager10InitializeEPN3rtc9TaskQueueE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager10InitializeEPN3rtc9TaskQueueE">Initialize</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../rtc_base/task_queue.h.html#rtc::TaskQueue" title='rtc::TaskQueue' data-ref="rtc::TaskQueue" data-ref-filename="rtc..TaskQueue">TaskQueue</a>* <dfn class="local col8 decl" id="78encoder_queue" title='encoder_queue' data-type='rtc::TaskQueue *' data-ref="78encoder_queue" data-ref-filename="78encoder_queue">encoder_queue</dfn>);</td></tr>
<tr><th id="85">85</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager22SetAdaptationProcessorEPNS_36ResourceAdaptationProcessorInterfaceEPNS_18VideoStreamAdapterE" title='webrtc::VideoStreamEncoderResourceManager::SetAdaptationProcessor' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager22SetAdaptationProcessorEPNS_36ResourceAdaptationProcessorInterfaceEPNS_18VideoStreamAdapterE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager22SetAdaptationProcessorEPNS_36ResourceAdaptationProcessorInterfaceEPNS_18VideoStreamAdapterE">SetAdaptationProcessor</dfn>(</td></tr>
<tr><th id="86">86</th><td>      <a class="type" href="../../call/adaptation/resource_adaptation_processor_interface.h.html#webrtc::ResourceAdaptationProcessorInterface" title='webrtc::ResourceAdaptationProcessorInterface' data-ref="webrtc::ResourceAdaptationProcessorInterface" data-ref-filename="webrtc..ResourceAdaptationProcessorInterface">ResourceAdaptationProcessorInterface</a>* <dfn class="local col9 decl" id="79adaptation_processor" title='adaptation_processor' data-type='webrtc::ResourceAdaptationProcessorInterface *' data-ref="79adaptation_processor" data-ref-filename="79adaptation_processor">adaptation_processor</dfn>,</td></tr>
<tr><th id="87">87</th><td>      <a class="type" href="../../call/adaptation/video_stream_adapter.h.html#webrtc::VideoStreamAdapter" title='webrtc::VideoStreamAdapter' data-ref="webrtc::VideoStreamAdapter" data-ref-filename="webrtc..VideoStreamAdapter">VideoStreamAdapter</a>* <dfn class="local col0 decl" id="80stream_adapter" title='stream_adapter' data-type='webrtc::VideoStreamAdapter *' data-ref="80stream_adapter" data-ref-filename="80stream_adapter">stream_adapter</dfn>);</td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td>  <i>// TODO(<a href="https://crbug.com/webrtc/11563):">https://crbug.com/webrtc/11563):</a> The degradation preference is a</i></td></tr>
<tr><th id="90">90</th><td><i>  // setting of the Processor, it does not belong to the Manager - can we get</i></td></tr>
<tr><th id="91">91</th><td><i>  // rid of this?</i></td></tr>
<tr><th id="92">92</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager25SetDegradationPreferencesENS_21DegradationPreferenceE" title='webrtc::VideoStreamEncoderResourceManager::SetDegradationPreferences' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager25SetDegradationPreferencesENS_21DegradationPreferenceE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager25SetDegradationPreferencesENS_21DegradationPreferenceE">SetDegradationPreferences</dfn>(<a class="type" href="../../api/rtp_parameters.h.html#webrtc::DegradationPreference" title='webrtc::DegradationPreference' data-ref="webrtc::DegradationPreference" data-ref-filename="webrtc..DegradationPreference">DegradationPreference</a> <dfn class="local col1 decl" id="81degradation_preference" title='degradation_preference' data-type='webrtc::DegradationPreference' data-ref="81degradation_preference" data-ref-filename="81degradation_preference">degradation_preference</dfn>);</td></tr>
<tr><th id="93">93</th><td>  <a class="type" href="../../api/rtp_parameters.h.html#webrtc::DegradationPreference" title='webrtc::DegradationPreference' data-ref="webrtc::DegradationPreference" data-ref-filename="webrtc..DegradationPreference">DegradationPreference</a> <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager22degradation_preferenceEv" title='webrtc::VideoStreamEncoderResourceManager::degradation_preference' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager22degradation_preferenceEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager22degradation_preferenceEv">degradation_preference</dfn>() <em>const</em>;</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager28ConfigureEncodeUsageResourceEv" title='webrtc::VideoStreamEncoderResourceManager::ConfigureEncodeUsageResource' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager28ConfigureEncodeUsageResourceEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager28ConfigureEncodeUsageResourceEv">ConfigureEncodeUsageResource</dfn>();</td></tr>
<tr><th id="96">96</th><td>  <i>// Initializes the pixel limit resource if the "WebRTC-PixelLimitResource"</i></td></tr>
<tr><th id="97">97</th><td><i>  // field trial is enabled. This can be used for testing.</i></td></tr>
<tr><th id="98">98</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager33MaybeInitializePixelLimitResourceEv" title='webrtc::VideoStreamEncoderResourceManager::MaybeInitializePixelLimitResource' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager33MaybeInitializePixelLimitResourceEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager33MaybeInitializePixelLimitResourceEv">MaybeInitializePixelLimitResource</dfn>();</td></tr>
<tr><th id="99">99</th><td>  <i>// Stops the encode usage and quality scaler resources if not already stopped.</i></td></tr>
<tr><th id="100">100</th><td><i>  // If the pixel limit resource was created it is also stopped and nulled.</i></td></tr>
<tr><th id="101">101</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager20StopManagedResourcesEv" title='webrtc::VideoStreamEncoderResourceManager::StopManagedResources' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager20StopManagedResourcesEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager20StopManagedResourcesEv">StopManagedResources</dfn>();</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td>  <i>// Settings that affect the VideoStreamEncoder-specific resources.</i></td></tr>
<tr><th id="104">104</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager18SetEncoderSettingsENS_15EncoderSettingsE" title='webrtc::VideoStreamEncoderResourceManager::SetEncoderSettings' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager18SetEncoderSettingsENS_15EncoderSettingsE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager18SetEncoderSettingsENS_15EncoderSettingsE">SetEncoderSettings</dfn>(<a class="type" href="../../call/adaptation/encoder_settings.h.html#webrtc::EncoderSettings" title='webrtc::EncoderSettings' data-ref="webrtc::EncoderSettings" data-ref-filename="webrtc..EncoderSettings">EncoderSettings</a> <dfn class="local col2 decl" id="82encoder_settings" title='encoder_settings' data-type='webrtc::EncoderSettings' data-ref="82encoder_settings" data-ref-filename="82encoder_settings">encoder_settings</dfn>);</td></tr>
<tr><th id="105">105</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager15SetStartBitrateENS_8DataRateE" title='webrtc::VideoStreamEncoderResourceManager::SetStartBitrate' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager15SetStartBitrateENS_8DataRateE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager15SetStartBitrateENS_8DataRateE">SetStartBitrate</dfn>(<a class="type" href="../../api/units/data_rate.h.html#webrtc::DataRate" title='webrtc::DataRate' data-ref="webrtc::DataRate" data-ref-filename="webrtc..DataRate">DataRate</a> <dfn class="local col3 decl" id="83start_bitrate" title='start_bitrate' data-type='webrtc::DataRate' data-ref="83start_bitrate" data-ref-filename="83start_bitrate">start_bitrate</dfn>);</td></tr>
<tr><th id="106">106</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager16SetTargetBitrateENS_8DataRateE" title='webrtc::VideoStreamEncoderResourceManager::SetTargetBitrate' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager16SetTargetBitrateENS_8DataRateE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager16SetTargetBitrateENS_8DataRateE">SetTargetBitrate</dfn>(<a class="type" href="../../api/units/data_rate.h.html#webrtc::DataRate" title='webrtc::DataRate' data-ref="webrtc::DataRate" data-ref-filename="webrtc..DataRate">DataRate</a> <dfn class="local col4 decl" id="84target_bitrate" title='target_bitrate' data-type='webrtc::DataRate' data-ref="84target_bitrate" data-ref-filename="84target_bitrate">target_bitrate</dfn>);</td></tr>
<tr><th id="107">107</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager15SetEncoderRatesERKNS_12VideoEncoder21RateControlParametersE" title='webrtc::VideoStreamEncoderResourceManager::SetEncoderRates' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager15SetEncoderRatesERKNS_12VideoEncoder21RateControlParametersE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager15SetEncoderRatesERKNS_12VideoEncoder21RateControlParametersE">SetEncoderRates</dfn>(</td></tr>
<tr><th id="108">108</th><td>      <em>const</em> <a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder" title='webrtc::VideoEncoder' data-ref="webrtc::VideoEncoder" data-ref-filename="webrtc..VideoEncoder">VideoEncoder</a>::<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder::RateControlParameters" title='webrtc::VideoEncoder::RateControlParameters' data-ref="webrtc::VideoEncoder::RateControlParameters" data-ref-filename="webrtc..VideoEncoder..RateControlParameters">RateControlParameters</a>&amp; <dfn class="local col5 decl" id="85encoder_rates" title='encoder_rates' data-type='const VideoEncoder::RateControlParameters &amp;' data-ref="85encoder_rates" data-ref-filename="85encoder_rates">encoder_rates</dfn>);</td></tr>
<tr><th id="109">109</th><td>  <i>// TODO(<a href="https://crbug.com/webrtc/11338):">https://crbug.com/webrtc/11338):</a> This can be made private if we</i></td></tr>
<tr><th id="110">110</th><td><i>  // configure on SetDegredationPreference and SetEncoderSettings.</i></td></tr>
<tr><th id="111">111</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager22ConfigureQualityScalerERKNS_12VideoEncoder11EncoderInfoE" title='webrtc::VideoStreamEncoderResourceManager::ConfigureQualityScaler' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager22ConfigureQualityScalerERKNS_12VideoEncoder11EncoderInfoE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager22ConfigureQualityScalerERKNS_12VideoEncoder11EncoderInfoE">ConfigureQualityScaler</dfn>(<em>const</em> <a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder" title='webrtc::VideoEncoder' data-ref="webrtc::VideoEncoder" data-ref-filename="webrtc..VideoEncoder">VideoEncoder</a>::<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder::EncoderInfo" title='webrtc::VideoEncoder::EncoderInfo' data-ref="webrtc::VideoEncoder::EncoderInfo" data-ref-filename="webrtc..VideoEncoder..EncoderInfo">EncoderInfo</a>&amp; <dfn class="local col6 decl" id="86encoder_info" title='encoder_info' data-type='const VideoEncoder::EncoderInfo &amp;' data-ref="86encoder_info" data-ref-filename="86encoder_info">encoder_info</dfn>);</td></tr>
<tr><th id="112">112</th><td></td></tr>
<tr><th id="113">113</th><td>  <i>// Methods corresponding to different points in the encoding pipeline.</i></td></tr>
<tr><th id="114">114</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager23OnFrameDroppedDueToSizeEv" title='webrtc::VideoStreamEncoderResourceManager::OnFrameDroppedDueToSize' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager23OnFrameDroppedDueToSizeEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager23OnFrameDroppedDueToSizeEv">OnFrameDroppedDueToSize</dfn>();</td></tr>
<tr><th id="115">115</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager18OnMaybeEncodeFrameEv" title='webrtc::VideoStreamEncoderResourceManager::OnMaybeEncodeFrame' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager18OnMaybeEncodeFrameEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager18OnMaybeEncodeFrameEv">OnMaybeEncodeFrame</dfn>();</td></tr>
<tr><th id="116">116</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager15OnEncodeStartedERKNS_10VideoFrameEx" title='webrtc::VideoStreamEncoderResourceManager::OnEncodeStarted' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager15OnEncodeStartedERKNS_10VideoFrameEx" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager15OnEncodeStartedERKNS_10VideoFrameEx">OnEncodeStarted</dfn>(<em>const</em> <a class="type" href="../../api/video/video_frame.h.html#webrtc::VideoFrame" title='webrtc::VideoFrame' data-ref="webrtc::VideoFrame" data-ref-filename="webrtc..VideoFrame">VideoFrame</a>&amp; <dfn class="local col7 decl" id="87cropped_frame" title='cropped_frame' data-type='const webrtc::VideoFrame &amp;' data-ref="87cropped_frame" data-ref-filename="87cropped_frame">cropped_frame</dfn>,</td></tr>
<tr><th id="117">117</th><td>                       <span class='typedef' title='int64_t' data-type='long long' data-ref="int64_t" data-ref-filename="int64_t">int64_t</span> <dfn class="local col8 decl" id="88time_when_first_seen_us" title='time_when_first_seen_us' data-type='int64_t' data-ref="88time_when_first_seen_us" data-ref-filename="88time_when_first_seen_us">time_when_first_seen_us</dfn>);</td></tr>
<tr><th id="118">118</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager17OnEncodeCompletedERKNS_12EncodedImageExNSt3__18optionalIiEE" title='webrtc::VideoStreamEncoderResourceManager::OnEncodeCompleted' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager17OnEncodeCompletedERKNS_12EncodedImageExNSt3__18optionalIiEE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager17OnEncodeCompletedERKNS_12EncodedImageExNSt3__18optionalIiEE">OnEncodeCompleted</dfn>(<em>const</em> <a class="type" href="../../api/video/encoded_image.h.html#webrtc::EncodedImage" title='webrtc::EncodedImage' data-ref="webrtc::EncodedImage" data-ref-filename="webrtc..EncodedImage">EncodedImage</a>&amp; <dfn class="local col9 decl" id="89encoded_image" title='encoded_image' data-type='const webrtc::EncodedImage &amp;' data-ref="89encoded_image" data-ref-filename="89encoded_image">encoded_image</dfn>,</td></tr>
<tr><th id="119">119</th><td>                         <span class='typedef' title='int64_t' data-type='long long' data-ref="int64_t" data-ref-filename="int64_t">int64_t</span> <dfn class="local col0 decl" id="90time_sent_in_us" title='time_sent_in_us' data-type='int64_t' data-ref="90time_sent_in_us" data-ref-filename="90time_sent_in_us">time_sent_in_us</dfn>,</td></tr>
<tr><th id="120">120</th><td>                         <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<em>int</em>&gt; <dfn class="local col1 decl" id="91encode_duration_us" title='encode_duration_us' data-type='absl::optional&lt;int&gt;' data-ref="91encode_duration_us" data-ref-filename="91encode_duration_us">encode_duration_us</dfn>);</td></tr>
<tr><th id="121">121</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager14OnFrameDroppedENS_20EncodedImageCallback10DropReasonE" title='webrtc::VideoStreamEncoderResourceManager::OnFrameDropped' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager14OnFrameDroppedENS_20EncodedImageCallback10DropReasonE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager14OnFrameDroppedENS_20EncodedImageCallback10DropReasonE">OnFrameDropped</dfn>(<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::EncodedImageCallback" title='webrtc::EncodedImageCallback' data-ref="webrtc::EncodedImageCallback" data-ref-filename="webrtc..EncodedImageCallback">EncodedImageCallback</a>::<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::EncodedImageCallback::DropReason" title='webrtc::EncodedImageCallback::DropReason' data-ref="webrtc::EncodedImageCallback::DropReason" data-ref-filename="webrtc..EncodedImageCallback..DropReason">DropReason</a> <dfn class="local col2 decl" id="92reason" title='reason' data-type='EncodedImageCallback::DropReason' data-ref="92reason" data-ref-filename="92reason">reason</dfn>);</td></tr>
<tr><th id="122">122</th><td></td></tr>
<tr><th id="123">123</th><td>  <i>// Resources need to be mapped to an AdaptReason (kCpu or kQuality) in order</i></td></tr>
<tr><th id="124">124</th><td><i>  // to update legacy getStats().</i></td></tr>
<tr><th id="125">125</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager11AddResourceEN3rtc13scoped_refptrINS_8ResourceEEENS_21VideoAdaptationReasonE" title='webrtc::VideoStreamEncoderResourceManager::AddResource' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager11AddResourceEN3rtc13scoped_refptrINS_8ResourceEEENS_21VideoAdaptationReasonE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager11AddResourceEN3rtc13scoped_refptrINS_8ResourceEEENS_21VideoAdaptationReasonE">AddResource</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt; <dfn class="local col3 decl" id="93resource" title='resource' data-type='rtc::scoped_refptr&lt;Resource&gt;' data-ref="93resource" data-ref-filename="93resource">resource</dfn>,</td></tr>
<tr><th id="126">126</th><td>                   <a class="type" href="../../api/video/video_adaptation_reason.h.html#webrtc::VideoAdaptationReason" title='webrtc::VideoAdaptationReason' data-ref="webrtc::VideoAdaptationReason" data-ref-filename="webrtc..VideoAdaptationReason">VideoAdaptationReason</a> <dfn class="local col4 decl" id="94reason" title='reason' data-type='webrtc::VideoAdaptationReason' data-ref="94reason" data-ref-filename="94reason">reason</dfn>);</td></tr>
<tr><th id="127">127</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager14RemoveResourceEN3rtc13scoped_refptrINS_8ResourceEEE" title='webrtc::VideoStreamEncoderResourceManager::RemoveResource' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager14RemoveResourceEN3rtc13scoped_refptrINS_8ResourceEEE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager14RemoveResourceEN3rtc13scoped_refptrINS_8ResourceEEE">RemoveResource</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt; <dfn class="local col5 decl" id="95resource" title='resource' data-type='rtc::scoped_refptr&lt;Resource&gt;' data-ref="95resource" data-ref-filename="95resource">resource</dfn>);</td></tr>
<tr><th id="128">128</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<a class="type" href="../../call/adaptation/adaptation_constraint.h.html#webrtc::AdaptationConstraint" title='webrtc::AdaptationConstraint' data-ref="webrtc::AdaptationConstraint" data-ref-filename="webrtc..AdaptationConstraint">AdaptationConstraint</a>*&gt; <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager21AdaptationConstraintsEv" title='webrtc::VideoStreamEncoderResourceManager::AdaptationConstraints' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager21AdaptationConstraintsEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager21AdaptationConstraintsEv">AdaptationConstraints</dfn>() <em>const</em>;</td></tr>
<tr><th id="129">129</th><td>  <i>// If true, the VideoStreamEncoder should execute its logic to maybe drop</i></td></tr>
<tr><th id="130">130</th><td><i>  // frames based on size and bitrate.</i></td></tr>
<tr><th id="131">131</th><td>  <em>bool</em> <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager17DropInitialFramesEv" title='webrtc::VideoStreamEncoderResourceManager::DropInitialFrames' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager17DropInitialFramesEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager17DropInitialFramesEv">DropInitialFrames</dfn>() <em>const</em>;</td></tr>
<tr><th id="132">132</th><td>  <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>&gt; <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager24SingleActiveStreamPixelsEv" title='webrtc::VideoStreamEncoderResourceManager::SingleActiveStreamPixels' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager24SingleActiveStreamPixelsEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager24SingleActiveStreamPixelsEv">SingleActiveStreamPixels</dfn>() <em>const</em>;</td></tr>
<tr><th id="133">133</th><td>  <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>&gt; <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager25UseBandwidthAllocationBpsEv" title='webrtc::VideoStreamEncoderResourceManager::UseBandwidthAllocationBps' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager25UseBandwidthAllocationBpsEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager25UseBandwidthAllocationBpsEv">UseBandwidthAllocationBps</dfn>() <em>const</em>;</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td>  <i>// VideoSourceRestrictionsListener implementation.</i></td></tr>
<tr><th id="136">136</th><td><i>  // Updates |video_source_restrictions_|.</i></td></tr>
<tr><th id="137">137</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager32OnVideoSourceRestrictionsUpdatedENS_23VideoSourceRestrictionsERKNS_23VideoAdaptationCountersEN3rtc13sco12067436" title='webrtc::VideoStreamEncoderResourceManager::OnVideoSourceRestrictionsUpdated' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager32OnVideoSourceRestrictionsUpdatedENS_23VideoSourceRestrictionsERKNS_23VideoAdaptationCountersEN3rtc13sco12067436" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager32OnVideoSourceRestrictionsUpdatedENS_23VideoSourceRestrictionsERKNS_23VideoAdaptationCountersEN3rtc13sco12067436">OnVideoSourceRestrictionsUpdated</dfn>(</td></tr>
<tr><th id="138">138</th><td>      <a class="type" href="../../call/adaptation/video_source_restrictions.h.html#webrtc::VideoSourceRestrictions" title='webrtc::VideoSourceRestrictions' data-ref="webrtc::VideoSourceRestrictions" data-ref-filename="webrtc..VideoSourceRestrictions">VideoSourceRestrictions</a> <dfn class="local col6 decl" id="96restrictions" title='restrictions' data-type='webrtc::VideoSourceRestrictions' data-ref="96restrictions" data-ref-filename="96restrictions">restrictions</dfn>,</td></tr>
<tr><th id="139">139</th><td>      <em>const</em> <a class="type" href="../../api/video/video_adaptation_counters.h.html#webrtc::VideoAdaptationCounters" title='webrtc::VideoAdaptationCounters' data-ref="webrtc::VideoAdaptationCounters" data-ref-filename="webrtc..VideoAdaptationCounters">VideoAdaptationCounters</a>&amp; <dfn class="local col7 decl" id="97adaptation_counters" title='adaptation_counters' data-type='const webrtc::VideoAdaptationCounters &amp;' data-ref="97adaptation_counters" data-ref-filename="97adaptation_counters">adaptation_counters</dfn>,</td></tr>
<tr><th id="140">140</th><td>      <span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt; <dfn class="local col8 decl" id="98reason" title='reason' data-type='rtc::scoped_refptr&lt;Resource&gt;' data-ref="98reason" data-ref-filename="98reason">reason</dfn>,</td></tr>
<tr><th id="141">141</th><td>      <em>const</em> <a class="type" href="../../call/adaptation/video_source_restrictions.h.html#webrtc::VideoSourceRestrictions" title='webrtc::VideoSourceRestrictions' data-ref="webrtc::VideoSourceRestrictions" data-ref-filename="webrtc..VideoSourceRestrictions">VideoSourceRestrictions</a>&amp; <dfn class="local col9 decl" id="99unfiltered_restrictions" title='unfiltered_restrictions' data-type='const webrtc::VideoSourceRestrictions &amp;' data-ref="99unfiltered_restrictions" data-ref-filename="99unfiltered_restrictions">unfiltered_restrictions</dfn>) override;</td></tr>
<tr><th id="142">142</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager27OnResourceLimitationChangedEN3rtc13scoped_refptrINS_8ResourceEEERKNSt3__13mapIS4_NS_23VideoAdaptationCo16308328" title='webrtc::VideoStreamEncoderResourceManager::OnResourceLimitationChanged' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager27OnResourceLimitationChangedEN3rtc13scoped_refptrINS_8ResourceEEERKNSt3__13mapIS4_NS_23VideoAdaptationCo16308328" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager27OnResourceLimitationChangedEN3rtc13scoped_refptrINS_8ResourceEEERKNSt3__13mapIS4_NS_23VideoAdaptationCo16308328">OnResourceLimitationChanged</dfn>(</td></tr>
<tr><th id="143">143</th><td>      <span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt; <dfn class="local col0 decl" id="100resource" title='resource' data-type='rtc::scoped_refptr&lt;Resource&gt;' data-ref="100resource" data-ref-filename="100resource">resource</dfn>,</td></tr>
<tr><th id="144">144</th><td>      <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::map' data-ref="std::__1::map" data-ref-filename="std..__1..map">map</span>&lt;<span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt;, <a class="type" href="../../api/video/video_adaptation_counters.h.html#webrtc::VideoAdaptationCounters" title='webrtc::VideoAdaptationCounters' data-ref="webrtc::VideoAdaptationCounters" data-ref-filename="webrtc..VideoAdaptationCounters">VideoAdaptationCounters</a>&gt;&amp;</td></tr>
<tr><th id="145">145</th><td>          <dfn class="local col1 decl" id="101resource_limitations" title='resource_limitations' data-type='const std::map&lt;rtc::scoped_refptr&lt;Resource&gt;, VideoAdaptationCounters&gt; &amp;' data-ref="101resource_limitations" data-ref-filename="101resource_limitations">resource_limitations</dfn>) override;</td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td>  <i>// QualityRampUpExperimentListener implementation.</i></td></tr>
<tr><th id="148">148</th><td>  <em>void</em> <dfn class="virtual decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager15OnQualityRampUpEv" title='webrtc::VideoStreamEncoderResourceManager::OnQualityRampUp' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager15OnQualityRampUpEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager15OnQualityRampUpEv">OnQualityRampUp</dfn>() override;</td></tr>
<tr><th id="149">149</th><td></td></tr>
<tr><th id="150">150</th><td>  <em>static</em> <em>bool</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager11IsSimulcastERKNS_18VideoEncoderConfigE" title='webrtc::VideoStreamEncoderResourceManager::IsSimulcast' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager11IsSimulcastERKNS_18VideoEncoderConfigE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager11IsSimulcastERKNS_18VideoEncoderConfigE">IsSimulcast</dfn>(<em>const</em> <a class="type" href="../../api/video_codecs/video_encoder_config.h.html#webrtc::VideoEncoderConfig" title='webrtc::VideoEncoderConfig' data-ref="webrtc::VideoEncoderConfig" data-ref-filename="webrtc..VideoEncoderConfig">VideoEncoderConfig</a>&amp; <dfn class="local col2 decl" id="102encoder_config" title='encoder_config' data-type='const webrtc::VideoEncoderConfig &amp;' data-ref="102encoder_config" data-ref-filename="102encoder_config">encoder_config</dfn>);</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td> <b>private</b>:</td></tr>
<tr><th id="153">153</th><td>  <b>class</b> <dfn class="type" id="webrtc::VideoStreamEncoderResourceManager::InitialFrameDropper" title='webrtc::VideoStreamEncoderResourceManager::InitialFrameDropper' data-ref="webrtc::VideoStreamEncoderResourceManager::InitialFrameDropper" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..InitialFrameDropper">InitialFrameDropper</dfn>;</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>  <a class="type" href="../../api/video/video_adaptation_reason.h.html#webrtc::VideoAdaptationReason" title='webrtc::VideoAdaptationReason' data-ref="webrtc::VideoAdaptationReason" data-ref-filename="webrtc..VideoAdaptationReason">VideoAdaptationReason</a> <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager21GetReasonFromResourceEN3rtc13scoped_refptrINS_8ResourceEEE" title='webrtc::VideoStreamEncoderResourceManager::GetReasonFromResource' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager21GetReasonFromResourceEN3rtc13scoped_refptrINS_8ResourceEEE" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager21GetReasonFromResourceEN3rtc13scoped_refptrINS_8ResourceEEE">GetReasonFromResource</dfn>(</td></tr>
<tr><th id="156">156</th><td>      <span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt; <dfn class="local col3 decl" id="103resource" title='resource' data-type='rtc::scoped_refptr&lt;Resource&gt;' data-ref="103resource" data-ref-filename="103resource">resource</dfn>) <em>const</em>;</td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>  <a class="type" href="overuse_frame_detector.h.html#webrtc::CpuOveruseOptions" title='webrtc::CpuOveruseOptions' data-ref="webrtc::CpuOveruseOptions" data-ref-filename="webrtc..CpuOveruseOptions">CpuOveruseOptions</a> <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager20GetCpuOveruseOptionsEv" title='webrtc::VideoStreamEncoderResourceManager::GetCpuOveruseOptions' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager20GetCpuOveruseOptionsEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager20GetCpuOveruseOptionsEv">GetCpuOveruseOptions</dfn>() <em>const</em>;</td></tr>
<tr><th id="159">159</th><td>  <em>int</em> <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager27LastInputFrameSizeOrDefaultEv" title='webrtc::VideoStreamEncoderResourceManager::LastInputFrameSizeOrDefault' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager27LastInputFrameSizeOrDefaultEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager27LastInputFrameSizeOrDefaultEv">LastInputFrameSizeOrDefault</dfn>() <em>const</em>;</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td>  <i>// Calculates an up-to-date value of the target frame rate and informs the</i></td></tr>
<tr><th id="162">162</th><td><i>  // |encode_usage_resource_| of the new value.</i></td></tr>
<tr><th id="163">163</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager26MaybeUpdateTargetFrameRateEv" title='webrtc::VideoStreamEncoderResourceManager::MaybeUpdateTargetFrameRate' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager26MaybeUpdateTargetFrameRateEv" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager26MaybeUpdateTargetFrameRateEv">MaybeUpdateTargetFrameRate</dfn>();</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td>  <i>// Use nullopt to disable quality scaling.</i></td></tr>
<tr><th id="166">166</th><td>  <em>void</em> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager27UpdateQualityScalerSettingsENSt3__18optionalINS_12VideoEncoder12QpThresholdsEEE" title='webrtc::VideoStreamEncoderResourceManager::UpdateQualityScalerSettings' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager27UpdateQualityScalerSettingsENSt3__18optionalINS_12VideoEncoder12QpThresholdsEEE" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager27UpdateQualityScalerSettingsENSt3__18optionalINS_12VideoEncoder12QpThresholdsEEE">UpdateQualityScalerSettings</dfn>(</td></tr>
<tr><th id="167">167</th><td>      <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder" title='webrtc::VideoEncoder' data-ref="webrtc::VideoEncoder" data-ref-filename="webrtc..VideoEncoder">VideoEncoder</a>::<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder::QpThresholds" title='webrtc::VideoEncoder::QpThresholds' data-ref="webrtc::VideoEncoder::QpThresholds" data-ref-filename="webrtc..VideoEncoder..QpThresholds">QpThresholds</a>&gt; <dfn class="local col4 decl" id="104qp_thresholds" title='qp_thresholds' data-type='absl::optional&lt;VideoEncoder::QpThresholds&gt;' data-ref="104qp_thresholds" data-ref-filename="104qp_thresholds">qp_thresholds</dfn>);</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td>  <em>void</em> <dfn class="decl fn" id="_ZNK6webrtc33VideoStreamEncoderResourceManager29UpdateStatsAdaptationSettingsEv" title='webrtc::VideoStreamEncoderResourceManager::UpdateStatsAdaptationSettings' data-ref="_ZNK6webrtc33VideoStreamEncoderResourceManager29UpdateStatsAdaptationSettingsEv" data-ref-filename="_ZNK6webrtc33VideoStreamEncoderResourceManager29UpdateStatsAdaptationSettingsEv">UpdateStatsAdaptationSettings</dfn>() <em>const</em>;</td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td>  <em>static</em> <span class="namespace">std::</span><span class='typedef' title='std::__1::string' data-type='basic_string&lt;char, char_traits&lt;char&gt;, allocator&lt;char&gt;&gt;' data-ref="std::__1::string" data-ref-filename="std..__1..string">string</span> <dfn class="decl fn" id="_ZN6webrtc33VideoStreamEncoderResourceManager20ActiveCountsToStringERKNSt3__13mapINS_21VideoAdaptationReasonENS_23VideoAdaptationCountersENS1_4lessIS31223103" title='webrtc::VideoStreamEncoderResourceManager::ActiveCountsToString' data-ref="_ZN6webrtc33VideoStreamEncoderResourceManager20ActiveCountsToStringERKNSt3__13mapINS_21VideoAdaptationReasonENS_23VideoAdaptationCountersENS1_4lessIS31223103" data-ref-filename="_ZN6webrtc33VideoStreamEncoderResourceManager20ActiveCountsToStringERKNSt3__13mapINS_21VideoAdaptationReasonENS_23VideoAdaptationCountersENS1_4lessIS31223103">ActiveCountsToString</dfn>(</td></tr>
<tr><th id="172">172</th><td>      <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::map' data-ref="std::__1::map" data-ref-filename="std..__1..map">map</span>&lt;<a class="type" href="../../api/video/video_adaptation_reason.h.html#webrtc::VideoAdaptationReason" title='webrtc::VideoAdaptationReason' data-ref="webrtc::VideoAdaptationReason" data-ref-filename="webrtc..VideoAdaptationReason">VideoAdaptationReason</a>, <a class="type" href="../../api/video/video_adaptation_counters.h.html#webrtc::VideoAdaptationCounters" title='webrtc::VideoAdaptationCounters' data-ref="webrtc::VideoAdaptationCounters" data-ref-filename="webrtc..VideoAdaptationCounters">VideoAdaptationCounters</a>&gt;&amp;</td></tr>
<tr><th id="173">173</th><td>          <dfn class="local col5 decl" id="105active_counts" title='active_counts' data-type='const std::map&lt;VideoAdaptationReason, VideoAdaptationCounters&gt; &amp;' data-ref="105active_counts" data-ref-filename="105active_counts">active_counts</dfn>);</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td>  <a class="type" href="../../call/adaptation/degradation_preference_provider.h.html#webrtc::DegradationPreferenceProvider" title='webrtc::DegradationPreferenceProvider' data-ref="webrtc::DegradationPreferenceProvider" data-ref-filename="webrtc..DegradationPreferenceProvider">DegradationPreferenceProvider</a>* <em>const</em> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::degradation_preference_provider_" title='webrtc::VideoStreamEncoderResourceManager::degradation_preference_provider_' data-ref="webrtc::VideoStreamEncoderResourceManager::degradation_preference_provider_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..degradation_preference_provider_">degradation_preference_provider_</dfn>;</td></tr>
<tr><th id="176">176</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="bitrate_constraint.h.html#webrtc::BitrateConstraint" title='webrtc::BitrateConstraint' data-ref="webrtc::BitrateConstraint" data-ref-filename="webrtc..BitrateConstraint">BitrateConstraint</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::bitrate_constraint_" title='webrtc::VideoStreamEncoderResourceManager::bitrate_constraint_' data-ref="webrtc::VideoStreamEncoderResourceManager::bitrate_constraint_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..bitrate_constraint_">bitrate_constraint_</dfn></td></tr>
<tr><th id="177">177</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="178">178</th><td>  <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="balanced_constraint.h.html#webrtc::BalancedConstraint" title='webrtc::BalancedConstraint' data-ref="webrtc::BalancedConstraint" data-ref-filename="webrtc..BalancedConstraint">BalancedConstraint</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::balanced_constraint_" title='webrtc::VideoStreamEncoderResourceManager::balanced_constraint_' data-ref="webrtc::VideoStreamEncoderResourceManager::balanced_constraint_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..balanced_constraint_">balanced_constraint_</dfn></td></tr>
<tr><th id="179">179</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="180">180</th><td>  <em>const</em> <span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="encode_usage_resource.h.html#webrtc::EncodeUsageResource" title='webrtc::EncodeUsageResource' data-ref="webrtc::EncodeUsageResource" data-ref-filename="webrtc..EncodeUsageResource">EncodeUsageResource</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::encode_usage_resource_" title='webrtc::VideoStreamEncoderResourceManager::encode_usage_resource_' data-ref="webrtc::VideoStreamEncoderResourceManager::encode_usage_resource_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encode_usage_resource_">encode_usage_resource_</dfn>;</td></tr>
<tr><th id="181">181</th><td>  <em>const</em> <span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="quality_scaler_resource.h.html#webrtc::QualityScalerResource" title='webrtc::QualityScalerResource' data-ref="webrtc::QualityScalerResource" data-ref-filename="webrtc..QualityScalerResource">QualityScalerResource</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::quality_scaler_resource_" title='webrtc::VideoStreamEncoderResourceManager::quality_scaler_resource_' data-ref="webrtc::VideoStreamEncoderResourceManager::quality_scaler_resource_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..quality_scaler_resource_">quality_scaler_resource_</dfn>;</td></tr>
<tr><th id="182">182</th><td>  <span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="pixel_limit_resource.h.html#webrtc::PixelLimitResource" title='webrtc::PixelLimitResource' data-ref="webrtc::PixelLimitResource" data-ref-filename="webrtc..PixelLimitResource">PixelLimitResource</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::pixel_limit_resource_" title='webrtc::VideoStreamEncoderResourceManager::pixel_limit_resource_' data-ref="webrtc::VideoStreamEncoderResourceManager::pixel_limit_resource_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..pixel_limit_resource_">pixel_limit_resource_</dfn>;</td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td>  <span class="namespace">rtc::</span><a class="type" href="../../rtc_base/task_queue.h.html#rtc::TaskQueue" title='rtc::TaskQueue' data-ref="rtc::TaskQueue" data-ref-filename="rtc..TaskQueue">TaskQueue</a>* <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</dfn>;</td></tr>
<tr><th id="185">185</th><td>  <a class="type" href="../../call/adaptation/video_stream_input_state_provider.h.html#webrtc::VideoStreamInputStateProvider" title='webrtc::VideoStreamInputStateProvider' data-ref="webrtc::VideoStreamInputStateProvider" data-ref-filename="webrtc..VideoStreamInputStateProvider">VideoStreamInputStateProvider</a>* <em>const</em> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::input_state_provider_" title='webrtc::VideoStreamEncoderResourceManager::input_state_provider_' data-ref="webrtc::VideoStreamEncoderResourceManager::input_state_provider_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..input_state_provider_">input_state_provider_</dfn></td></tr>
<tr><th id="186">186</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="187">187</th><td>  <a class="type" href="../../call/adaptation/resource_adaptation_processor_interface.h.html#webrtc::ResourceAdaptationProcessorInterface" title='webrtc::ResourceAdaptationProcessorInterface' data-ref="webrtc::ResourceAdaptationProcessorInterface" data-ref-filename="webrtc..ResourceAdaptationProcessorInterface">ResourceAdaptationProcessorInterface</a>* <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::adaptation_processor_" title='webrtc::VideoStreamEncoderResourceManager::adaptation_processor_' data-ref="webrtc::VideoStreamEncoderResourceManager::adaptation_processor_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..adaptation_processor_">adaptation_processor_</dfn>;</td></tr>
<tr><th id="188">188</th><td>  <a class="type" href="../../call/adaptation/video_stream_adapter.h.html#webrtc::VideoStreamAdapter" title='webrtc::VideoStreamAdapter' data-ref="webrtc::VideoStreamAdapter" data-ref-filename="webrtc..VideoStreamAdapter">VideoStreamAdapter</a>* <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::stream_adapter_" title='webrtc::VideoStreamEncoderResourceManager::stream_adapter_' data-ref="webrtc::VideoStreamEncoderResourceManager::stream_adapter_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..stream_adapter_">stream_adapter_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="189">189</th><td>  <i>// Thread-safe.</i></td></tr>
<tr><th id="190">190</th><td>  <a class="type" href="../../api/video/video_stream_encoder_observer.h.html#webrtc::VideoStreamEncoderObserver" title='webrtc::VideoStreamEncoderObserver' data-ref="webrtc::VideoStreamEncoderObserver" data-ref-filename="webrtc..VideoStreamEncoderObserver">VideoStreamEncoderObserver</a>* <em>const</em> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::encoder_stats_observer_" title='webrtc::VideoStreamEncoderResourceManager::encoder_stats_observer_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_stats_observer_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_stats_observer_">encoder_stats_observer_</dfn>;</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td>  <a class="type" href="../../api/rtp_parameters.h.html#webrtc::DegradationPreference" title='webrtc::DegradationPreference' data-ref="webrtc::DegradationPreference" data-ref-filename="webrtc..DegradationPreference">DegradationPreference</a> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::degradation_preference_" title='webrtc::VideoStreamEncoderResourceManager::degradation_preference_' data-ref="webrtc::VideoStreamEncoderResourceManager::degradation_preference_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..degradation_preference_">degradation_preference_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="193">193</th><td>  <a class="type" href="../../call/adaptation/video_source_restrictions.h.html#webrtc::VideoSourceRestrictions" title='webrtc::VideoSourceRestrictions' data-ref="webrtc::VideoSourceRestrictions" data-ref-filename="webrtc..VideoSourceRestrictions">VideoSourceRestrictions</a> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::video_source_restrictions_" title='webrtc::VideoStreamEncoderResourceManager::video_source_restrictions_' data-ref="webrtc::VideoStreamEncoderResourceManager::video_source_restrictions_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..video_source_restrictions_">video_source_restrictions_</dfn></td></tr>
<tr><th id="194">194</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="195">195</th><td></td></tr>
<tr><th id="196">196</th><td>  <a class="type" href="../../api/video/video_adaptation_counters.h.html#webrtc::VideoAdaptationCounters" title='webrtc::VideoAdaptationCounters' data-ref="webrtc::VideoAdaptationCounters" data-ref-filename="webrtc..VideoAdaptationCounters">VideoAdaptationCounters</a> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::current_adaptation_counters_" title='webrtc::VideoStreamEncoderResourceManager::current_adaptation_counters_' data-ref="webrtc::VideoStreamEncoderResourceManager::current_adaptation_counters_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..current_adaptation_counters_">current_adaptation_counters_</dfn></td></tr>
<tr><th id="197">197</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td>  <em>const</em> <a class="type" href="../../rtc_base/experiments/balanced_degradation_settings.h.html#webrtc::BalancedDegradationSettings" title='webrtc::BalancedDegradationSettings' data-ref="webrtc::BalancedDegradationSettings" data-ref-filename="webrtc..BalancedDegradationSettings">BalancedDegradationSettings</a> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::balanced_settings_" title='webrtc::VideoStreamEncoderResourceManager::balanced_settings_' data-ref="webrtc::VideoStreamEncoderResourceManager::balanced_settings_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..balanced_settings_">balanced_settings_</dfn>;</td></tr>
<tr><th id="200">200</th><td>  <a class="type" href="../../system_wrappers/include/clock.h.html#webrtc::Clock" title='webrtc::Clock' data-ref="webrtc::Clock" data-ref-filename="webrtc..Clock">Clock</a>* <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::clock_" title='webrtc::VideoStreamEncoderResourceManager::clock_' data-ref="webrtc::VideoStreamEncoderResourceManager::clock_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..clock_">clock_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="201">201</th><td>  <em>const</em> <em>bool</em> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::experiment_cpu_load_estimator_" title='webrtc::VideoStreamEncoderResourceManager::experiment_cpu_load_estimator_' data-ref="webrtc::VideoStreamEncoderResourceManager::experiment_cpu_load_estimator_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..experiment_cpu_load_estimator_">experiment_cpu_load_estimator_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="202">202</th><td>  <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="#webrtc::VideoStreamEncoderResourceManager::InitialFrameDropper" title='webrtc::VideoStreamEncoderResourceManager::InitialFrameDropper' data-ref="webrtc::VideoStreamEncoderResourceManager::InitialFrameDropper" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..InitialFrameDropper">InitialFrameDropper</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::initial_frame_dropper_" title='webrtc::VideoStreamEncoderResourceManager::initial_frame_dropper_' data-ref="webrtc::VideoStreamEncoderResourceManager::initial_frame_dropper_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..initial_frame_dropper_">initial_frame_dropper_</dfn></td></tr>
<tr><th id="203">203</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="204">204</th><td>  <em>const</em> <em>bool</em> <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::quality_scaling_experiment_enabled_" title='webrtc::VideoStreamEncoderResourceManager::quality_scaling_experiment_enabled_' data-ref="webrtc::VideoStreamEncoderResourceManager::quality_scaling_experiment_enabled_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..quality_scaling_experiment_enabled_">quality_scaling_experiment_enabled_</dfn> <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="205">205</th><td>  <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::encoder_target_bitrate_bps_" title='webrtc::VideoStreamEncoderResourceManager::encoder_target_bitrate_bps_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_target_bitrate_bps_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_target_bitrate_bps_">encoder_target_bitrate_bps_</dfn></td></tr>
<tr><th id="206">206</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="207">207</th><td>  <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder" title='webrtc::VideoEncoder' data-ref="webrtc::VideoEncoder" data-ref-filename="webrtc..VideoEncoder">VideoEncoder</a>::<a class="type" href="../../api/video_codecs/video_encoder.h.html#webrtc::VideoEncoder::RateControlParameters" title='webrtc::VideoEncoder::RateControlParameters' data-ref="webrtc::VideoEncoder::RateControlParameters" data-ref-filename="webrtc..VideoEncoder..RateControlParameters">RateControlParameters</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::encoder_rates_" title='webrtc::VideoStreamEncoderResourceManager::encoder_rates_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_rates_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_rates_">encoder_rates_</dfn></td></tr>
<tr><th id="208">208</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="209">209</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="quality_rampup_experiment_helper.h.html#webrtc::QualityRampUpExperimentHelper" title='webrtc::QualityRampUpExperimentHelper' data-ref="webrtc::QualityRampUpExperimentHelper" data-ref-filename="webrtc..QualityRampUpExperimentHelper">QualityRampUpExperimentHelper</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::quality_rampup_experiment_" title='webrtc::VideoStreamEncoderResourceManager::quality_rampup_experiment_' data-ref="webrtc::VideoStreamEncoderResourceManager::quality_rampup_experiment_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..quality_rampup_experiment_">quality_rampup_experiment_</dfn></td></tr>
<tr><th id="210">210</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="211">211</th><td>  <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<a class="type" href="../../call/adaptation/encoder_settings.h.html#webrtc::EncoderSettings" title='webrtc::EncoderSettings' data-ref="webrtc::EncoderSettings" data-ref-filename="webrtc..EncoderSettings">EncoderSettings</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::encoder_settings_" title='webrtc::VideoStreamEncoderResourceManager::encoder_settings_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_settings_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_settings_">encoder_settings_</dfn></td></tr>
<tr><th id="212">212</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>  <i>// Ties a resource to a reason for statistical reporting. This AdaptReason is</i></td></tr>
<tr><th id="215">215</th><td><i>  // also used by this module to make decisions about how to adapt up/down.</i></td></tr>
<tr><th id="216">216</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::map' data-ref="std::__1::map" data-ref-filename="std..__1..map">map</span>&lt;<span class="namespace">rtc::</span><a class="type" href="../../api/scoped_refptr.h.html#rtc::scoped_refptr" title='rtc::scoped_refptr' data-ref="rtc::scoped_refptr" data-ref-filename="rtc..scoped_refptr">scoped_refptr</a>&lt;<a class="type" href="../../api/adaptation/resource.h.html#webrtc::Resource" title='webrtc::Resource' data-ref="webrtc::Resource" data-ref-filename="webrtc..Resource">Resource</a>&gt;, <a class="type" href="../../api/video/video_adaptation_reason.h.html#webrtc::VideoAdaptationReason" title='webrtc::VideoAdaptationReason' data-ref="webrtc::VideoAdaptationReason" data-ref-filename="webrtc..VideoAdaptationReason">VideoAdaptationReason</a>&gt; <dfn class="decl field" id="webrtc::VideoStreamEncoderResourceManager::resources_" title='webrtc::VideoStreamEncoderResourceManager::resources_' data-ref="webrtc::VideoStreamEncoderResourceManager::resources_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..resources_">resources_</dfn></td></tr>
<tr><th id="217">217</th><td>      <a class="macro" href="../../rtc_base/thread_annotations.h.html#31" title="__attribute__((guarded_by(encoder_queue_)))" data-ref="_M/RTC_GUARDED_BY">RTC_GUARDED_BY</a>(<a class="ref field" href="#webrtc::VideoStreamEncoderResourceManager::encoder_queue_" title='webrtc::VideoStreamEncoderResourceManager::encoder_queue_' data-ref="webrtc::VideoStreamEncoderResourceManager::encoder_queue_" data-ref-filename="webrtc..VideoStreamEncoderResourceManager..encoder_queue_">encoder_queue_</a>);</td></tr>
<tr><th id="218">218</th><td>};</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>}  <i>// namespace webrtc</i></td></tr>
<tr><th id="221">221</th><td></td></tr>
<tr><th id="222">222</th><td><u>#<span data-ppcond="11">endif</span>  // VIDEO_ADAPTATION_VIDEO_STREAM_ENCODER_RESOURCE_MANAGER_H_</u></td></tr>
<tr><th id="223">223</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='bitrate_constraint.cc.html'>webkit/Source/ThirdParty/libwebrtc/Source/webrtc/video/adaptation/bitrate_constraint.cc</a><br/>Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
