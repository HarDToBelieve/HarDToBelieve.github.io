<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>WebNetscapePluginView.mm source code [webkit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="PluginTimer "/>
<link rel="stylesheet" href="../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm'; var root_path = '../../../../..'; var data_path = '../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>webkit</a>/<a href='../../..'>Source</a>/<a href='../..'>WebKitLegacy</a>/<a href='..'>mac</a>/<a href='./'>Plugins</a>/<a href='WebNetscapePluginView.mm.html'>WebNetscapePluginView.mm</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (C) 2005-2017 Apple Inc. All rights reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Redistribution and use in source and binary forms, with or without</i></td></tr>
<tr><th id="5">5</th><td><i> * modification, are permitted provided that the following conditions</i></td></tr>
<tr><th id="6">6</th><td><i> * are met:</i></td></tr>
<tr><th id="7">7</th><td><i> *</i></td></tr>
<tr><th id="8">8</th><td><i> * 1.  Redistributions of source code must retain the above copyright</i></td></tr>
<tr><th id="9">9</th><td><i> *     notice, this list of conditions and the following disclaimer. </i></td></tr>
<tr><th id="10">10</th><td><i> * 2.  Redistributions in binary form must reproduce the above copyright</i></td></tr>
<tr><th id="11">11</th><td><i> *     notice, this list of conditions and the following disclaimer in the</i></td></tr>
<tr><th id="12">12</th><td><i> *     documentation and/or other materials provided with the distribution. </i></td></tr>
<tr><th id="13">13</th><td><i> * 3.  Neither the name of Apple Inc. ("Apple") nor the names of</i></td></tr>
<tr><th id="14">14</th><td><i> *     its contributors may be used to endorse or promote products derived</i></td></tr>
<tr><th id="15">15</th><td><i> *     from this software without specific prior written permission. </i></td></tr>
<tr><th id="16">16</th><td><i> *</i></td></tr>
<tr><th id="17">17</th><td><i> * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY</i></td></tr>
<tr><th id="18">18</th><td><i> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</i></td></tr>
<tr><th id="19">19</th><td><i> * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</i></td></tr>
<tr><th id="20">20</th><td><i> * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY</i></td></tr>
<tr><th id="21">21</th><td><i> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</i></td></tr>
<tr><th id="22">22</th><td><i> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</i></td></tr>
<tr><th id="23">23</th><td><i> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</i></td></tr>
<tr><th id="24">24</th><td><i> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</i></td></tr>
<tr><th id="25">25</th><td><i> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</i></td></tr>
<tr><th id="26">26</th><td><i> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</i></td></tr>
<tr><th id="27">27</th><td><i> */</i></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><u>#<span data-ppcond="29">if</span> <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/PlatformEnable.h.html#36" title="(defined 1 &amp;&amp; 1)" data-ref="_M/ENABLE">ENABLE</a>(NETSCAPE_PLUGIN_API)</u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#import <a href="WebNetscapePluginView.h.html">"WebNetscapePluginView.h"</a></u></td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><u>#import <a href="../WebView/WebDataSourceInternal.h.html">"WebDataSourceInternal.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#import <a href="../DefaultDelegates/WebDefaultUIDelegate.h.html">"WebDefaultUIDelegate.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#import <a href="../WebView/WebFrameInternal.h.html">"WebFrameInternal.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#import <a href="../WebView/WebFrameView.h.html">"WebFrameView.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#import <a href="../Misc/WebKitErrorsPrivate.h.html">"WebKitErrorsPrivate.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#import <a href="../Misc/WebKitLogging.h.html">"WebKitLogging.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#import <a href="../Misc/WebKitNSStringExtras.h.html">"WebKitNSStringExtras.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#import <a href="../Misc/WebNSDataExtras.h.html">"WebNSDataExtras.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#import <a href="../Misc/WebNSDictionaryExtras.h.html">"WebNSDictionaryExtras.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#import <a href="../Misc/WebNSObjectExtras.h.html">"WebNSObjectExtras.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#import <a href="../Misc/WebNSURLExtras.h.html">"WebNSURLExtras.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#import <a href="../Misc/WebNSURLRequestExtras.h.html">"WebNSURLRequestExtras.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#import <a href="../Misc/WebNSViewExtras.h.html">"WebNSViewExtras.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#import <a href="WebNetscapePluginEventHandler.h.html">"WebNetscapePluginEventHandler.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#import <a href="WebNetscapePluginPackage.h.html">"WebNetscapePluginPackage.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#import <a href="WebNetscapePluginStream.h.html">"WebNetscapePluginStream.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#import <a href="WebPluginRequest.h.html">"WebPluginRequest.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#import <a href="../WebView/WebPreferences.h.html">"WebPreferences.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#import <a href="../WebView/WebUIDelegatePrivate.h.html">"WebUIDelegatePrivate.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#import <a href="../WebView/WebViewInternal.h.html">"WebViewInternal.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#import &lt;Carbon/Carbon.h&gt;</u></td></tr>
<tr><th id="54">54</th><td><u>#import <a href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/InitializeThreading.h.html">&lt;JavaScriptCore/InitializeThreading.h&gt;</a></u></td></tr>
<tr><th id="55">55</th><td><u>#import <a href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html">&lt;JavaScriptCore/JSLock.h&gt;</a></u></td></tr>
<tr><th id="56">56</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html">&lt;WebCore/CommonVM.h&gt;</a></u></td></tr>
<tr><th id="57">57</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CookieJar.h.html">&lt;WebCore/CookieJar.h&gt;</a></u></td></tr>
<tr><th id="58">58</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/DocumentLoader.h.html">&lt;WebCore/DocumentLoader.h&gt;</a></u></td></tr>
<tr><th id="59">59</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Element.h.html">&lt;WebCore/Element.h&gt;</a></u></td></tr>
<tr><th id="60">60</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html">&lt;WebCore/Frame.h&gt;</a></u></td></tr>
<tr><th id="61">61</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameLoader.h.html">&lt;WebCore/FrameLoader.h&gt;</a></u></td></tr>
<tr><th id="62">62</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameTree.h.html">&lt;WebCore/FrameTree.h&gt;</a></u></td></tr>
<tr><th id="63">63</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameView.h.html">&lt;WebCore/FrameView.h&gt;</a></u></td></tr>
<tr><th id="64">64</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/HTMLPlugInElement.h.html">&lt;WebCore/HTMLPlugInElement.h&gt;</a></u></td></tr>
<tr><th id="65">65</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/NP_jsobject.h.html">&lt;WebCore/NP_jsobject.h&gt;</a></u></td></tr>
<tr><th id="66">66</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Page.h.html">&lt;WebCore/Page.h&gt;</a></u></td></tr>
<tr><th id="67">67</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ProxyServer.h.html">&lt;WebCore/ProxyServer.h&gt;</a></u></td></tr>
<tr><th id="68">68</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ScriptController.h.html">&lt;WebCore/ScriptController.h&gt;</a></u></td></tr>
<tr><th id="69">69</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/SecurityOrigin.h.html">&lt;WebCore/SecurityOrigin.h&gt;</a></u></td></tr>
<tr><th id="70">70</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/UserGestureIndicator.h.html">&lt;WebCore/UserGestureIndicator.h&gt;</a></u></td></tr>
<tr><th id="71">71</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/WebCoreJITOperations.h.html">&lt;WebCore/WebCoreJITOperations.h&gt;</a></u></td></tr>
<tr><th id="72">72</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/WebCoreURLResponse.h.html">&lt;WebCore/WebCoreURLResponse.h&gt;</a></u></td></tr>
<tr><th id="73">73</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/npruntime_impl.h.html">&lt;WebCore/npruntime_impl.h&gt;</a></u></td></tr>
<tr><th id="74">74</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/runtime_root.h.html">&lt;WebCore/runtime_root.h&gt;</a></u></td></tr>
<tr><th id="75">75</th><td><u>#import <a href="../DOM/DOMPrivate.h.html">&lt;WebKitLegacy/DOMPrivate.h&gt;</a></u></td></tr>
<tr><th id="76">76</th><td><u>#import <a href="../WebView/WebUIDelegate.h.html">&lt;WebKitLegacy/WebUIDelegate.h&gt;</a></u></td></tr>
<tr><th id="77">77</th><td><u>#import &lt;objc/runtime.h&gt;</u></td></tr>
<tr><th id="78">78</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html">&lt;pal/spi/cg/CoreGraphicsSPI.h&gt;</a></u></td></tr>
<tr><th id="79">79</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html">&lt;wtf/Assertions.h&gt;</a></u></td></tr>
<tr><th id="80">80</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/MainThread.h.html">&lt;wtf/MainThread.h&gt;</a></u></td></tr>
<tr><th id="81">81</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RunLoop.h.html">&lt;wtf/RunLoop.h&gt;</a></u></td></tr>
<tr><th id="82">82</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/SoftLinking.h.html">&lt;wtf/SoftLinking.h&gt;</a></u></td></tr>
<tr><th id="83">83</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html">&lt;wtf/text/CString.h&gt;</a></u></td></tr>
<tr><th id="84">84</th><td></td></tr>
<tr><th id="85">85</th><td><u>#define <dfn class="macro" id="_M/LoginWindowDidSwitchFromUserNotification" data-ref="_M/LoginWindowDidSwitchFromUserNotification">LoginWindowDidSwitchFromUserNotification</dfn>    @"WebLoginWindowDidSwitchFromUserNotification"</u></td></tr>
<tr><th id="86">86</th><td><u>#define <dfn class="macro" id="_M/LoginWindowDidSwitchToUserNotification" data-ref="_M/LoginWindowDidSwitchToUserNotification">LoginWindowDidSwitchToUserNotification</dfn>      @"WebLoginWindowDidSwitchToUserNotification"</u></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/WKNVSupportsCompositingCoreAnimationPluginsBool" data-ref="_M/WKNVSupportsCompositingCoreAnimationPluginsBool">WKNVSupportsCompositingCoreAnimationPluginsBool</dfn> 74656  /* TRUE if the browser supports hardware compositing of Core Animation plug-ins  */</u></td></tr>
<tr><th id="88">88</th><td></td></tr>
<tr><th id="89">89</th><td><b>using</b> <b>namespace</b> <span class="namespace">WebCore</span>;</td></tr>
<tr><th id="90">90</th><td><b>using</b> <b>namespace</b> <span class="namespace">WebKit</span>;</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>@interface <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> (Internal)</td></tr>
<tr><th id="93">93</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)_createPlugin;</td></tr>
<tr><th id="94">94</th><td>- (<em>void</em>)_destroyPlugin;</td></tr>
<tr><th id="95">95</th><td>- (<em>void</em>)_redeliverStream;</td></tr>
<tr><th id="96">96</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)_shouldCancelSrcStream;</td></tr>
<tr><th id="97">97</th><td>@end</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><em>static</em> <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> *<dfn class="tu decl def" id="currentPluginView" title='currentPluginView' data-type='WebNetscapePluginDocumentView *' data-ref="currentPluginView" data-ref-filename="currentPluginView">currentPluginView</dfn> = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><b>typedef</b> <b>struct</b> <dfn class="type" id="OpaquePortState" title='OpaquePortState' data-ref="OpaquePortState" data-ref-filename="OpaquePortState"><a class="type" href="#OpaquePortState" title='OpaquePortState' data-ref="OpaquePortState" data-ref-filename="OpaquePortState">OpaquePortState</a></dfn>* <dfn class="typedef" id="PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</dfn>;</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td><em>static</em> <em>const</em> <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#WTF::Seconds" title='WTF::Seconds' data-ref="WTF::Seconds" data-ref-filename="WTF..Seconds">Seconds</a> <dfn class="tu decl def" id="throttledTimerInterval" title='throttledTimerInterval' data-type='const WTF::Seconds' data-ref="throttledTimerInterval" data-ref-filename="throttledTimerInterval">throttledTimerInterval</dfn> { <var>250<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#_ZN3WTF16seconds_literalsli3_msEy" title='WTF::seconds_literals::operator&quot;&quot;_ms' data-ref="_ZN3WTF16seconds_literalsli3_msEy" data-ref-filename="_ZN3WTF16seconds_literalsli3_msEy">_ms</a></var> };</td></tr>
<tr><th id="104">104</th><td></td></tr>
<tr><th id="105">105</th><td><b>class</b> <dfn class="type def" id="PluginTimer" title='PluginTimer' data-ref="PluginTimer" data-ref-filename="PluginTimer">PluginTimer</dfn> : <b>public</b> <a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Timer.h.html#WebCore::TimerBase" title='WebCore::TimerBase' data-ref="WebCore::TimerBase" data-ref-filename="WebCore..TimerBase">TimerBase</a> {</td></tr>
<tr><th id="106">106</th><td><b>public</b>:</td></tr>
<tr><th id="107">107</th><td>    <b>typedef</b> <em>void</em> (*<dfn class="typedef" id="PluginTimer::TimerFunc" title='PluginTimer::TimerFunc' data-type='void (*)(NPP, uint32_t)' data-ref="PluginTimer::TimerFunc" data-ref-filename="PluginTimer..TimerFunc">TimerFunc</dfn>)(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP" title='NPP' data-type='NPP_t *' data-ref="NPP" data-ref-filename="NPP">NPP</a> <dfn class="local col1 decl" id="1npp" title='npp' data-type='NPP' data-ref="1npp" data-ref-filename="1npp">npp</dfn>, <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col2 decl" id="2timerID" title='timerID' data-type='uint32_t' data-ref="2timerID" data-ref-filename="2timerID">timerID</dfn>);</td></tr>
<tr><th id="108">108</th><td>    </td></tr>
<tr><th id="109">109</th><td>    <dfn class="decl def fn" id="_ZN11PluginTimerC1EP4_NPPjjhPFvS1_jE" title='PluginTimer::PluginTimer' data-ref="_ZN11PluginTimerC1EP4_NPPjjhPFvS1_jE" data-ref-filename="_ZN11PluginTimerC1EP4_NPPjjhPFvS1_jE">PluginTimer</dfn>(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP" title='NPP' data-type='NPP_t *' data-ref="NPP" data-ref-filename="NPP">NPP</a> <dfn class="local col3 decl" id="3npp" title='npp' data-type='NPP' data-ref="3npp" data-ref-filename="3npp">npp</dfn>, <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col4 decl" id="4timerID" title='timerID' data-type='uint32_t' data-ref="4timerID" data-ref-filename="4timerID">timerID</dfn>, <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col5 decl" id="5interval" title='interval' data-type='uint32_t' data-ref="5interval" data-ref-filename="5interval">interval</dfn>, <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> <dfn class="local col6 decl" id="6repeat" title='repeat' data-type='NPBool' data-ref="6repeat" data-ref-filename="6repeat">repeat</dfn>, <a class="typedef" href="#PluginTimer::TimerFunc" title='PluginTimer::TimerFunc' data-type='void (*)(NPP, uint32_t)' data-ref="PluginTimer::TimerFunc" data-ref-filename="PluginTimer..TimerFunc">TimerFunc</a> <dfn class="local col7 decl" id="7timerFunc" title='timerFunc' data-type='PluginTimer::TimerFunc' data-ref="7timerFunc" data-ref-filename="7timerFunc">timerFunc</dfn>)</td></tr>
<tr><th id="110">110</th><td>        : <a class="member field" href="#PluginTimer::m_npp" title='PluginTimer::m_npp' data-ref="PluginTimer::m_npp" data-ref-filename="PluginTimer..m_npp">m_npp</a>(<a class="local col3 ref" href="#3npp" title='npp' data-ref="3npp" data-ref-filename="3npp">npp</a>)</td></tr>
<tr><th id="111">111</th><td>        , <a class="member field" href="#PluginTimer::m_timerID" title='PluginTimer::m_timerID' data-ref="PluginTimer::m_timerID" data-ref-filename="PluginTimer..m_timerID">m_timerID</a>(<a class="local col4 ref" href="#4timerID" title='timerID' data-ref="4timerID" data-ref-filename="4timerID">timerID</a>)</td></tr>
<tr><th id="112">112</th><td>        , <a class="member field" href="#PluginTimer::m_interval" title='PluginTimer::m_interval' data-ref="PluginTimer::m_interval" data-ref-filename="PluginTimer..m_interval">m_interval</a>(<a class="local col5 ref" href="#5interval" title='interval' data-ref="5interval" data-ref-filename="5interval">interval</a>)</td></tr>
<tr><th id="113">113</th><td>        , <a class="member field" href="#PluginTimer::m_repeat" title='PluginTimer::m_repeat' data-ref="PluginTimer::m_repeat" data-ref-filename="PluginTimer..m_repeat">m_repeat</a>(<a class="local col6 ref" href="#6repeat" title='repeat' data-ref="6repeat" data-ref-filename="6repeat">repeat</a>)</td></tr>
<tr><th id="114">114</th><td>        , <a class="member field" href="#PluginTimer::m_timerFunc" title='PluginTimer::m_timerFunc' data-ref="PluginTimer::m_timerFunc" data-ref-filename="PluginTimer..m_timerFunc">m_timerFunc</a>(<a class="local col7 ref" href="#7timerFunc" title='timerFunc' data-ref="7timerFunc" data-ref-filename="7timerFunc">timerFunc</a>)</td></tr>
<tr><th id="115">115</th><td>    {</td></tr>
<tr><th id="116">116</th><td>    }</td></tr>
<tr><th id="117">117</th><td>    </td></tr>
<tr><th id="118">118</th><td>    <em>void</em> <dfn class="decl def fn" id="_ZN11PluginTimer5startEb" title='PluginTimer::start' data-ref="_ZN11PluginTimer5startEb" data-ref-filename="_ZN11PluginTimer5startEb">start</dfn>(<em>bool</em> <dfn class="local col8 decl" id="8throttle" title='throttle' data-type='bool' data-ref="8throttle" data-ref-filename="8throttle">throttle</dfn>)</td></tr>
<tr><th id="119">119</th><td>    {</td></tr>
<tr><th id="120">120</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!isActive())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 120, __PRETTY_FUNCTION__, &quot;!isActive()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(120, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2980); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!<a class="member fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Timer.h.html#_ZNK7WebCore9TimerBase8isActiveEv" title='WebCore::TimerBase::isActive' data-ref="_ZNK7WebCore9TimerBase8isActiveEv" data-ref-filename="_ZNK7WebCore9TimerBase8isActiveEv">isActive</a>());</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#WTF::Seconds" title='WTF::Seconds' data-ref="WTF::Seconds" data-ref-filename="WTF..Seconds">Seconds</a> <dfn class="local col9 decl" id="9timeInterval" title='timeInterval' data-type='WTF::Seconds' data-ref="9timeInterval" data-ref-filename="9timeInterval">timeInterval</dfn> = <var>1<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#_ZN3WTF16seconds_literalsli3_msEy" title='WTF::seconds_literals::operator&quot;&quot;_ms' data-ref="_ZN3WTF16seconds_literalsli3_msEy" data-ref-filename="_ZN3WTF16seconds_literalsli3_msEy">_ms</a></var> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#_ZNK3WTF7SecondsmlEd" title='WTF::Seconds::operator*' data-ref="_ZNK3WTF7SecondsmlEd" data-ref-filename="_ZNK3WTF7SecondsmlEd">*</a> <a class="member field" href="#PluginTimer::m_interval" title='PluginTimer::m_interval' data-ref="PluginTimer::m_interval" data-ref-filename="PluginTimer..m_interval">m_interval</a>;</td></tr>
<tr><th id="123">123</th><td>        </td></tr>
<tr><th id="124">124</th><td>        <b>if</b> (<a class="local col8 ref" href="#8throttle" title='throttle' data-ref="8throttle" data-ref-filename="8throttle">throttle</a>)</td></tr>
<tr><th id="125">125</th><td>            <a class="local col9 ref" href="#9timeInterval" title='timeInterval' data-ref="9timeInterval" data-ref-filename="9timeInterval">timeInterval</a> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#40" title='WTF::Seconds::operator=' data-ref="_ZN3WTF7SecondsaSERKS0_" data-ref-filename="_ZN3WTF7SecondsaSERKS0_">=</a> <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col9 ref" href="#9timeInterval" title='timeInterval' data-ref="9timeInterval" data-ref-filename="9timeInterval">timeInterval</a>, <a class="tu ref" href="#throttledTimerInterval" title='throttledTimerInterval' data-use='r' data-ref="throttledTimerInterval" data-ref-filename="throttledTimerInterval">throttledTimerInterval</a>);</td></tr>
<tr><th id="126">126</th><td>        </td></tr>
<tr><th id="127">127</th><td>        <b>if</b> (<a class="member field" href="#PluginTimer::m_repeat" title='PluginTimer::m_repeat' data-ref="PluginTimer::m_repeat" data-ref-filename="PluginTimer..m_repeat">m_repeat</a>)</td></tr>
<tr><th id="128">128</th><td>            <a class="member fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Timer.h.html#_ZN7WebCore9TimerBase14startRepeatingEN3WTF7SecondsE" title='WebCore::TimerBase::startRepeating' data-ref="_ZN7WebCore9TimerBase14startRepeatingEN3WTF7SecondsE" data-ref-filename="_ZN7WebCore9TimerBase14startRepeatingEN3WTF7SecondsE">startRepeating</a>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#WTF::Seconds" title='WTF::Seconds' data-ref="WTF::Seconds" data-ref-filename="WTF..Seconds">Seconds</a> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#40" title='WTF::Seconds::Seconds' data-ref="_ZN3WTF7SecondsC1ERKS0_" data-ref-filename="_ZN3WTF7SecondsC1ERKS0_">{</a> <a class="local col9 ref" href="#9timeInterval" title='timeInterval' data-ref="9timeInterval" data-ref-filename="9timeInterval">timeInterval</a> });</td></tr>
<tr><th id="129">129</th><td>        <b>else</b></td></tr>
<tr><th id="130">130</th><td>            <a class="member fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Timer.h.html#_ZN7WebCore9TimerBase12startOneShotEN3WTF7SecondsE" title='WebCore::TimerBase::startOneShot' data-ref="_ZN7WebCore9TimerBase12startOneShotEN3WTF7SecondsE" data-ref-filename="_ZN7WebCore9TimerBase12startOneShotEN3WTF7SecondsE">startOneShot</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Seconds.h.html#40" title='WTF::Seconds::Seconds' data-ref="_ZN3WTF7SecondsC1ERKS0_" data-ref-filename="_ZN3WTF7SecondsC1ERKS0_"></a><a class="local col9 ref" href="#9timeInterval" title='timeInterval' data-ref="9timeInterval" data-ref-filename="9timeInterval">timeInterval</a>);</td></tr>
<tr><th id="131">131</th><td>    }</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td><b>private</b>:</td></tr>
<tr><th id="134">134</th><td>    <b>virtual</b> <em>void</em> <dfn class="virtual decl def fn" id="_ZN11PluginTimer5firedEv" title='PluginTimer::fired' data-ref="_ZN11PluginTimer5firedEv" data-ref-filename="_ZN11PluginTimer5firedEv">fired</dfn>() </td></tr>
<tr><th id="135">135</th><td>    {</td></tr>
<tr><th id="136">136</th><td>        <a class="member field" href="#PluginTimer::m_timerFunc" title='PluginTimer::m_timerFunc' data-ref="PluginTimer::m_timerFunc" data-ref-filename="PluginTimer..m_timerFunc">m_timerFunc</a>(<a class="member field" href="#PluginTimer::m_npp" title='PluginTimer::m_npp' data-ref="PluginTimer::m_npp" data-ref-filename="PluginTimer..m_npp">m_npp</a>, <a class="member field" href="#PluginTimer::m_timerID" title='PluginTimer::m_timerID' data-ref="PluginTimer::m_timerID" data-ref-filename="PluginTimer..m_timerID">m_timerID</a>);</td></tr>
<tr><th id="137">137</th><td>        <b>if</b> (!<a class="member field" href="#PluginTimer::m_repeat" title='PluginTimer::m_repeat' data-ref="PluginTimer::m_repeat" data-ref-filename="PluginTimer..m_repeat">m_repeat</a>)</td></tr>
<tr><th id="138">138</th><td>            <b>delete</b> <b>this</b>;</td></tr>
<tr><th id="139">139</th><td>    }</td></tr>
<tr><th id="140">140</th><td>    </td></tr>
<tr><th id="141">141</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP" title='NPP' data-type='NPP_t *' data-ref="NPP" data-ref-filename="NPP">NPP</a> <dfn class="decl field" id="PluginTimer::m_npp" title='PluginTimer::m_npp' data-ref="PluginTimer::m_npp" data-ref-filename="PluginTimer..m_npp">m_npp</dfn>;</td></tr>
<tr><th id="142">142</th><td>    <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="decl field" id="PluginTimer::m_timerID" title='PluginTimer::m_timerID' data-ref="PluginTimer::m_timerID" data-ref-filename="PluginTimer..m_timerID">m_timerID</dfn>;</td></tr>
<tr><th id="143">143</th><td>    <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="decl field" id="PluginTimer::m_interval" title='PluginTimer::m_interval' data-ref="PluginTimer::m_interval" data-ref-filename="PluginTimer..m_interval">m_interval</dfn>;</td></tr>
<tr><th id="144">144</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> <dfn class="decl field" id="PluginTimer::m_repeat" title='PluginTimer::m_repeat' data-ref="PluginTimer::m_repeat" data-ref-filename="PluginTimer..m_repeat">m_repeat</dfn>;</td></tr>
<tr><th id="145">145</th><td>    <a class="typedef" href="#PluginTimer::TimerFunc" title='PluginTimer::TimerFunc' data-type='void (*)(NPP, uint32_t)' data-ref="PluginTimer::TimerFunc" data-ref-filename="PluginTimer..TimerFunc">TimerFunc</a> <dfn class="decl field" id="PluginTimer::m_timerFunc" title='PluginTimer::m_timerFunc' data-ref="PluginTimer::m_timerFunc" data-ref-filename="PluginTimer..m_timerFunc">m_timerFunc</dfn>;</td></tr>
<tr><th id="146">146</th><td>};</td></tr>
<tr><th id="147">147</th><td></td></tr>
<tr><th id="148">148</th><td><b>typedef</b> <b>struct</b> {</td></tr>
<tr><th id="149">149</th><td>    <span class='typedef' title='CGContextRef' data-type='struct CGContext *' data-ref="CGContextRef" data-ref-filename="CGContextRef">CGContextRef</span> <dfn class="tu decl field" id="(anonymous)::context" title='(anonymous struct)::context' data-type='CGContextRef' data-ref="(anonymous)::context" data-ref-filename="(anonymous)..context">context</dfn>;</td></tr>
<tr><th id="150">150</th><td>} <dfn class="typedef" id="PortState_CG" title='PortState_CG' data-type='struct PortState_CG' data-ref="PortState_CG" data-ref-filename="PortState_CG">PortState_CG</dfn>;</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td>@<b>class</b> NSTextInputContext;</td></tr>
<tr><th id="153">153</th><td>@interface NSResponder (AppKitDetails)</td></tr>
<tr><th id="154">154</th><td>- (NSTextInputContext *)inputContext;</td></tr>
<tr><th id="155">155</th><td>@end</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>@interface <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> (ForwardDeclarations)</td></tr>
<tr><th id="158">158</th><td>- (<em>void</em>)setWindowIfNecessary;</td></tr>
<tr><th id="159">159</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)loadRequest:(NSMutableURLRequest *)<dfn class="local col0 decl" id="10request" title='request' data-type='NSMutableURLRequest *' data-ref="10request" data-ref-filename="10request">request</dfn> inTarget:(<em>const</em> <em>char</em> *)<dfn class="local col1 decl" id="11cTarget" title='cTarget' data-type='const char *' data-ref="11cTarget" data-ref-filename="11cTarget">cTarget</dfn> withNotifyData:(<em>void</em> *)<dfn class="local col2 decl" id="12notifyData" title='notifyData' data-type='void *' data-ref="12notifyData" data-ref-filename="12notifyData">notifyData</dfn> sendNotification:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col3 decl" id="13sendNotification" title='sendNotification' data-type='BOOL' data-ref="13sendNotification" data-ref-filename="13sendNotification">sendNotification</dfn>;</td></tr>
<tr><th id="160">160</th><td>@end</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td>@implementation <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a></td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td>+ (<em>void</em>)initialize</td></tr>
<tr><th id="165">165</th><td>{</td></tr>
<tr><th id="166">166</th><td>    <span class="namespace">JSC::</span><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/InitializeThreading.h.html#_ZN3JSC10initializeEv" title='JSC::initialize' data-ref="_ZN3JSC10initializeEv" data-ref-filename="_ZN3JSC10initializeEv">initialize</a>();</td></tr>
<tr><th id="167">167</th><td>    <span class="namespace">WTF::</span><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/MainThread.h.html#_ZN3WTF20initializeMainThreadEv" title='WTF::initializeMainThread' data-ref="_ZN3WTF20initializeMainThreadEv" data-ref-filename="_ZN3WTF20initializeMainThreadEv">initializeMainThread</a>();</td></tr>
<tr><th id="168">168</th><td>    <span class="namespace">WebCore::</span><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/WebCoreJITOperations.h.html#_ZN7WebCore21populateJITOperationsEv" title='WebCore::populateJITOperations' data-ref="_ZN7WebCore21populateJITOperationsEv" data-ref-filename="_ZN7WebCore21populateJITOperationsEv">populateJITOperations</a>();</td></tr>
<tr><th id="169">169</th><td>    <a class="ref fn" href="WebBaseNetscapePluginView.h.html#_ZN6WebKit27sendUserChangeNotificationsEv" title='WebKit::sendUserChangeNotifications' data-ref="_ZN6WebKit27sendUserChangeNotificationsEv" data-ref-filename="_ZN6WebKit27sendUserChangeNotificationsEv">sendUserChangeNotifications</a>();</td></tr>
<tr><th id="170">170</th><td>}</td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td><i  data-doc="_ZL9getNPRectRK6CGRectR7_NPRect">// MARK: EVENTS</i></td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def fn" id="_ZL9getNPRectRK6CGRectR7_NPRect" title='getNPRect' data-type='void getNPRect(const NSRect &amp; nr, NPRect &amp; npr)' data-ref="_ZL9getNPRectRK6CGRectR7_NPRect" data-ref-filename="_ZL9getNPRectRK6CGRectR7_NPRect">getNPRect</dfn>(<em>const</em> <span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>&amp; <dfn class="local col9 decl" id="109nr" title='nr' data-type='const NSRect &amp;' data-ref="109nr" data-ref-filename="109nr">nr</dfn>, <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPRect" title='NPRect' data-type='struct _NPRect' data-ref="NPRect" data-ref-filename="NPRect">NPRect</a>&amp; <dfn class="local col0 decl" id="110npr" title='npr' data-type='NPRect &amp;' data-ref="110npr" data-ref-filename="110npr">npr</dfn>)</td></tr>
<tr><th id="175">175</th><td>{</td></tr>
<tr><th id="176">176</th><td>    <a class="local col0 ref" href="#110npr" title='npr' data-ref="110npr" data-ref-filename="110npr">npr</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a> = <b>static_cast</b>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;(<a class="local col9 ref" href="#109nr" title='nr' data-ref="109nr" data-ref-filename="109nr">nr</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span>);</td></tr>
<tr><th id="177">177</th><td>    <a class="local col0 ref" href="#110npr" title='npr' data-ref="110npr" data-ref-filename="110npr">npr</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a> = <b>static_cast</b>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;(<a class="local col9 ref" href="#109nr" title='nr' data-ref="109nr" data-ref-filename="109nr">nr</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::x' data-ref="CGPoint::x" data-ref-filename="CGPoint..x">x</span>);</td></tr>
<tr><th id="178">178</th><td>    <a class="local col0 ref" href="#110npr" title='npr' data-ref="110npr" data-ref-filename="110npr">npr</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::bottom" title='_NPRect::bottom' data-ref="_NPRect::bottom" data-ref-filename="_NPRect..bottom">bottom</a> = <b>static_cast</b>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;(<span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col9 ref" href="#109nr" title='nr' data-ref="109nr" data-ref-filename="109nr">nr</a>));</td></tr>
<tr><th id="179">179</th><td>    <a class="local col0 ref" href="#110npr" title='npr' data-ref="110npr" data-ref-filename="110npr">npr</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::right" title='_NPRect::right' data-ref="_NPRect::right" data-ref-filename="_NPRect..right">right</a> = <b>static_cast</b>&lt;<span class='typedef' title='uint16_t' data-type='unsigned short' data-ref="uint16_t" data-ref-filename="uint16_t">uint16_t</span>&gt;(<span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col9 ref" href="#109nr" title='nr' data-ref="109nr" data-ref-filename="109nr">nr</a>));</td></tr>
<tr><th id="180">180</th><td>}</td></tr>
<tr><th id="181">181</th><td></td></tr>
<tr><th id="182">182</th><td>- (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)saveAndSetNewPortStateForUpdate:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col4 decl" id="14forUpdate" title='forUpdate' data-type='BOOL' data-ref="14forUpdate" data-ref-filename="14forUpdate">forUpdate</dfn></td></tr>
<tr><th id="183">183</th><td>{</td></tr>
<tr><th id="184">184</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([self currentWindow] != nullptr)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 184, __PRETTY_FUNCTION__, &quot;[self currentWindow] != nil&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(184, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2982); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> currentWindow] != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>);</td></tr>
<tr><th id="185">185</th><td>    </td></tr>
<tr><th id="186">186</th><td>    <i>// The base coordinates of a window and it's contentView happen to be the equal at a userSpaceScaleFactor</i></td></tr>
<tr><th id="187">187</th><td><i>    // of 1. For non-1.0 scale factors this assumption is false.</i></td></tr>
<tr><th id="188">188</th><td>    NSView *<dfn class="local col6 decl" id="16windowContentView" title='windowContentView' data-type='NSView *' data-ref="16windowContentView" data-ref-filename="16windowContentView">windowContentView</dfn> = [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> window] contentView];</td></tr>
<tr><th id="189">189</th><td>    <span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col7 decl" id="17boundsInWindow" title='boundsInWindow' data-type='NSRect' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> convertRect:[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> bounds] toView:<a class="local col6 ref" href="#16windowContentView" title='windowContentView' data-ref="16windowContentView" data-ref-filename="16windowContentView">windowContentView</a>];</td></tr>
<tr><th id="190">190</th><td>    <span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col8 decl" id="18visibleRectInWindow" title='visibleRectInWindow' data-type='NSRect' data-ref="18visibleRectInWindow" data-ref-filename="18visibleRectInWindow">visibleRectInWindow</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> actualVisibleRectInWindow];</td></tr>
<tr><th id="191">191</th><td>    </td></tr>
<tr><th id="192">192</th><td>    <i>// Flip Y to convert -[NSWindow contentView] coordinates to top-left-based window coordinates.</i></td></tr>
<tr><th id="193">193</th><td>    <em>float</em> <dfn class="local col9 decl" id="19borderViewHeight" title='borderViewHeight' data-type='float' data-ref="19borderViewHeight" data-ref-filename="19borderViewHeight">borderViewHeight</dfn> = [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> currentWindow] frame].<span class='ref field' title='CGRect::size' data-ref="CGRect::size" data-ref-filename="CGRect..size">size</span>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span>;</td></tr>
<tr><th id="194">194</th><td>    <a class="local col7 ref" href="#17boundsInWindow" title='boundsInWindow' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span> = <a class="local col9 ref" href="#19borderViewHeight" title='borderViewHeight' data-ref="19borderViewHeight" data-ref-filename="19borderViewHeight">borderViewHeight</a> - <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col7 ref" href="#17boundsInWindow" title='boundsInWindow' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</a>);</td></tr>
<tr><th id="195">195</th><td>    <a class="local col8 ref" href="#18visibleRectInWindow" title='visibleRectInWindow' data-ref="18visibleRectInWindow" data-ref-filename="18visibleRectInWindow">visibleRectInWindow</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span> = <a class="local col9 ref" href="#19borderViewHeight" title='borderViewHeight' data-ref="19borderViewHeight" data-ref-filename="19borderViewHeight">borderViewHeight</a> - <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col8 ref" href="#18visibleRectInWindow" title='visibleRectInWindow' data-ref="18visibleRectInWindow" data-ref-filename="18visibleRectInWindow">visibleRectInWindow</a>);</td></tr>
<tr><th id="196">196</th><td>    </td></tr>
<tr><th id="197">197</th><td>    window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::type" title='_NPWindow::type' data-ref="_NPWindow::type" data-ref-filename="_NPWindow..type">type</a> = <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPWindowTypeWindow" title='NPWindowTypeWindow' data-ref="NPWindowTypeWindow" data-ref-filename="NPWindowTypeWindow">NPWindowTypeWindow</a>;</td></tr>
<tr><th id="198">198</th><td>    window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::x" title='_NPWindow::x' data-ref="_NPWindow::x" data-ref-filename="_NPWindow..x">x</a> = (<span class='typedef' title='int32_t' data-type='int' data-ref="int32_t" data-ref-filename="int32_t">int32_t</span>)<a class="local col7 ref" href="#17boundsInWindow" title='boundsInWindow' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::x' data-ref="CGPoint::x" data-ref-filename="CGPoint..x">x</span>; </td></tr>
<tr><th id="199">199</th><td>    window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::y" title='_NPWindow::y' data-ref="_NPWindow::y" data-ref-filename="_NPWindow..y">y</a> = (<span class='typedef' title='int32_t' data-type='int' data-ref="int32_t" data-ref-filename="int32_t">int32_t</span>)<a class="local col7 ref" href="#17boundsInWindow" title='boundsInWindow' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span>;</td></tr>
<tr><th id="200">200</th><td>    window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a> = <b>static_cast</b>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>&gt;(<span class='ref fn' title='NSWidth' data-ref="_ZL7NSWidth6CGRect" data-ref-filename="_ZL7NSWidth6CGRect">NSWidth</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col7 ref" href="#17boundsInWindow" title='boundsInWindow' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</a>));</td></tr>
<tr><th id="201">201</th><td>    window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a> = <b>static_cast</b>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>&gt;(<span class='ref fn' title='NSHeight' data-ref="_ZL8NSHeight6CGRect" data-ref-filename="_ZL8NSHeight6CGRect">NSHeight</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col7 ref" href="#17boundsInWindow" title='boundsInWindow' data-ref="17boundsInWindow" data-ref-filename="17boundsInWindow">boundsInWindow</a>));</td></tr>
<tr><th id="202">202</th><td>    </td></tr>
<tr><th id="203">203</th><td>    <i>// "Clip-out" the plug-in when:</i></td></tr>
<tr><th id="204">204</th><td><i>    // 1) it's not really in a window or off-screen or has no height or width.</i></td></tr>
<tr><th id="205">205</th><td><i>    // 2) window.x is a "big negative number" which is how WebCore expresses off-screen widgets.</i></td></tr>
<tr><th id="206">206</th><td><i>    // 3) the window is miniaturized or the app is hidden</i></td></tr>
<tr><th id="207">207</th><td><i>    // 4) we're inside of viewWillMoveToWindow: with a nil window. In this case, superviews may already have nil </i></td></tr>
<tr><th id="208">208</th><td><i>    // superviews and nil windows and results from convertRect:toView: are incorrect.</i></td></tr>
<tr><th id="209">209</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a> &lt;= <var>0</var> || window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a> &lt;= <var>0</var> || window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::x" title='_NPWindow::x' data-ref="_NPWindow::x" data-ref-filename="_NPWindow..x">x</a> &lt; -<var>100000</var> || [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> shouldClipOutPlugin]) {</td></tr>
<tr><th id="210">210</th><td></td></tr>
<tr><th id="211">211</th><td>        <i>// The following code tries to give plug-ins the same size they will eventually have.</i></td></tr>
<tr><th id="212">212</th><td><i>        // The specifiedWidth and specifiedHeight variables are used to predict the size that</i></td></tr>
<tr><th id="213">213</th><td><i>        // WebCore will eventually resize us to.</i></td></tr>
<tr><th id="214">214</th><td><i></i></td></tr>
<tr><th id="215">215</th><td><i>        // The QuickTime plug-in has problems if you give it a width or height of 0.</i></td></tr>
<tr><th id="216">216</th><td><i>        // Since other plug-ins also might have the same sort of trouble, we make sure</i></td></tr>
<tr><th id="217">217</th><td><i>        // to always give plug-ins a size other than 0,0.</i></td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>        <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a> &lt;= <var>0</var>)</td></tr>
<tr><th id="220">220</th><td>            window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a> = specifiedWidth &gt; <var>0</var> ? specifiedWidth : <var>100</var>;</td></tr>
<tr><th id="221">221</th><td>        <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a> &lt;= <var>0</var>)</td></tr>
<tr><th id="222">222</th><td>            window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a> = specifiedHeight &gt; <var>0</var> ? specifiedHeight : <var>100</var>;</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td>        window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::bottom" title='_NPRect::bottom' data-ref="_NPRect::bottom" data-ref-filename="_NPRect..bottom">bottom</a> = window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a>;</td></tr>
<tr><th id="225">225</th><td>        window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a> = window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::right" title='_NPRect::right' data-ref="_NPRect::right" data-ref-filename="_NPRect..right">right</a>;</td></tr>
<tr><th id="226">226</th><td>        </td></tr>
<tr><th id="227">227</th><td>        <i>// Core Animation plug-ins need to be updated (with a 0,0,0,0 clipRect) when</i></td></tr>
<tr><th id="228">228</th><td><i>        // moved to a background tab. We don't do this for Core Graphics plug-ins as</i></td></tr>
<tr><th id="229">229</th><td><i>        // older versions of Flash have historical WebKit-specific code that isn't</i></td></tr>
<tr><th id="230">230</th><td><i>        // compatible with this behavior.</i></td></tr>
<tr><th id="231">231</th><td>        <b>if</b> (drawingModel == <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>)</td></tr>
<tr><th id="232">232</th><td>            <a class="tu ref fn" href="#_ZL9getNPRectRK6CGRectR7_NPRect" title='getNPRect' data-use='c' data-ref="_ZL9getNPRectRK6CGRectR7_NPRect" data-ref-filename="_ZL9getNPRectRK6CGRectR7_NPRect">getNPRect</a>(<span class='ref' title='NSZeroRect' data-ref="NSZeroRect" data-ref-filename="NSZeroRect">NSZeroRect</span>, <span class='refarg'>window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a></span>);</td></tr>
<tr><th id="233">233</th><td>    } <b>else</b> {</td></tr>
<tr><th id="234">234</th><td>        <a class="tu ref fn" href="#_ZL9getNPRectRK6CGRectR7_NPRect" title='getNPRect' data-use='c' data-ref="_ZL9getNPRectRK6CGRectR7_NPRect" data-ref-filename="_ZL9getNPRectRK6CGRectR7_NPRect">getNPRect</a>(<a class="local col8 ref" href="#18visibleRectInWindow" title='visibleRectInWindow' data-ref="18visibleRectInWindow" data-ref-filename="18visibleRectInWindow">visibleRectInWindow</a>, <span class='refarg'>window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a></span>);</td></tr>
<tr><th id="235">235</th><td>    }</td></tr>
<tr><th id="236">236</th><td>    </td></tr>
<tr><th id="237">237</th><td>    <i>// Save the port state, set up the port for entry into the plugin</i></td></tr>
<tr><th id="238">238</th><td>    <a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a> <dfn class="local col0 decl" id="20portState" title='portState' data-type='PortState' data-ref="20portState" data-ref-filename="20portState">portState</dfn>;</td></tr>
<tr><th id="239">239</th><td>    <b>switch</b> (drawingModel) {</td></tr>
<tr><th id="240">240</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>: {            </td></tr>
<tr><th id="241">241</th><td>            <b>if</b> (![<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> canDraw]) {</td></tr>
<tr><th id="242">242</th><td>                <a class="local col0 ref" href="#20portState" title='portState' data-ref="20portState" data-ref-filename="20portState">portState</a> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="243">243</th><td>                <b>break</b>;</td></tr>
<tr><th id="244">244</th><td>            }</td></tr>
<tr><th id="245">245</th><td>            </td></tr>
<tr><th id="246">246</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([NSView focusView] == self)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 246, __PRETTY_FUNCTION__, &quot;[NSView focusView] == self&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(246, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2984); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([NSView focusView] == <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>);</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td>            <span class='typedef' title='CGContextRef' data-type='struct CGContext *' data-ref="CGContextRef" data-ref-filename="CGContextRef">CGContextRef</span> <dfn class="local col1 decl" id="21context" title='context' data-type='CGContextRef' data-ref="21context" data-ref-filename="21context">context</dfn> = [[NSGraphicsContext currentContext] CGContext];</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>            <a class="typedef" href="#PortState_CG" title='PortState_CG' data-type='struct PortState_CG' data-ref="PortState_CG" data-ref-filename="PortState_CG">PortState_CG</a> *<dfn class="local col2 decl" id="22cgPortState" title='cgPortState' data-type='PortState_CG *' data-ref="22cgPortState" data-ref-filename="22cgPortState">cgPortState</dfn> = (<a class="typedef" href="#PortState_CG" title='PortState_CG' data-type='struct PortState_CG' data-ref="PortState_CG" data-ref-filename="PortState_CG">PortState_CG</a> *)<span class='ref fn' title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</span>(<b>sizeof</b>(<a class="typedef" href="#PortState_CG" title='PortState_CG' data-type='struct PortState_CG' data-ref="PortState_CG" data-ref-filename="PortState_CG">PortState_CG</a>));</td></tr>
<tr><th id="251">251</th><td>            <a class="local col0 ref" href="#20portState" title='portState' data-ref="20portState" data-ref-filename="20portState">portState</a> = (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)<a class="local col2 ref" href="#22cgPortState" title='cgPortState' data-ref="22cgPortState" data-ref-filename="22cgPortState">cgPortState</a>;</td></tr>
<tr><th id="252">252</th><td>            <a class="local col2 ref" href="#22cgPortState" title='cgPortState' data-ref="22cgPortState" data-ref-filename="22cgPortState">cgPortState</a>-&gt;<a class="tu ref field" href="#(anonymous)::context" title='(anonymous struct)::context' data-use='w' data-ref="(anonymous)::context" data-ref-filename="(anonymous)..context">context</a> = <a class="local col1 ref" href="#21context" title='context' data-ref="21context" data-ref-filename="21context">context</a>;</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td>            <i>// Save current graphics context's state; will be restored by -restorePortState:</i></td></tr>
<tr><th id="255">255</th><td>            <span class='ref fn' title='CGContextSaveGState' data-ref="CGContextSaveGState" data-ref-filename="CGContextSaveGState">CGContextSaveGState</span>(<a class="local col1 ref" href="#21context" title='context' data-ref="21context" data-ref-filename="21context">context</a>);</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td>            <i>// Clip to the dirty region if drawing to a window. When drawing to another bitmap context, do not clip.</i></td></tr>
<tr><th id="258">258</th><td>            <b>if</b> ([NSGraphicsContext currentContext] == [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> currentWindow] graphicsContext]) {</td></tr>
<tr><th id="259">259</th><td>                <i>// Get list of dirty rects from the opaque ancestor -- WebKit does some tricks with invalidation and</i></td></tr>
<tr><th id="260">260</th><td><i>                // display to enable z-ordering for NSViews; a side-effect of this is that only the WebHTMLView</i></td></tr>
<tr><th id="261">261</th><td><i>                // knows about the true set of dirty rects.</i></td></tr>
<tr><th id="262">262</th><td>                NSView *<dfn class="local col3 decl" id="23opaqueAncestor" title='opaqueAncestor' data-type='NSView *' data-ref="23opaqueAncestor" data-ref-filename="23opaqueAncestor">opaqueAncestor</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> opaqueAncestor];</td></tr>
<tr><th id="263">263</th><td>                <em>const</em> <span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> *<dfn class="local col4 decl" id="24dirtyRects" title='dirtyRects' data-type='const NSRect *' data-ref="24dirtyRects" data-ref-filename="24dirtyRects">dirtyRects</dfn>;</td></tr>
<tr><th id="264">264</th><td>                <span class='typedef' title='NSInteger' data-type='long' data-ref="NSInteger" data-ref-filename="NSInteger">NSInteger</span> <dfn class="local col5 decl" id="25count" title='count' data-type='NSInteger' data-ref="25count" data-ref-filename="25count">count</dfn>;</td></tr>
<tr><th id="265">265</th><td>                [<a class="local col3 ref" href="#23opaqueAncestor" title='opaqueAncestor' data-ref="23opaqueAncestor" data-ref-filename="23opaqueAncestor">opaqueAncestor</a> getRectsBeingDrawn:&amp;<a class="local col4 ref" href="#24dirtyRects" title='dirtyRects' data-ref="24dirtyRects" data-ref-filename="24dirtyRects">dirtyRects</a> count:&amp;<a class="local col5 ref" href="#25count" title='count' data-ref="25count" data-ref-filename="25count">count</a>];</td></tr>
<tr><th id="266">266</th><td>                <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::Vector" title='WTF::Vector' data-ref="WTF::Vector" data-ref-filename="WTF..Vector">Vector</a>&lt;<span class='typedef' title='CGRect' data-type='struct CGRect' data-ref="CGRect" data-ref-filename="CGRect">CGRect</span>, <var>16</var>&gt; <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6VectorC1Ev" title='WTF::Vector::Vector&lt;type-parameter-0-0, , type-parameter-0-2, , Malloc&gt;' data-ref="_ZN3WTF6VectorC1Ev" data-ref-filename="_ZN3WTF6VectorC1Ev"></a><dfn class="local col6 decl" id="26convertedDirtyRects" title='convertedDirtyRects' data-type='Vector&lt;CGRect, 16&gt;' data-ref="26convertedDirtyRects" data-ref-filename="26convertedDirtyRects">convertedDirtyRects</dfn>;</td></tr>
<tr><th id="267">267</th><td>                <a class="local col6 ref" href="#26convertedDirtyRects" title='convertedDirtyRects' data-ref="26convertedDirtyRects" data-ref-filename="26convertedDirtyRects">convertedDirtyRects</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6Vector4growEm" title='WTF::Vector::grow' data-ref="_ZN3WTF6Vector4growEm" data-ref-filename="_ZN3WTF6Vector4growEm">grow</a>(<a class="local col5 ref" href="#25count" title='count' data-ref="25count" data-ref-filename="25count">count</a>);</td></tr>
<tr><th id="268">268</th><td>                <b>for</b> (<em>int</em> <dfn class="local col7 decl" id="27i" title='i' data-type='int' data-ref="27i" data-ref-filename="27i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#27i" title='i' data-ref="27i" data-ref-filename="27i">i</a> &lt; <a class="local col5 ref" href="#25count" title='count' data-ref="25count" data-ref-filename="25count">count</a>; ++<a class="local col7 ref" href="#27i" title='i' data-ref="27i" data-ref-filename="27i">i</a>)</td></tr>
<tr><th id="269">269</th><td>                    <b>reinterpret_cast</b>&lt;<span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>&amp;&gt;(<a class="local col6 ref" href="#26convertedDirtyRects" title='convertedDirtyRects' data-ref="26convertedDirtyRects" data-ref-filename="26convertedDirtyRects">convertedDirtyRects</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6VectorixEm" title='WTF::Vector::operator[]' data-ref="_ZN3WTF6VectorixEm" data-ref-filename="_ZN3WTF6VectorixEm">[<a class="local col7 ref" href="#27i" title='i' data-ref="27i" data-ref-filename="27i">i</a>]</a>) <span class='ref fn' title='CGRect::operator=' data-ref="_ZN6CGRectaSEOS_" data-ref-filename="_ZN6CGRectaSEOS_">=</span> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> convertRect:<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col4 ref" href="#24dirtyRects" title='dirtyRects' data-ref="24dirtyRects" data-ref-filename="24dirtyRects">dirtyRects</a>[<a class="local col7 ref" href="#27i" title='i' data-ref="27i" data-ref-filename="27i">i</a>] fromView:<a class="local col3 ref" href="#23opaqueAncestor" title='opaqueAncestor' data-ref="23opaqueAncestor" data-ref-filename="23opaqueAncestor">opaqueAncestor</a>];</td></tr>
<tr><th id="270">270</th><td>                <span class='ref fn' title='CGContextClipToRects' data-ref="CGContextClipToRects" data-ref-filename="CGContextClipToRects">CGContextClipToRects</span>(<a class="local col1 ref" href="#21context" title='context' data-ref="21context" data-ref-filename="21context">context</a>, <a class="local col6 ref" href="#26convertedDirtyRects" title='convertedDirtyRects' data-ref="26convertedDirtyRects" data-ref-filename="26convertedDirtyRects">convertedDirtyRects</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6Vector4dataEv" title='WTF::Vector::data' data-ref="_ZN3WTF6Vector4dataEv" data-ref-filename="_ZN3WTF6Vector4dataEv">data</a>(), <a class="local col5 ref" href="#25count" title='count' data-ref="25count" data-ref-filename="25count">count</a>);</td></tr>
<tr><th id="271">271</th><td>            }</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td>            <b>break</b>;</td></tr>
<tr><th id="274">274</th><td>        }</td></tr>
<tr><th id="275">275</th><td>          </td></tr>
<tr><th id="276">276</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>:</td></tr>
<tr><th id="277">277</th><td>            <i>// Just set the port state to a dummy value.</i></td></tr>
<tr><th id="278">278</th><td>            <a class="local col0 ref" href="#20portState" title='portState' data-ref="20portState" data-ref-filename="20portState">portState</a> = (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)<var>1</var>;</td></tr>
<tr><th id="279">279</th><td>            <b>break</b>;</td></tr>
<tr><th id="280">280</th><td>        </td></tr>
<tr><th id="281">281</th><td>        <b>default</b>:</td></tr>
<tr><th id="282">282</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 282, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(282, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2986); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="283">283</th><td>            <a class="local col0 ref" href="#20portState" title='portState' data-ref="20portState" data-ref-filename="20portState">portState</a> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="284">284</th><td>            <b>break</b>;</td></tr>
<tr><th id="285">285</th><td>    }</td></tr>
<tr><th id="286">286</th><td>    </td></tr>
<tr><th id="287">287</th><td>    <b>return</b> <a class="local col0 ref" href="#20portState" title='portState' data-ref="20portState" data-ref-filename="20portState">portState</a>;</td></tr>
<tr><th id="288">288</th><td>}</td></tr>
<tr><th id="289">289</th><td></td></tr>
<tr><th id="290">290</th><td>- (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)saveAndSetNewPortState</td></tr>
<tr><th id="291">291</th><td>{</td></tr>
<tr><th id="292">292</th><td>    <b>return</b> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> saveAndSetNewPortStateForUpdate:<span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>];</td></tr>
<tr><th id="293">293</th><td>}</td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td>- (<em>void</em>)restorePortState:(<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)<dfn class="local col8 decl" id="28portState" title='portState' data-type='PortState' data-ref="28portState" data-ref-filename="28portState">portState</dfn></td></tr>
<tr><th id="296">296</th><td>{</td></tr>
<tr><th id="297">297</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([self currentWindow])) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 297, __PRETTY_FUNCTION__, &quot;[self currentWindow]&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(297, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2988); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> currentWindow]);</td></tr>
<tr><th id="298">298</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(portState)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 298, __PRETTY_FUNCTION__, &quot;portState&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(298, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2990); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col8 ref" href="#28portState" title='portState' data-ref="28portState" data-ref-filename="28portState">portState</a>);</td></tr>
<tr><th id="299">299</th><td>    </td></tr>
<tr><th id="300">300</th><td>    <b>switch</b> (drawingModel) {</td></tr>
<tr><th id="301">301</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>: {</td></tr>
<tr><th id="302">302</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([NSView focusView] == self)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 302, __PRETTY_FUNCTION__, &quot;[NSView focusView] == self&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(302, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2992); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([NSView focusView] == <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>);</td></tr>
<tr><th id="303">303</th><td>            </td></tr>
<tr><th id="304">304</th><td>            <span class='typedef' title='CGContextRef' data-type='struct CGContext *' data-ref="CGContextRef" data-ref-filename="CGContextRef">CGContextRef</span> <dfn class="local col9 decl" id="29context" title='context' data-type='CGContextRef' data-ref="29context" data-ref-filename="29context">context</dfn> = ((<a class="typedef" href="#PortState_CG" title='PortState_CG' data-type='struct PortState_CG' data-ref="PortState_CG" data-ref-filename="PortState_CG">PortState_CG</a> *)<a class="local col8 ref" href="#28portState" title='portState' data-ref="28portState" data-ref-filename="28portState">portState</a>)-&gt;<a class="tu ref field" href="#(anonymous)::context" title='(anonymous struct)::context' data-use='r' data-ref="(anonymous)::context" data-ref-filename="(anonymous)..context">context</a>;</td></tr>
<tr><th id="305">305</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!nPort.cgPort.context || (context == nPort.cgPort.context))) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 305, __PRETTY_FUNCTION__, &quot;!nPort.cgPort.context || (context == nPort.cgPort.context)&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(305, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2994); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::context" title='NP_CGContext::context' data-ref="NP_CGContext::context" data-ref-filename="NP_CGContext..context">context</a> || (<a class="local col9 ref" href="#29context" title='context' data-ref="29context" data-ref-filename="29context">context</a> == nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::context" title='NP_CGContext::context' data-ref="NP_CGContext::context" data-ref-filename="NP_CGContext..context">context</a>));</td></tr>
<tr><th id="306">306</th><td>            <span class='ref fn' title='CGContextRestoreGState' data-ref="CGContextRestoreGState" data-ref-filename="CGContextRestoreGState">CGContextRestoreGState</span>(<a class="local col9 ref" href="#29context" title='context' data-ref="29context" data-ref-filename="29context">context</a>);</td></tr>
<tr><th id="307">307</th><td>            <b>break</b>;</td></tr>
<tr><th id="308">308</th><td>        }</td></tr>
<tr><th id="309">309</th><td>        </td></tr>
<tr><th id="310">310</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>:</td></tr>
<tr><th id="311">311</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(portState == (PortState)1)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 311, __PRETTY_FUNCTION__, &quot;portState == (PortState)1&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(311, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2996); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col8 ref" href="#28portState" title='portState' data-ref="28portState" data-ref-filename="28portState">portState</a> == (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)<var>1</var>);</td></tr>
<tr><th id="312">312</th><td>            <b>break</b>;</td></tr>
<tr><th id="313">313</th><td>        <b>default</b>:</td></tr>
<tr><th id="314">314</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 314, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(314, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 2998); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="315">315</th><td>            <b>break</b>;</td></tr>
<tr><th id="316">316</th><td>    }</td></tr>
<tr><th id="317">317</th><td>}</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)sendEvent:(<em>void</em>*)<dfn class="local col0 decl" id="30event" title='event' data-type='void *' data-ref="30event" data-ref-filename="30event">event</dfn> isDrawRect:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col1 decl" id="31eventIsDrawRect" title='eventIsDrawRect' data-type='BOOL' data-ref="31eventIsDrawRect" data-ref-filename="31eventIsDrawRect">eventIsDrawRect</dfn></td></tr>
<tr><th id="320">320</th><td>{</td></tr>
<tr><th id="321">321</th><td>    <b>if</b> (![<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> window])</td></tr>
<tr><th id="322">322</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="323">323</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(event)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 323, __PRETTY_FUNCTION__, &quot;event&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(323, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3000); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col0 ref" href="#30event" title='event' data-ref="30event" data-ref-filename="30event">event</a>);</td></tr>
<tr><th id="324">324</th><td>       </td></tr>
<tr><th id="325">325</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="326">326</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([_pluginPackage.get() pluginFuncs]-&gt;event)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 328, __PRETTY_FUNCTION__, &quot;[_pluginPackage.get() pluginFuncs]-&gt;event&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(328, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3002); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::event" title='_NPPluginFuncs::event' data-ref="_NPPluginFuncs::event" data-ref-filename="_NPPluginFuncs..event">event</a>);</td></tr>
<tr><th id="329">329</th><td>    </td></tr>
<tr><th id="330">330</th><td>    <i>// Make sure we don't call NPP_HandleEvent while we're inside NPP_SetWindow.</i></td></tr>
<tr><th id="331">331</th><td><i>    // We probably don't want more general reentrancy protection; we are really</i></td></tr>
<tr><th id="332">332</th><td><i>    // protecting only against this one case, which actually comes up when</i></td></tr>
<tr><th id="333">333</th><td><i>    // you first install the SVG viewer plug-in.</i></td></tr>
<tr><th id="334">334</th><td>    <b>if</b> (inSetWindow)</td></tr>
<tr><th id="335">335</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#WebCore::Frame" title='WebCore::Frame' data-ref="WebCore::Frame" data-ref-filename="WebCore..Frame">Frame</a>* <dfn class="local col2 decl" id="32frame" title='frame' data-type='WebCore::Frame *' data-ref="32frame" data-ref-filename="32frame">frame</dfn> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame]);</td></tr>
<tr><th id="338">338</th><td>    <b>if</b> (!<a class="local col2 ref" href="#32frame" title='frame' data-ref="32frame" data-ref-filename="32frame">frame</a>)</td></tr>
<tr><th id="339">339</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="340">340</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Page.h.html#WebCore::Page" title='WebCore::Page' data-ref="WebCore::Page" data-ref-filename="WebCore..Page">Page</a>* <dfn class="local col3 decl" id="33page" title='page' data-type='WebCore::Page *' data-ref="33page" data-ref-filename="33page">page</dfn> = <a class="local col2 ref" href="#32frame" title='frame' data-ref="32frame" data-ref-filename="32frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZNK7WebCore5Frame4pageEv" title='WebCore::Frame::page' data-ref="_ZNK7WebCore5Frame4pageEv" data-ref-filename="_ZNK7WebCore5Frame4pageEv">page</a>();</td></tr>
<tr><th id="341">341</th><td>    <b>if</b> (!<a class="local col3 ref" href="#33page" title='page' data-ref="33page" data-ref-filename="33page">page</a>)</td></tr>
<tr><th id="342">342</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td>    <i>// Can only send drawRect (updateEvt) to CoreGraphics plugins when actually drawing</i></td></tr>
<tr><th id="345">345</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!((drawingModel != NPDrawingModelCoreGraphics) || !eventIsDrawRect || [NSView focusView] == self)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 345, __PRETTY_FUNCTION__, &quot;(drawingModel != NPDrawingModelCoreGraphics) || !eventIsDrawRect || [NSView focusView] == self&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(345, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3004); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>((drawingModel != <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>) || !<a class="local col1 ref" href="#31eventIsDrawRect" title='eventIsDrawRect' data-ref="31eventIsDrawRect" data-ref-filename="31eventIsDrawRect">eventIsDrawRect</a> || [NSView focusView] == <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>);</td></tr>
<tr><th id="346">346</th><td>    </td></tr>
<tr><th id="347">347</th><td>    <a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a> <dfn class="local col4 decl" id="34portState" title='portState' data-type='PortState' data-ref="34portState" data-ref-filename="34portState">portState</dfn> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="348">348</th><td>    </td></tr>
<tr><th id="349">349</th><td>    <b>if</b> (drawingModel != <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a> &amp;&amp; <a class="local col1 ref" href="#31eventIsDrawRect" title='eventIsDrawRect' data-ref="31eventIsDrawRect" data-ref-filename="31eventIsDrawRect">eventIsDrawRect</a>) {</td></tr>
<tr><th id="350">350</th><td>        <i>// In CoreGraphics mode, the port state only needs to be saved/set when redrawing the plug-in view.</i></td></tr>
<tr><th id="351">351</th><td><i>        // The plug-in is not allowed to draw at any other time.</i></td></tr>
<tr><th id="352">352</th><td>        <a class="local col4 ref" href="#34portState" title='portState' data-ref="34portState" data-ref-filename="34portState">portState</a> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> saveAndSetNewPortStateForUpdate:<a class="local col1 ref" href="#31eventIsDrawRect" title='eventIsDrawRect' data-ref="31eventIsDrawRect" data-ref-filename="31eventIsDrawRect">eventIsDrawRect</a>];</td></tr>
<tr><th id="353">353</th><td>        <i>// We may have changed the window, so inform the plug-in.</i></td></tr>
<tr><th id="354">354</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> setWindowIfNecessary];</td></tr>
<tr><th id="355">355</th><td>    }</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td>    <i>// Temporarily retain self in case the plug-in view is released while sending an event. </i></td></tr>
<tr><th id="358">358</th><td>    <em>auto</em> <dfn class="local col5 decl" id="35strongSelf" title='strongSelf' data-type='WTF::RetainPtr&lt;WebNetscapePluginDocumentView&gt;' data-ref="35strongSelf" data-ref-filename="35strongSelf">strongSelf</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9retainPtrET_" title='WTF::retainPtr' data-ref="_ZN3WTF9retainPtrET_" data-ref-filename="_ZN3WTF9retainPtrET_">retainPtr</a>(<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>);</td></tr>
<tr><th id="359">359</th><td></td></tr>
<tr><th id="360">360</th><td>    <span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span> <dfn class="local col6 decl" id="36acceptedEvent" title='acceptedEvent' data-type='BOOL' data-ref="36acceptedEvent" data-ref-filename="36acceptedEvent">acceptedEvent</dfn>;</td></tr>
<tr><th id="361">361</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="362">362</th><td>    <i>// Set the pluginAllowPopup flag.</i></td></tr>
<tr><th id="363">363</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_eventHandler)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 363, __PRETTY_FUNCTION__, &quot;_eventHandler&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(363, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3006); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_eventHandler);</td></tr>
<tr><th id="364">364</th><td>    {</td></tr>
<tr><th id="365">365</th><td>        <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col7 decl" id="37dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="37dropAllLocks" data-ref-filename="37dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="366">366</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/UserGestureIndicator.h.html#WebCore::UserGestureIndicator" title='WebCore::UserGestureIndicator' data-ref="WebCore::UserGestureIndicator" data-ref-filename="WebCore..UserGestureIndicator">UserGestureIndicator</a> <dfn class="local col8 decl" id="38gestureIndicator" title='gestureIndicator' data-type='WebCore::UserGestureIndicator' data-ref="38gestureIndicator" data-ref-filename="38gestureIndicator">gestureIndicator</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/UserGestureIndicator.h.html#_ZN7WebCore20UserGestureIndicatorC1ENSt3__18optionalINS_26ProcessingUserGestureStateEEEPNS_8DocumentENS_15UserGestureTypeENS0_23ProcessInteractionStyleE" title='WebCore::UserGestureIndicator::UserGestureIndicator' data-ref="_ZN7WebCore20UserGestureIndicatorC1ENSt3__18optionalINS_26ProcessingUserGestureStateEEEPNS_8DocumentENS_15UserGestureTypeENS0_23ProcessInteractionStyleE" data-ref-filename="_ZN7WebCore20UserGestureIndicatorC1ENSt3__18optionalINS_26ProcessingUserGestureStateEEEPNS_8DocumentENS_15UserGestureTypeENS0_23ProcessInteractionStyleE">(</a>_eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="WebNetscapePluginEventHandler.h.html#_ZNK29WebNetscapePluginEventHandler25currentEventIsUserGestureEv" title='WebNetscapePluginEventHandler::currentEventIsUserGesture' data-ref="_ZNK29WebNetscapePluginEventHandler25currentEventIsUserGestureEv" data-ref-filename="_ZNK29WebNetscapePluginEventHandler25currentEventIsUserGestureEv">currentEventIsUserGesture</a>() ? <span class="namespace">std::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/UserGestureIndicator.h.html#WebCore::ProcessingUserGestureState" title='WebCore::ProcessingUserGestureState' data-ref="WebCore::ProcessingUserGestureState" data-ref-filename="WebCore..ProcessingUserGestureState">ProcessingUserGestureState</a>&gt;<span class='ref fn' title='std::__1::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt3__18optionalC1EOTL0__" data-ref-filename="_ZNSt3__18optionalC1EOTL0__">(</span><a class="enum" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/UserGestureIndicator.h.html#WebCore::ProcessingUserGesture" title='WebCore::ProcessingUserGesture' data-ref="WebCore::ProcessingUserGesture" data-ref-filename="WebCore..ProcessingUserGesture">ProcessingUserGesture</a>) : <span class='ref fn fake' title='std::__1::nullopt_t::nullopt_t' data-ref="_ZNSt3__19nullopt_tC1ERKS0_" data-ref-filename="_ZNSt3__19nullopt_tC1ERKS0_"></span><span class='ref fn fake' title='std::__1::optional::optional&lt;_Tp&gt;' data-ref="_ZNSt3__18optionalC1ENS_9nullopt_tE" data-ref-filename="_ZNSt3__18optionalC1ENS_9nullopt_tE"></span><span class="namespace">std::</span><span class='ref' title='std::__1::nullopt' data-ref="std::__1::nullopt" data-ref-filename="std..__1..nullopt">nullopt</span>);</td></tr>
<tr><th id="367">367</th><td>        <a class="local col6 ref" href="#36acceptedEvent" title='acceptedEvent' data-ref="36acceptedEvent" data-ref-filename="36acceptedEvent">acceptedEvent</a> = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::event" title='_NPPluginFuncs::event' data-ref="_NPPluginFuncs::event" data-ref-filename="_NPPluginFuncs..event">event</a>(plugin, <a class="local col0 ref" href="#30event" title='event' data-ref="30event" data-ref-filename="30event">event</a>);</td></tr>
<tr><th id="368">368</th><td>    }</td></tr>
<tr><th id="369">369</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td>    <b>if</b> (<a class="local col4 ref" href="#34portState" title='portState' data-ref="34portState" data-ref-filename="34portState">portState</a>) {</td></tr>
<tr><th id="372">372</th><td>        <b>if</b> ([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> currentWindow])</td></tr>
<tr><th id="373">373</th><td>            [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> restorePortState:<a class="local col4 ref" href="#34portState" title='portState' data-ref="34portState" data-ref-filename="34portState">portState</a>];</td></tr>
<tr><th id="374">374</th><td>        <b>if</b> (<a class="local col4 ref" href="#34portState" title='portState' data-ref="34portState" data-ref-filename="34portState">portState</a> != (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)<var>1</var>)</td></tr>
<tr><th id="375">375</th><td>            <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(<a class="local col4 ref" href="#34portState" title='portState' data-ref="34portState" data-ref-filename="34portState">portState</a>);</td></tr>
<tr><th id="376">376</th><td>    }</td></tr>
<tr><th id="377">377</th><td></td></tr>
<tr><th id="378">378</th><td>    <b>return</b> <a class="local col6 ref" href="#36acceptedEvent" title='acceptedEvent' data-ref="36acceptedEvent" data-ref-filename="36acceptedEvent">acceptedEvent</a>;</td></tr>
<tr><th id="379">379</th><td>}</td></tr>
<tr><th id="380">380</th><td></td></tr>
<tr><th id="381">381</th><td>- (<em>void</em>)windowFocusChanged:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col9 decl" id="39hasFocus" title='hasFocus' data-type='BOOL' data-ref="39hasFocus" data-ref-filename="39hasFocus">hasFocus</dfn></td></tr>
<tr><th id="382">382</th><td>{</td></tr>
<tr><th id="383">383</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler18windowFocusChangedEb" title='WebNetscapePluginEventHandler::windowFocusChanged' data-ref="_ZN29WebNetscapePluginEventHandler18windowFocusChangedEb" data-ref-filename="_ZN29WebNetscapePluginEventHandler18windowFocusChangedEb">windowFocusChanged</a>(<a class="local col9 ref" href="#39hasFocus" title='hasFocus' data-ref="39hasFocus" data-ref-filename="39hasFocus">hasFocus</a>);</td></tr>
<tr><th id="384">384</th><td>}</td></tr>
<tr><th id="385">385</th><td></td></tr>
<tr><th id="386">386</th><td>- (<em>void</em>)sendDrawRectEvent:(<span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)<dfn class="local col0 decl" id="40rect" title='rect' data-type='NSRect' data-ref="40rect" data-ref-filename="40rect">rect</dfn></td></tr>
<tr><th id="387">387</th><td>{</td></tr>
<tr><th id="388">388</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_eventHandler)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 388, __PRETTY_FUNCTION__, &quot;_eventHandler&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(388, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3008); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_eventHandler);</td></tr>
<tr><th id="389">389</th><td>    </td></tr>
<tr><th id="390">390</th><td>    <span class='typedef' title='CGContextRef' data-type='struct CGContext *' data-ref="CGContextRef" data-ref-filename="CGContextRef">CGContextRef</span> <dfn class="local col1 decl" id="41context" title='context' data-type='CGContextRef' data-ref="41context" data-ref-filename="41context">context</dfn> = [[NSGraphicsContext currentContext] CGContext];</td></tr>
<tr><th id="391">391</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler8drawRectEP9CGContextRK6CGRect" title='WebNetscapePluginEventHandler::drawRect' data-ref="_ZN29WebNetscapePluginEventHandler8drawRectEP9CGContextRK6CGRect" data-ref-filename="_ZN29WebNetscapePluginEventHandler8drawRectEP9CGContextRK6CGRect">drawRect</a>(<a class="local col1 ref" href="#41context" title='context' data-ref="41context" data-ref-filename="41context">context</a>, <a class="local col0 ref" href="#40rect" title='rect' data-ref="40rect" data-ref-filename="40rect">rect</a>);</td></tr>
<tr><th id="392">392</th><td>}</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td>- (<em>void</em>)stopTimers</td></tr>
<tr><th id="395">395</th><td>{</td></tr>
<tr><th id="396">396</th><td>    [super stopTimers];</td></tr>
<tr><th id="397">397</th><td>    </td></tr>
<tr><th id="398">398</th><td>    <b>if</b> (<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>_eventHandler)</td></tr>
<tr><th id="399">399</th><td>        _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler10stopTimersEv" title='WebNetscapePluginEventHandler::stopTimers' data-ref="_ZN29WebNetscapePluginEventHandler10stopTimersEv" data-ref-filename="_ZN29WebNetscapePluginEventHandler10stopTimersEv">stopTimers</a>();</td></tr>
<tr><th id="400">400</th><td>    </td></tr>
<tr><th id="401">401</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>timers)</td></tr>
<tr><th id="402">402</th><td>        <b>return</b>;</td></tr>
<tr><th id="403">403</th><td></td></tr>
<tr><th id="404">404</th><td>    <b>for</b> (<em>auto</em>&amp; <dfn class="local col2 decl" id="42it" title='it' data-type='std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt; &amp;' data-ref="42it" data-ref-filename="42it">it</dfn>: timers<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashMap.h.html#_ZN3WTF7HashMap6valuesEv" title='WTF::HashMap::values' data-ref="_ZN3WTF7HashMap6valuesEv" data-ref-filename="_ZN3WTF7HashMap6valuesEv">values</a>())</td></tr>
<tr><th id="405">405</th><td>        <a class="local col2 ref" href="#42it" title='it' data-ref="42it" data-ref-filename="42it">it</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Timer.h.html#_ZN7WebCore9TimerBase4stopEv" title='WebCore::TimerBase::stop' data-ref="_ZN7WebCore9TimerBase4stopEv" data-ref-filename="_ZN7WebCore9TimerBase4stopEv">stop</a>();</td></tr>
<tr><th id="406">406</th><td>}</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td>- (<em>void</em>)startTimers</td></tr>
<tr><th id="409">409</th><td>{</td></tr>
<tr><th id="410">410</th><td>    [super startTimers];</td></tr>
<tr><th id="411">411</th><td>    </td></tr>
<tr><th id="412">412</th><td>    <i>// If the plugin is completely obscured (scrolled out of view, for example), then we will</i></td></tr>
<tr><th id="413">413</th><td><i>    // send null events at a reduced rate.</i></td></tr>
<tr><th id="414">414</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler11startTimersEb" title='WebNetscapePluginEventHandler::startTimers' data-ref="_ZN29WebNetscapePluginEventHandler11startTimersEb" data-ref-filename="_ZN29WebNetscapePluginEventHandler11startTimersEb">startTimers</a>(_isCompletelyObscured);</td></tr>
<tr><th id="415">415</th><td>    </td></tr>
<tr><th id="416">416</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>timers)</td></tr>
<tr><th id="417">417</th><td>        <b>return</b>;</td></tr>
<tr><th id="418">418</th><td>    </td></tr>
<tr><th id="419">419</th><td>    <b>for</b> (<em>auto</em>&amp; <dfn class="local col3 decl" id="43it" title='it' data-type='std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt; &amp;' data-ref="43it" data-ref-filename="43it">it</dfn>: timers<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashMap.h.html#_ZN3WTF7HashMap6valuesEv" title='WTF::HashMap::values' data-ref="_ZN3WTF7HashMap6valuesEv" data-ref-filename="_ZN3WTF7HashMap6valuesEv">values</a>()) {</td></tr>
<tr><th id="420">420</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!it-&gt;isActive())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 420, __PRETTY_FUNCTION__, &quot;!it-&gt;isActive()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(420, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3010); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!<a class="local col3 ref" href="#43it" title='it' data-ref="43it" data-ref-filename="43it">it</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Timer.h.html#_ZNK7WebCore9TimerBase8isActiveEv" title='WebCore::TimerBase::isActive' data-ref="_ZNK7WebCore9TimerBase8isActiveEv" data-ref-filename="_ZNK7WebCore9TimerBase8isActiveEv">isActive</a>());</td></tr>
<tr><th id="421">421</th><td>        <a class="local col3 ref" href="#43it" title='it' data-ref="43it" data-ref-filename="43it">it</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="#_ZN11PluginTimer5startEb" title='PluginTimer::start' data-ref="_ZN11PluginTimer5startEb" data-ref-filename="_ZN11PluginTimer5startEb">start</a>(_isCompletelyObscured);</td></tr>
<tr><th id="422">422</th><td>    }    </td></tr>
<tr><th id="423">423</th><td>}</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td>- (<em>void</em>)focusChanged</td></tr>
<tr><th id="426">426</th><td>{</td></tr>
<tr><th id="427">427</th><td>    <i>// We need to null check the event handler here because</i></td></tr>
<tr><th id="428">428</th><td><i>    // the plug-in view can resign focus after it's been stopped</i></td></tr>
<tr><th id="429">429</th><td><i>    // and the event handler has been deleted.</i></td></tr>
<tr><th id="430">430</th><td>    <b>if</b> (<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>_eventHandler)</td></tr>
<tr><th id="431">431</th><td>        _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler12focusChangedEb" title='WebNetscapePluginEventHandler::focusChanged' data-ref="_ZN29WebNetscapePluginEventHandler12focusChangedEb" data-ref-filename="_ZN29WebNetscapePluginEventHandler12focusChangedEb">focusChanged</a>(_hasFocus);</td></tr>
<tr><th id="432">432</th><td>}</td></tr>
<tr><th id="433">433</th><td></td></tr>
<tr><th id="434">434</th><td>- (<em>void</em>)mouseDown:(NSEvent *)<dfn class="local col4 decl" id="44theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="44theEvent" data-ref-filename="44theEvent">theEvent</dfn></td></tr>
<tr><th id="435">435</th><td>{</td></tr>
<tr><th id="436">436</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="437">437</th><td>        <b>return</b>;</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler9mouseDownEP7NSEvent" title='WebNetscapePluginEventHandler::mouseDown' data-ref="_ZN29WebNetscapePluginEventHandler9mouseDownEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler9mouseDownEP7NSEvent">mouseDown</a>(<a class="local col4 ref" href="#44theEvent" title='theEvent' data-ref="44theEvent" data-ref-filename="44theEvent">theEvent</a>);</td></tr>
<tr><th id="440">440</th><td>}</td></tr>
<tr><th id="441">441</th><td></td></tr>
<tr><th id="442">442</th><td>- (<em>void</em>)mouseUp:(NSEvent *)<dfn class="local col5 decl" id="45theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="45theEvent" data-ref-filename="45theEvent">theEvent</dfn></td></tr>
<tr><th id="443">443</th><td>{</td></tr>
<tr><th id="444">444</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="445">445</th><td>        <b>return</b>;</td></tr>
<tr><th id="446">446</th><td></td></tr>
<tr><th id="447">447</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler7mouseUpEP7NSEvent" title='WebNetscapePluginEventHandler::mouseUp' data-ref="_ZN29WebNetscapePluginEventHandler7mouseUpEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler7mouseUpEP7NSEvent">mouseUp</a>(<a class="local col5 ref" href="#45theEvent" title='theEvent' data-ref="45theEvent" data-ref-filename="45theEvent">theEvent</a>);</td></tr>
<tr><th id="448">448</th><td>}</td></tr>
<tr><th id="449">449</th><td></td></tr>
<tr><th id="450">450</th><td>- (<em>void</em>)handleMouseEntered:(NSEvent *)<dfn class="local col6 decl" id="46theEvent" title='theEvent' data-type='NSEvent *' data-ref="46theEvent" data-ref-filename="46theEvent">theEvent</dfn></td></tr>
<tr><th id="451">451</th><td>{</td></tr>
<tr><th id="452">452</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="453">453</th><td>        <b>return</b>;</td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td>    <i>// Set cursor to arrow. Plugins often handle cursor internally, but those that don't will just get this default one.</i></td></tr>
<tr><th id="456">456</th><td>    [[NSCursor arrowCursor] set];</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler12mouseEnteredEP7NSEvent" title='WebNetscapePluginEventHandler::mouseEntered' data-ref="_ZN29WebNetscapePluginEventHandler12mouseEnteredEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler12mouseEnteredEP7NSEvent">mouseEntered</a>(<a class="local col6 ref" href="#46theEvent" title='theEvent' data-ref="46theEvent" data-ref-filename="46theEvent">theEvent</a>);</td></tr>
<tr><th id="459">459</th><td>}</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td>- (<em>void</em>)handleMouseExited:(NSEvent *)<dfn class="local col7 decl" id="47theEvent" title='theEvent' data-type='NSEvent *' data-ref="47theEvent" data-ref-filename="47theEvent">theEvent</dfn></td></tr>
<tr><th id="462">462</th><td>{</td></tr>
<tr><th id="463">463</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="464">464</th><td>        <b>return</b>;</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler11mouseExitedEP7NSEvent" title='WebNetscapePluginEventHandler::mouseExited' data-ref="_ZN29WebNetscapePluginEventHandler11mouseExitedEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler11mouseExitedEP7NSEvent">mouseExited</a>(<a class="local col7 ref" href="#47theEvent" title='theEvent' data-ref="47theEvent" data-ref-filename="47theEvent">theEvent</a>);</td></tr>
<tr><th id="467">467</th><td>    </td></tr>
<tr><th id="468">468</th><td>    <i>// Set cursor back to arrow cursor.  Because NSCursor doesn't know about changes that the plugin made, we could get confused about what we think the</i></td></tr>
<tr><th id="469">469</th><td><i>    // current cursor is otherwise.  Therefore we have no choice but to unconditionally reset the cursor when the mouse exits the plugin.</i></td></tr>
<tr><th id="470">470</th><td>    [[NSCursor arrowCursor] set];</td></tr>
<tr><th id="471">471</th><td>}</td></tr>
<tr><th id="472">472</th><td></td></tr>
<tr><th id="473">473</th><td>- (<em>void</em>)handleMouseMoved:(NSEvent *)<dfn class="local col8 decl" id="48theEvent" title='theEvent' data-type='NSEvent *' data-ref="48theEvent" data-ref-filename="48theEvent">theEvent</dfn></td></tr>
<tr><th id="474">474</th><td>{</td></tr>
<tr><th id="475">475</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="476">476</th><td>        <b>return</b>;</td></tr>
<tr><th id="477">477</th><td></td></tr>
<tr><th id="478">478</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler10mouseMovedEP7NSEvent" title='WebNetscapePluginEventHandler::mouseMoved' data-ref="_ZN29WebNetscapePluginEventHandler10mouseMovedEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler10mouseMovedEP7NSEvent">mouseMoved</a>(<a class="local col8 ref" href="#48theEvent" title='theEvent' data-ref="48theEvent" data-ref-filename="48theEvent">theEvent</a>);</td></tr>
<tr><th id="479">479</th><td>}</td></tr>
<tr><th id="480">480</th><td>    </td></tr>
<tr><th id="481">481</th><td>- (<em>void</em>)mouseDragged:(NSEvent *)<dfn class="local col9 decl" id="49theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="49theEvent" data-ref-filename="49theEvent">theEvent</dfn></td></tr>
<tr><th id="482">482</th><td>{</td></tr>
<tr><th id="483">483</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="484">484</th><td>        <b>return</b>;</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler12mouseDraggedEP7NSEvent" title='WebNetscapePluginEventHandler::mouseDragged' data-ref="_ZN29WebNetscapePluginEventHandler12mouseDraggedEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler12mouseDraggedEP7NSEvent">mouseDragged</a>(<a class="local col9 ref" href="#49theEvent" title='theEvent' data-ref="49theEvent" data-ref-filename="49theEvent">theEvent</a>);</td></tr>
<tr><th id="487">487</th><td>}</td></tr>
<tr><th id="488">488</th><td></td></tr>
<tr><th id="489">489</th><td>- (<em>void</em>)scrollWheel:(NSEvent *)<dfn class="local col0 decl" id="50theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="50theEvent" data-ref-filename="50theEvent">theEvent</dfn></td></tr>
<tr><th id="490">490</th><td>{</td></tr>
<tr><th id="491">491</th><td>    <b>if</b> (!_isStarted) {</td></tr>
<tr><th id="492">492</th><td>        [super scrollWheel:<a class="local col0 ref" href="#50theEvent" title='theEvent' data-ref="50theEvent" data-ref-filename="50theEvent">theEvent</a>];</td></tr>
<tr><th id="493">493</th><td>        <b>return</b>;</td></tr>
<tr><th id="494">494</th><td>    }</td></tr>
<tr><th id="495">495</th><td></td></tr>
<tr><th id="496">496</th><td>    <b>if</b> (!_eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler11scrollWheelEP7NSEvent" title='WebNetscapePluginEventHandler::scrollWheel' data-ref="_ZN29WebNetscapePluginEventHandler11scrollWheelEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler11scrollWheelEP7NSEvent">scrollWheel</a>(<a class="local col0 ref" href="#50theEvent" title='theEvent' data-ref="50theEvent" data-ref-filename="50theEvent">theEvent</a>))</td></tr>
<tr><th id="497">497</th><td>        [super scrollWheel:<a class="local col0 ref" href="#50theEvent" title='theEvent' data-ref="50theEvent" data-ref-filename="50theEvent">theEvent</a>];</td></tr>
<tr><th id="498">498</th><td>}</td></tr>
<tr><th id="499">499</th><td></td></tr>
<tr><th id="500">500</th><td>- (<em>void</em>)keyUp:(NSEvent *)<dfn class="local col1 decl" id="51theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="51theEvent" data-ref-filename="51theEvent">theEvent</dfn></td></tr>
<tr><th id="501">501</th><td>{</td></tr>
<tr><th id="502">502</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="503">503</th><td>        <b>return</b>;</td></tr>
<tr><th id="504">504</th><td></td></tr>
<tr><th id="505">505</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler5keyUpEP7NSEvent" title='WebNetscapePluginEventHandler::keyUp' data-ref="_ZN29WebNetscapePluginEventHandler5keyUpEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler5keyUpEP7NSEvent">keyUp</a>(<a class="local col1 ref" href="#51theEvent" title='theEvent' data-ref="51theEvent" data-ref-filename="51theEvent">theEvent</a>);</td></tr>
<tr><th id="506">506</th><td>}</td></tr>
<tr><th id="507">507</th><td></td></tr>
<tr><th id="508">508</th><td>- (<em>void</em>)keyDown:(NSEvent *)<dfn class="local col2 decl" id="52theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="52theEvent" data-ref-filename="52theEvent">theEvent</dfn></td></tr>
<tr><th id="509">509</th><td>{</td></tr>
<tr><th id="510">510</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="511">511</th><td>        <b>return</b>;</td></tr>
<tr><th id="512">512</th><td></td></tr>
<tr><th id="513">513</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler7keyDownEP7NSEvent" title='WebNetscapePluginEventHandler::keyDown' data-ref="_ZN29WebNetscapePluginEventHandler7keyDownEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler7keyDownEP7NSEvent">keyDown</a>(<a class="local col2 ref" href="#52theEvent" title='theEvent' data-ref="52theEvent" data-ref-filename="52theEvent">theEvent</a>);</td></tr>
<tr><th id="514">514</th><td>}</td></tr>
<tr><th id="515">515</th><td></td></tr>
<tr><th id="516">516</th><td>- (<em>void</em>)flagsChanged:(NSEvent *)<dfn class="local col3 decl" id="53theEvent" title='theEvent' data-type='NSEvent * _Nonnull' data-ref="53theEvent" data-ref-filename="53theEvent">theEvent</dfn></td></tr>
<tr><th id="517">517</th><td>{</td></tr>
<tr><th id="518">518</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="519">519</th><td>        <b>return</b>;</td></tr>
<tr><th id="520">520</th><td></td></tr>
<tr><th id="521">521</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler12flagsChangedEP7NSEvent" title='WebNetscapePluginEventHandler::flagsChanged' data-ref="_ZN29WebNetscapePluginEventHandler12flagsChangedEP7NSEvent" data-ref-filename="_ZN29WebNetscapePluginEventHandler12flagsChangedEP7NSEvent">flagsChanged</a>(<a class="local col3 ref" href="#53theEvent" title='theEvent' data-ref="53theEvent" data-ref-filename="53theEvent">theEvent</a>);</td></tr>
<tr><th id="522">522</th><td>}</td></tr>
<tr><th id="523">523</th><td></td></tr>
<tr><th id="524">524</th><td>- (<em>void</em>)sendModifierEventWithKeyCode:(<em>int</em>)<dfn class="local col4 decl" id="54keyCode" title='keyCode' data-type='int' data-ref="54keyCode" data-ref-filename="54keyCode">keyCode</dfn> character:(<em>char</em>)<dfn class="local col5 decl" id="55character" title='character' data-type='char' data-ref="55character" data-ref-filename="55character">character</dfn></td></tr>
<tr><th id="525">525</th><td>{</td></tr>
<tr><th id="526">526</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="527">527</th><td>        <b>return</b>;</td></tr>
<tr><th id="528">528</th><td>    </td></tr>
<tr><th id="529">529</th><td>    _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler35syntheticKeyDownWithCommandModifierEic" title='WebNetscapePluginEventHandler::syntheticKeyDownWithCommandModifier' data-ref="_ZN29WebNetscapePluginEventHandler35syntheticKeyDownWithCommandModifierEic" data-ref-filename="_ZN29WebNetscapePluginEventHandler35syntheticKeyDownWithCommandModifierEic">syntheticKeyDownWithCommandModifier</a>(<a class="local col4 ref" href="#54keyCode" title='keyCode' data-ref="54keyCode" data-ref-filename="54keyCode">keyCode</a>, <a class="local col5 ref" href="#55character" title='character' data-ref="55character" data-ref-filename="55character">character</a>);</td></tr>
<tr><th id="530">530</th><td>}</td></tr>
<tr><th id="531">531</th><td></td></tr>
<tr><th id="532">532</th><td>- (<em>void</em>)privateBrowsingModeDidChange</td></tr>
<tr><th id="533">533</th><td>{</td></tr>
<tr><th id="534">534</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="535">535</th><td>        <b>return</b>;</td></tr>
<tr><th id="536">536</th><td>    </td></tr>
<tr><th id="537">537</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> <dfn class="local col6 decl" id="56value" title='value' data-type='NPBool' data-ref="56value" data-ref-filename="56value">value</dfn> = _isPrivateBrowsingEnabled;</td></tr>
<tr><th id="538">538</th><td></td></tr>
<tr><th id="539">539</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="540">540</th><td>    {</td></tr>
<tr><th id="541">541</th><td>        <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col7 decl" id="57dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="57dropAllLocks" data-ref-filename="57dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="542">542</th><td>        <b>if</b> ([_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::setvalue" title='_NPPluginFuncs::setvalue' data-ref="_NPPluginFuncs::setvalue" data-ref-filename="_NPPluginFuncs..setvalue">setvalue</a>)</td></tr>
<tr><th id="543">543</th><td>            [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::setvalue" title='_NPPluginFuncs::setvalue' data-ref="_NPPluginFuncs::setvalue" data-ref-filename="_NPPluginFuncs..setvalue">setvalue</a>(plugin, <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVprivateModeBool" title='NPNVprivateModeBool' data-ref="NPNVprivateModeBool" data-ref-filename="NPNVprivateModeBool">NPNVprivateModeBool</a>, &amp;<a class="local col6 ref" href="#56value" title='value' data-ref="56value" data-ref-filename="56value">value</a>);</td></tr>
<tr><th id="544">544</th><td>    }</td></tr>
<tr><th id="545">545</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="546">546</th><td>}</td></tr>
<tr><th id="547">547</th><td></td></tr>
<tr><th id="548">548</th><td><i>// MARK: WEB_NETSCAPE_PLUGIN</i></td></tr>
<tr><th id="549">549</th><td></td></tr>
<tr><th id="550">550</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)isNewWindowEqualToOldWindow</td></tr>
<tr><th id="551">551</th><td>{</td></tr>
<tr><th id="552">552</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::x" title='_NPWindow::x' data-ref="_NPWindow::x" data-ref-filename="_NPWindow..x">x</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::x" title='_NPWindow::x' data-ref="_NPWindow::x" data-ref-filename="_NPWindow..x">x</a>)</td></tr>
<tr><th id="553">553</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="554">554</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::y" title='_NPWindow::y' data-ref="_NPWindow::y" data-ref-filename="_NPWindow..y">y</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::y" title='_NPWindow::y' data-ref="_NPWindow::y" data-ref-filename="_NPWindow..y">y</a>)</td></tr>
<tr><th id="555">555</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="556">556</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a>)</td></tr>
<tr><th id="557">557</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="558">558</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a>)</td></tr>
<tr><th id="559">559</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="560">560</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a>)</td></tr>
<tr><th id="561">561</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="562">562</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a>)</td></tr>
<tr><th id="563">563</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="564">564</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::bottom" title='_NPRect::bottom' data-ref="_NPRect::bottom" data-ref-filename="_NPRect..bottom">bottom</a>  != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::bottom" title='_NPRect::bottom' data-ref="_NPRect::bottom" data-ref-filename="_NPRect..bottom">bottom</a>)</td></tr>
<tr><th id="565">565</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="566">566</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::right" title='_NPRect::right' data-ref="_NPRect::right" data-ref-filename="_NPRect..right">right</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::right" title='_NPRect::right' data-ref="_NPRect::right" data-ref-filename="_NPRect..right">right</a>)</td></tr>
<tr><th id="567">567</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="568">568</th><td>    <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::type" title='_NPWindow::type' data-ref="_NPWindow::type" data-ref-filename="_NPWindow..type">type</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::type" title='_NPWindow::type' data-ref="_NPWindow::type" data-ref-filename="_NPWindow..type">type</a>)</td></tr>
<tr><th id="569">569</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="570">570</th><td>    </td></tr>
<tr><th id="571">571</th><td>    <b>switch</b> (drawingModel) {</td></tr>
<tr><th id="572">572</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>:</td></tr>
<tr><th id="573">573</th><td>            <b>if</b> (nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::window" title='NP_CGContext::window' data-ref="NP_CGContext::window" data-ref-filename="NP_CGContext..window">window</a> != lastSetPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::window" title='NP_CGContext::window' data-ref="NP_CGContext::window" data-ref-filename="NP_CGContext..window">window</a>)</td></tr>
<tr><th id="574">574</th><td>                <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="575">575</th><td>            <b>if</b> (nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::context" title='NP_CGContext::context' data-ref="NP_CGContext::context" data-ref-filename="NP_CGContext..context">context</a> != lastSetPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::context" title='NP_CGContext::context' data-ref="NP_CGContext::context" data-ref-filename="NP_CGContext..context">context</a>)</td></tr>
<tr><th id="576">576</th><td>                <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="577">577</th><td>        <b>break</b>;</td></tr>
<tr><th id="578">578</th><td>                    </td></tr>
<tr><th id="579">579</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>:</td></tr>
<tr><th id="580">580</th><td>          <b>if</b> (window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::window" title='_NPWindow::window' data-ref="_NPWindow::window" data-ref-filename="_NPWindow..window">window</a> != lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::window" title='_NPWindow::window' data-ref="_NPWindow::window" data-ref-filename="_NPWindow..window">window</a>)</td></tr>
<tr><th id="581">581</th><td>              <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="582">582</th><td>          <b>break</b>;</td></tr>
<tr><th id="583">583</th><td>        <b>default</b>:</td></tr>
<tr><th id="584">584</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 584, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(584, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3012); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="585">585</th><td>        <b>break</b>;</td></tr>
<tr><th id="586">586</th><td>    }</td></tr>
<tr><th id="587">587</th><td>    </td></tr>
<tr><th id="588">588</th><td>    <b>return</b> <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="589">589</th><td>}</td></tr>
<tr><th id="590">590</th><td></td></tr>
<tr><th id="591">591</th><td>- (<em>void</em>)updateAndSetWindow</td></tr>
<tr><th id="592">592</th><td>{</td></tr>
<tr><th id="593">593</th><td>    <i>// A plug-in can only update if it's (1) already been started (2) isn't stopped</i></td></tr>
<tr><th id="594">594</th><td><i>    // and (3) is able to draw on-screen. To meet condition (3) the plug-in must not</i></td></tr>
<tr><th id="595">595</th><td><i>    // be hidden and be attached to a window. There are two exceptions to this rule:</i></td></tr>
<tr><th id="596">596</th><td><i>    //</i></td></tr>
<tr><th id="597">597</th><td><i>    // Exception 1: QuickDraw plug-ins must be manually told when to stop writing</i></td></tr>
<tr><th id="598">598</th><td><i>    // bits to the window backing store, thus to do so requires a new call to</i></td></tr>
<tr><th id="599">599</th><td><i>    // NPP_SetWindow() with an empty NPWindow struct.</i></td></tr>
<tr><th id="600">600</th><td><i>    //</i></td></tr>
<tr><th id="601">601</th><td><i>    // Exception 2: CoreGraphics plug-ins expect to have their drawable area updated</i></td></tr>
<tr><th id="602">602</th><td><i>    // when they are moved to a background tab, via a NPP_SetWindow call. This is</i></td></tr>
<tr><th id="603">603</th><td><i>    // accomplished by allowing -saveAndSetNewPortStateForUpdate to "clip-out" the window's</i></td></tr>
<tr><th id="604">604</th><td><i>    // clipRect. Flash is curently an exception to this. See 6453738.</i></td></tr>
<tr><th id="605">605</th><td><i>    //</i></td></tr>
<tr><th id="606">606</th><td>    </td></tr>
<tr><th id="607">607</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="608">608</th><td>        <b>return</b>;</td></tr>
<tr><th id="609">609</th><td>    </td></tr>
<tr><th id="610">610</th><td>    <b>if</b> (![<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> canDraw])</td></tr>
<tr><th id="611">611</th><td>        <b>return</b>;</td></tr>
<tr><th id="612">612</th><td></td></tr>
<tr><th id="613">613</th><td>    <span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span> <dfn class="local col8 decl" id="58didLockFocus" title='didLockFocus' data-type='BOOL' data-ref="58didLockFocus" data-ref-filename="58didLockFocus">didLockFocus</dfn> = [NSView focusView] != <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> &amp;&amp; [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> lockFocusIfCanDraw];</td></tr>
<tr><th id="614">614</th><td></td></tr>
<tr><th id="615">615</th><td>    <a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a> <dfn class="local col9 decl" id="59portState" title='portState' data-type='PortState' data-ref="59portState" data-ref-filename="59portState">portState</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> saveAndSetNewPortState];</td></tr>
<tr><th id="616">616</th><td>    <b>if</b> (<a class="local col9 ref" href="#59portState" title='portState' data-ref="59portState" data-ref-filename="59portState">portState</a>) {</td></tr>
<tr><th id="617">617</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> setWindowIfNecessary];</td></tr>
<tr><th id="618">618</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> restorePortState:<a class="local col9 ref" href="#59portState" title='portState' data-ref="59portState" data-ref-filename="59portState">portState</a>];</td></tr>
<tr><th id="619">619</th><td>        <b>if</b> (<a class="local col9 ref" href="#59portState" title='portState' data-ref="59portState" data-ref-filename="59portState">portState</a> != (<a class="typedef" href="#PortState" title='PortState' data-type='struct OpaquePortState *' data-ref="PortState" data-ref-filename="PortState">PortState</a>)<var>1</var>)</td></tr>
<tr><th id="620">620</th><td>            <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(<a class="local col9 ref" href="#59portState" title='portState' data-ref="59portState" data-ref-filename="59portState">portState</a>);</td></tr>
<tr><th id="621">621</th><td>    } <b>else</b> <b>if</b> (drawingModel == <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>)</td></tr>
<tr><th id="622">622</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> setWindowIfNecessary];        </td></tr>
<tr><th id="623">623</th><td></td></tr>
<tr><th id="624">624</th><td>    <b>if</b> (<a class="local col8 ref" href="#58didLockFocus" title='didLockFocus' data-ref="58didLockFocus" data-ref-filename="58didLockFocus">didLockFocus</a>)</td></tr>
<tr><th id="625">625</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> unlockFocus];</td></tr>
<tr><th id="626">626</th><td>}</td></tr>
<tr><th id="627">627</th><td></td></tr>
<tr><th id="628">628</th><td>- (<em>void</em>)setWindowIfNecessary</td></tr>
<tr><th id="629">629</th><td>{</td></tr>
<tr><th id="630">630</th><td>    <b>if</b> (!_isStarted) </td></tr>
<tr><th id="631">631</th><td>        <b>return</b>;</td></tr>
<tr><th id="632">632</th><td>    </td></tr>
<tr><th id="633">633</th><td>    <b>if</b> (![<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> isNewWindowEqualToOldWindow]) {        </td></tr>
<tr><th id="634">634</th><td>        <i>// Make sure we don't call NPP_HandleEvent while we're inside NPP_SetWindow.</i></td></tr>
<tr><th id="635">635</th><td><i>        // We probably don't want more general reentrancy protection; we are really</i></td></tr>
<tr><th id="636">636</th><td><i>        // protecting only against this one case, which actually comes up when</i></td></tr>
<tr><th id="637">637</th><td><i>        // you first install the SVG viewer plug-in.</i></td></tr>
<tr><th id="638">638</th><td>        <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a> <dfn class="local col0 decl" id="60npErr" title='npErr' data-type='NPError' data-ref="60npErr" data-ref-filename="60npErr">npErr</dfn>;</td></tr>
<tr><th id="639">639</th><td>        </td></tr>
<tr><th id="640">640</th><td>        <span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span> <dfn class="local col1 decl" id="61wasInSetWindow" title='wasInSetWindow' data-type='BOOL' data-ref="61wasInSetWindow" data-ref-filename="61wasInSetWindow">wasInSetWindow</dfn> = inSetWindow;</td></tr>
<tr><th id="641">641</th><td>        inSetWindow = <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;        </td></tr>
<tr><th id="642">642</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="643">643</th><td>        {</td></tr>
<tr><th id="644">644</th><td>            <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col2 decl" id="62dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="62dropAllLocks" data-ref-filename="62dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="645">645</th><td>            <a class="local col0 ref" href="#60npErr" title='npErr' data-ref="60npErr" data-ref-filename="60npErr">npErr</a> = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::setwindow" title='_NPPluginFuncs::setwindow' data-ref="_NPPluginFuncs::setwindow" data-ref-filename="_NPPluginFuncs..setwindow">setwindow</a>(plugin, &amp;window);</td></tr>
<tr><th id="646">646</th><td>        }</td></tr>
<tr><th id="647">647</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="648">648</th><td>        inSetWindow = <a class="local col1 ref" href="#61wasInSetWindow" title='wasInSetWindow' data-ref="61wasInSetWindow" data-ref-filename="61wasInSetWindow">wasInSetWindow</a>;</td></tr>
<tr><th id="649">649</th><td></td></tr>
<tr><th id="650">650</th><td><u>#<span data-ppcond="650">ifndef</span> <span class="macro" data-ref="_M/NDEBUG">NDEBUG</span></u></td></tr>
<tr><th id="651">651</th><td>        <b>switch</b> (drawingModel) {</td></tr>
<tr><th id="652">652</th><td>            <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>:</td></tr>
<tr><th id="653">653</th><td>                <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPP_SetWindow (CoreGraphics): %d, window=%p, context=%p, window.x:%d window.y:%d window.width:%d window.height:%d window.clipRect size:%dx%d&quot;, npErr, nPort.cgPort.window, nPort.cgPort.context, (int)window.x, (int)window.y, (int)window.width, (int)window.height, window.clipRect.right - window.clipRect.left, window.clipRect.bottom - window.clipRect.top)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPP_SetWindow (CoreGraphics): %d, window=%p, context=%p, window.x:%d window.y:%d window.width:%d window.height:%d window.clipRect size:%dx%d"</q>,</td></tr>
<tr><th id="654">654</th><td>                <a class="local col0 ref" href="#60npErr" title='npErr' data-ref="60npErr" data-ref-filename="60npErr">npErr</a>, nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::window" title='NP_CGContext::window' data-ref="NP_CGContext::window" data-ref-filename="NP_CGContext..window">window</a>, nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::context" title='NP_CGContext::context' data-ref="NP_CGContext::context" data-ref-filename="NP_CGContext..context">context</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::x" title='_NPWindow::x' data-ref="_NPWindow::x" data-ref-filename="_NPWindow..x">x</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::y" title='_NPWindow::y' data-ref="_NPWindow::y" data-ref-filename="_NPWindow..y">y</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a>, </td></tr>
<tr><th id="655">655</th><td>                    window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::right" title='_NPRect::right' data-ref="_NPRect::right" data-ref-filename="_NPRect..right">right</a> - window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a>, window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::bottom" title='_NPRect::bottom' data-ref="_NPRect::bottom" data-ref-filename="_NPRect..bottom">bottom</a> - window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::clipRect" title='_NPWindow::clipRect' data-ref="_NPWindow::clipRect" data-ref-filename="_NPWindow..clipRect">clipRect</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a>);</td></tr>
<tr><th id="656">656</th><td>            <b>break</b>;</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td>            <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>:</td></tr>
<tr><th id="659">659</th><td>                <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPP_SetWindow (CoreAnimation): %d, window=%p window.x:%d window.y:%d window.width:%d window.height:%d&quot;, npErr, window.window, nPort.cgPort.context, (int)window.x, (int)window.y, (int)window.width, (int)window.height)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPP_SetWindow (CoreAnimation): %d, window=%p window.x:%d window.y:%d window.width:%d window.height:%d"</q>,</td></tr>
<tr><th id="660">660</th><td>                <a class="local col0 ref" href="#60npErr" title='npErr' data-ref="60npErr" data-ref-filename="60npErr">npErr</a>, window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::window" title='_NPWindow::window' data-ref="_NPWindow::window" data-ref-filename="_NPWindow..window">window</a>, nPort.<a class="ref field" href="WebNetscapePluginView.h.html#PluginPort::cgPort" title='PluginPort::cgPort' data-ref="PluginPort::cgPort" data-ref-filename="PluginPort..cgPort">cgPort</a>.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NP_CGContext::context" title='NP_CGContext::context' data-ref="NP_CGContext::context" data-ref-filename="NP_CGContext..context">context</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::x" title='_NPWindow::x' data-ref="_NPWindow::x" data-ref-filename="_NPWindow..x">x</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::y" title='_NPWindow::y' data-ref="_NPWindow::y" data-ref-filename="_NPWindow..y">y</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::width" title='_NPWindow::width' data-ref="_NPWindow::width" data-ref-filename="_NPWindow..width">width</a>, (<em>int</em>)window.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::height" title='_NPWindow::height' data-ref="_NPWindow::height" data-ref-filename="_NPWindow..height">height</a>);</td></tr>
<tr><th id="661">661</th><td>            <b>break</b>;</td></tr>
<tr><th id="662">662</th><td></td></tr>
<tr><th id="663">663</th><td>            <b>default</b>:</td></tr>
<tr><th id="664">664</th><td>                <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 664, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(664, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3014); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="665">665</th><td>            <b>break</b>;</td></tr>
<tr><th id="666">666</th><td>        }</td></tr>
<tr><th id="667">667</th><td><u>#<span data-ppcond="650">endif</span> /* !defined(NDEBUG) */</u></td></tr>
<tr><th id="668">668</th><td>        </td></tr>
<tr><th id="669">669</th><td>        lastSetWindow <a class="ref fn" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#462" title='_NPWindow::operator=' data-ref="_ZN9_NPWindowaSERKS_" data-ref-filename="_ZN9_NPWindowaSERKS_">=</a> window;</td></tr>
<tr><th id="670">670</th><td>        lastSetPort <a class="ref fn" href="WebNetscapePluginView.h.html#43" title='PluginPort::operator=' data-ref="_ZN10PluginPortaSERKS_" data-ref-filename="_ZN10PluginPortaSERKS_">=</a> nPort;</td></tr>
<tr><th id="671">671</th><td>    }</td></tr>
<tr><th id="672">672</th><td>}</td></tr>
<tr><th id="673">673</th><td></td></tr>
<tr><th id="674">674</th><td>+ (<em>void</em>)setCurrentPluginView:(<a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> *)<dfn class="local col3 decl" id="63view" title='view' data-type='WebNetscapePluginDocumentView *' data-ref="63view" data-ref-filename="63view">view</dfn></td></tr>
<tr><th id="675">675</th><td>{</td></tr>
<tr><th id="676">676</th><td>    <a class="tu ref" href="#currentPluginView" title='currentPluginView' data-use='w' data-ref="currentPluginView" data-ref-filename="currentPluginView">currentPluginView</a> = <a class="local col3 ref" href="#63view" title='view' data-ref="63view" data-ref-filename="63view">view</a>;</td></tr>
<tr><th id="677">677</th><td>}</td></tr>
<tr><th id="678">678</th><td></td></tr>
<tr><th id="679">679</th><td>+ (<a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> *)currentPluginView</td></tr>
<tr><th id="680">680</th><td>{</td></tr>
<tr><th id="681">681</th><td>    <b>return</b> <a class="tu ref" href="#currentPluginView" title='currentPluginView' data-use='r' data-ref="currentPluginView" data-ref-filename="currentPluginView">currentPluginView</a>;</td></tr>
<tr><th id="682">682</th><td>}</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)createPlugin</td></tr>
<tr><th id="685">685</th><td>{</td></tr>
<tr><th id="686">686</th><td>    <i>// Open the plug-in package so it remains loaded while our plugin uses it</i></td></tr>
<tr><th id="687">687</th><td>    [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() open];</td></tr>
<tr><th id="688">688</th><td>    </td></tr>
<tr><th id="689">689</th><td>    <i>// Initialize drawingModel to an invalid value so that we can detect when the plugin does not specify a drawingModel</i></td></tr>
<tr><th id="690">690</th><td>    drawingModel = (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModel" title='NPDrawingModel' data-type='enum NPDrawingModel' data-ref="NPDrawingModel" data-ref-filename="NPDrawingModel">NPDrawingModel</a>)-<var>1</var>;</td></tr>
<tr><th id="691">691</th><td>    </td></tr>
<tr><th id="692">692</th><td>    <i>// Initialize eventModel to an invalid value so that we can detect when the plugin does not specify an event model.</i></td></tr>
<tr><th id="693">693</th><td>    eventModel = (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModel" title='NPEventModel' data-type='enum NPEventModel' data-ref="NPEventModel" data-ref-filename="NPEventModel">NPEventModel</a>)-<var>1</var>;</td></tr>
<tr><th id="694">694</th><td>    </td></tr>
<tr><th id="695">695</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a> <dfn class="local col4 decl" id="64npErr" title='npErr' data-type='NPError' data-ref="64npErr" data-ref-filename="64npErr">npErr</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _createPlugin];</td></tr>
<tr><th id="696">696</th><td>    <b>if</b> (<a class="local col4 ref" href="#64npErr" title='npErr' data-ref="64npErr" data-ref-filename="64npErr">npErr</a> != <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>) {</td></tr>
<tr><th id="697">697</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#481" title="WTFReportError(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 697, __PRETTY_FUNCTION__, &quot;NPP_New failed with error: %d&quot;, npErr)" data-ref="_M/LOG_ERROR">LOG_ERROR</a>(<q>"NPP_New failed with error: %d"</q>, <a class="local col4 ref" href="#64npErr" title='npErr' data-ref="64npErr" data-ref-filename="64npErr">npErr</a>);</td></tr>
<tr><th id="698">698</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _destroyPlugin];</td></tr>
<tr><th id="699">699</th><td>        [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() close];</td></tr>
<tr><th id="700">700</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="701">701</th><td>    }</td></tr>
<tr><th id="702">702</th><td>    </td></tr>
<tr><th id="703">703</th><td>    <b>if</b> (drawingModel == (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModel" title='NPDrawingModel' data-type='enum NPDrawingModel' data-ref="NPDrawingModel" data-ref-filename="NPDrawingModel">NPDrawingModel</a>)-<var>1</var>)</td></tr>
<tr><th id="704">704</th><td>        drawingModel = <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>;</td></tr>
<tr><th id="705">705</th><td></td></tr>
<tr><th id="706">706</th><td>    <b>if</b> (eventModel == (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModel" title='NPEventModel' data-type='enum NPEventModel' data-ref="NPEventModel" data-ref-filename="NPEventModel">NPEventModel</a>)-<var>1</var>)</td></tr>
<tr><th id="707">707</th><td>        eventModel = <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModelCocoa" title='NPEventModelCocoa' data-ref="NPEventModelCocoa" data-ref-filename="NPEventModelCocoa">NPEventModelCocoa</a>;</td></tr>
<tr><th id="708">708</th><td></td></tr>
<tr><th id="709">709</th><td>    <b>if</b> (drawingModel == <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>) {</td></tr>
<tr><th id="710">710</th><td>        <em>void</em> *<dfn class="local col5 decl" id="65value" title='value' data-type='void *' data-ref="65value" data-ref-filename="65value">value</dfn> = <var>0</var>;</td></tr>
<tr><th id="711">711</th><td>        <b>if</b> ([_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a>(plugin, <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVpluginCoreAnimationLayer" title='NPPVpluginCoreAnimationLayer' data-ref="NPPVpluginCoreAnimationLayer" data-ref-filename="NPPVpluginCoreAnimationLayer">NPPVpluginCoreAnimationLayer</a>, &amp;<a class="local col5 ref" href="#65value" title='value' data-ref="65value" data-ref-filename="65value">value</a>) == <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a> &amp;&amp; <a class="local col5 ref" href="#65value" title='value' data-ref="65value" data-ref-filename="65value">value</a>) {</td></tr>
<tr><th id="712">712</th><td></td></tr>
<tr><th id="713">713</th><td>            <i>// The plug-in gives us a retained layer.</i></td></tr>
<tr><th id="714">714</th><td>            _pluginLayer <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE">=</a> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>((CALayer *)<a class="local col5 ref" href="#65value" title='value' data-ref="65value" data-ref-filename="65value">value</a>);</td></tr>
<tr><th id="715">715</th><td></td></tr>
<tr><th id="716">716</th><td>            <span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span> <dfn class="local col6 decl" id="66accleratedCompositingEnabled" title='accleratedCompositingEnabled' data-type='BOOL' data-ref="66accleratedCompositingEnabled" data-ref-filename="66accleratedCompositingEnabled">accleratedCompositingEnabled</dfn> = <b>false</b>;</td></tr>
<tr><th id="717">717</th><td>            <a class="local col6 ref" href="#66accleratedCompositingEnabled" title='accleratedCompositingEnabled' data-ref="66accleratedCompositingEnabled" data-ref-filename="66accleratedCompositingEnabled">accleratedCompositingEnabled</a> = [[[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webView] preferences] acceleratedCompositingEnabled];</td></tr>
<tr><th id="718">718</th><td>            <b>if</b> (<a class="local col6 ref" href="#66accleratedCompositingEnabled" title='accleratedCompositingEnabled' data-ref="66accleratedCompositingEnabled" data-ref-filename="66accleratedCompositingEnabled">accleratedCompositingEnabled</a>) {</td></tr>
<tr><th id="719">719</th><td>                <i>// FIXME: This code can be shared between WebHostedNetscapePluginView and WebNetscapePluginView.</i></td></tr>
<tr><th id="720">720</th><td><i>                // Since this layer isn't going to be inserted into a view, we need to create another layer and flip its geometry</i></td></tr>
<tr><th id="721">721</th><td><i>                // in order to get the coordinate system right.</i></td></tr>
<tr><th id="722">722</th><td>                <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;CALayer&gt; <dfn class="local col7 decl" id="67realPluginLayer" title='realPluginLayer' data-type='RetainPtr&lt;CALayer&gt;' data-ref="67realPluginLayer" data-ref-filename="67realPluginLayer">realPluginLayer</dfn> = <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/StdLibExtras.h.html#568" title="std::move&lt;WTF::CheckMoveParameter&gt;(_pluginLayer)" data-ref="_M/WTFMove">WTFMove</a>(<span class='refarg'>_pluginLayer</span>);</td></tr>
<tr><th id="723">723</th><td>                </td></tr>
<tr><th id="724">724</th><td>                _pluginLayer <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE">=</a> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[CALayer alloc] init]);</td></tr>
<tr><th id="725">725</th><td>                _pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>().bounds = <a class="local col7 ref" href="#67realPluginLayer" title='realPluginLayer' data-ref="67realPluginLayer" data-ref-filename="67realPluginLayer">realPluginLayer</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>().bounds;</td></tr>
<tr><th id="726">726</th><td>                _pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>().geometryFlipped = <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="727">727</th><td></td></tr>
<tr><th id="728">728</th><td>                <a class="local col7 ref" href="#67realPluginLayer" title='realPluginLayer' data-ref="67realPluginLayer" data-ref-filename="67realPluginLayer">realPluginLayer</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>().autoresizingMask = <span class='enum' title='kCALayerWidthSizable' data-ref="kCALayerWidthSizable" data-ref-filename="kCALayerWidthSizable">kCALayerWidthSizable</span> | <span class='enum' title='kCALayerHeightSizable' data-ref="kCALayerHeightSizable" data-ref-filename="kCALayerHeightSizable">kCALayerHeightSizable</span>;</td></tr>
<tr><th id="729">729</th><td>                [_pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() addSublayer:<a class="local col7 ref" href="#67realPluginLayer" title='realPluginLayer' data-ref="67realPluginLayer" data-ref-filename="67realPluginLayer">realPluginLayer</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="730">730</th><td></td></tr>
<tr><th id="731">731</th><td>                <i>// Eagerly enter compositing mode, since we know we'll need it. This avoids firing invalidateStyle()</i></td></tr>
<tr><th id="732">732</th><td><i>                // for iframes that contain composited plugins at bad times. <a href="https://bugs.webkit.org/show_bug.cgi?id=39033">https://bugs.webkit.org/show_bug.cgi?id=39033</a></i></td></tr>
<tr><th id="733">733</th><td>                <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZNK7WebCore5Frame4viewEv" title='WebCore::Frame::view' data-ref="_ZNK7WebCore5Frame4viewEv" data-ref-filename="_ZNK7WebCore5Frame4viewEv">view</a>()-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameView.h.html#_ZN7WebCore9FrameView20enterCompositingModeEv" title='WebCore::FrameView::enterCompositingMode' data-ref="_ZN7WebCore9FrameView20enterCompositingModeEv" data-ref-filename="_ZN7WebCore9FrameView20enterCompositingModeEv">enterCompositingMode</a>();</td></tr>
<tr><th id="734">734</th><td>                [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> element]<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/NakedPtr.h.html#_ZNK3WTF8NakedPtrptEv" title='WTF::NakedPtr::operator-&gt;' data-ref="_ZNK3WTF8NakedPtrptEv" data-ref-filename="_ZNK3WTF8NakedPtrptEv">-&gt;</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Element.h.html#_ZN7WebCore7Element34invalidateStyleAndLayerCompositionEv" title='WebCore::Element::invalidateStyleAndLayerComposition' data-ref="_ZN7WebCore7Element34invalidateStyleAndLayerCompositionEv" data-ref-filename="_ZN7WebCore7Element34invalidateStyleAndLayerCompositionEv">invalidateStyleAndLayerComposition</a>();</td></tr>
<tr><th id="735">735</th><td>            } <b>else</b></td></tr>
<tr><th id="736">736</th><td>                [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> setWantsLayer:<span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>];</td></tr>
<tr><th id="737">737</th><td></td></tr>
<tr><th id="738">738</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;%@ is using Core Animation drawing model with layer %@&quot;, _pluginPackage.get(), _pluginLayer.get())" data-ref="_M/LOG">LOG</a>(Plugins, <q>"%@ is using Core Animation drawing model with layer %@"</q>, _pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>(), _pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>());</td></tr>
<tr><th id="739">739</th><td>        }</td></tr>
<tr><th id="740">740</th><td></td></tr>
<tr><th id="741">741</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_pluginLayer)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 741, __PRETTY_FUNCTION__, &quot;_pluginLayer&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(741, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3016); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_pluginLayer);</td></tr>
<tr><th id="742">742</th><td>    }</td></tr>
<tr><th id="743">743</th><td>    </td></tr>
<tr><th id="744">744</th><td>    <i>// Create the event handler</i></td></tr>
<tr><th id="745">745</th><td>    _eventHandler <span class='ref fn' title='std::__1::unique_ptr::operator=' data-ref="_ZNSt3__110unique_ptraSEONS_10unique_ptrIT_T0_EE" data-ref-filename="_ZNSt3__110unique_ptraSEONS_10unique_ptrIT_T0_EE">=</span> <a class="type" href="WebNetscapePluginEventHandler.h.html#WebNetscapePluginEventHandler" title='WebNetscapePluginEventHandler' data-ref="WebNetscapePluginEventHandler" data-ref-filename="WebNetscapePluginEventHandler">WebNetscapePluginEventHandler</a>::<a class="ref fn" href="WebNetscapePluginEventHandler.h.html#_ZN29WebNetscapePluginEventHandler6createEP29WebNetscapePluginDocumentView" title='WebNetscapePluginEventHandler::create' data-ref="_ZN29WebNetscapePluginEventHandler6createEP29WebNetscapePluginDocumentView" data-ref-filename="_ZN29WebNetscapePluginEventHandler6createEP29WebNetscapePluginDocumentView">create</a>(<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>);</td></tr>
<tr><th id="746">746</th><td></td></tr>
<tr><th id="747">747</th><td>    <b>return</b> <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="748">748</th><td>}</td></tr>
<tr><th id="749">749</th><td></td></tr>
<tr><th id="750">750</th><td><i>// FIXME: This method is an ideal candidate to move up to the base class</i></td></tr>
<tr><th id="751">751</th><td>- (CALayer *)pluginLayer</td></tr>
<tr><th id="752">752</th><td>{</td></tr>
<tr><th id="753">753</th><td>    <b>return</b> _pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>();</td></tr>
<tr><th id="754">754</th><td>}</td></tr>
<tr><th id="755">755</th><td></td></tr>
<tr><th id="756">756</th><td>- (<em>void</em>)setLayer:(CALayer *)<dfn class="local col8 decl" id="68newLayer" title='newLayer' data-type='CALayer * _Nullable' data-ref="68newLayer" data-ref-filename="68newLayer">newLayer</dfn></td></tr>
<tr><th id="757">757</th><td>{</td></tr>
<tr><th id="758">758</th><td>    [super setLayer:<a class="local col8 ref" href="#68newLayer" title='newLayer' data-ref="68newLayer" data-ref-filename="68newLayer">newLayer</a>];</td></tr>
<tr><th id="759">759</th><td></td></tr>
<tr><th id="760">760</th><td>    <b>if</b> (<a class="local col8 ref" href="#68newLayer" title='newLayer' data-ref="68newLayer" data-ref-filename="68newLayer">newLayer</a> &amp;&amp; <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvbEv" title='WTF::RetainPtr::operator bool' data-ref="_ZNK3WTF9RetainPtrcvbEv" data-ref-filename="_ZNK3WTF9RetainPtrcvbEv"></a>_pluginLayer) {</td></tr>
<tr><th id="761">761</th><td>        _pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>().frame = [<a class="local col8 ref" href="#68newLayer" title='newLayer' data-ref="68newLayer" data-ref-filename="68newLayer">newLayer</a> frame];</td></tr>
<tr><th id="762">762</th><td>        _pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>().autoresizingMask = <span class='enum' title='kCALayerWidthSizable' data-ref="kCALayerWidthSizable" data-ref-filename="kCALayerWidthSizable">kCALayerWidthSizable</span> | <span class='enum' title='kCALayerHeightSizable' data-ref="kCALayerHeightSizable" data-ref-filename="kCALayerHeightSizable">kCALayerHeightSizable</span>;</td></tr>
<tr><th id="763">763</th><td>        [<a class="local col8 ref" href="#68newLayer" title='newLayer' data-ref="68newLayer" data-ref-filename="68newLayer">newLayer</a> addSublayer:_pluginLayer.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="764">764</th><td>    }</td></tr>
<tr><th id="765">765</th><td>}</td></tr>
<tr><th id="766">766</th><td></td></tr>
<tr><th id="767">767</th><td>- (<em>void</em>)loadStream</td></tr>
<tr><th id="768">768</th><td>{</td></tr>
<tr><th id="769">769</th><td>    <b>if</b> ([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _shouldCancelSrcStream])</td></tr>
<tr><th id="770">770</th><td>        <b>return</b>;</td></tr>
<tr><th id="771">771</th><td>    </td></tr>
<tr><th id="772">772</th><td>    <b>if</b> (_loadManually) {</td></tr>
<tr><th id="773">773</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _redeliverStream];</td></tr>
<tr><th id="774">774</th><td>        <b>return</b>;</td></tr>
<tr><th id="775">775</th><td>    }</td></tr>
<tr><th id="776">776</th><td>    </td></tr>
<tr><th id="777">777</th><td>    <i>// If the OBJECT/EMBED tag has no SRC, the URL is passed to us as "".</i></td></tr>
<tr><th id="778">778</th><td><i>    // Check for this and don't start a load in this case.</i></td></tr>
<tr><th id="779">779</th><td>    <b>if</b> (<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvbEv" title='WTF::RetainPtr::operator bool' data-ref="_ZNK3WTF9RetainPtrcvbEv" data-ref-filename="_ZNK3WTF9RetainPtrcvbEv"></a>_sourceURL &amp;&amp; ![_sourceURL.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() _web_isEmpty]) {</td></tr>
<tr><th id="780">780</th><td>        NSMutableURLRequest *<dfn class="local col9 decl" id="69request" title='request' data-type='NSMutableURLRequest *' data-ref="69request" data-ref-filename="69request">request</dfn> = [NSMutableURLRequest requestWithURL:_sourceURL.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="781">781</th><td>        [<a class="local col9 ref" href="#69request" title='request' data-ref="69request" data-ref-filename="69request">request</a> _web_setHTTPReferrer:<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6StringcvP8NSStringEv" title='WTF::String::operator NSString *' data-ref="_ZNK3WTF6StringcvP8NSStringEv" data-ref-filename="_ZNK3WTF6StringcvP8NSStringEv"></a><a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6loaderEv" title='WebCore::Frame::loader' data-ref="_ZN7WebCore5Frame6loaderEv" data-ref-filename="_ZN7WebCore5Frame6loaderEv">loader</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameLoader.h.html#_ZNK7WebCore11FrameLoader16outgoingReferrerEv" title='WebCore::FrameLoader::outgoingReferrer' data-ref="_ZNK7WebCore11FrameLoader16outgoingReferrerEv" data-ref-filename="_ZNK7WebCore11FrameLoader16outgoingReferrerEv">outgoingReferrer</a>()];</td></tr>
<tr><th id="782">782</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> loadRequest:<a class="local col9 ref" href="#69request" title='request' data-ref="69request" data-ref-filename="69request">request</a> inTarget:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span> withNotifyData:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span> sendNotification:<span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>];</td></tr>
<tr><th id="783">783</th><td>    } </td></tr>
<tr><th id="784">784</th><td>}</td></tr>
<tr><th id="785">785</th><td></td></tr>
<tr><th id="786">786</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)shouldStop</td></tr>
<tr><th id="787">787</th><td>{</td></tr>
<tr><th id="788">788</th><td>    <i>// If we're already calling a plug-in function, do not call NPP_Destroy().  The plug-in function we are calling</i></td></tr>
<tr><th id="789">789</th><td><i>    // may assume that its instance-&gt;pdata, or other memory freed by NPP_Destroy(), is valid and unchanged until said</i></td></tr>
<tr><th id="790">790</th><td><i>    // plugin-function returns.</i></td></tr>
<tr><th id="791">791</th><td><i>    // See &lt;rdar://problem/4480737&gt;.</i></td></tr>
<tr><th id="792">792</th><td>    <b>if</b> (pluginFunctionCallDepth &gt; <var>0</var>) {</td></tr>
<tr><th id="793">793</th><td>        shouldStopSoon = <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="794">794</th><td>        <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="795">795</th><td>    }</td></tr>
<tr><th id="796">796</th><td></td></tr>
<tr><th id="797">797</th><td>    <b>return</b> <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="798">798</th><td>}</td></tr>
<tr><th id="799">799</th><td></td></tr>
<tr><th id="800">800</th><td>- (<em>void</em>)destroyPlugin</td></tr>
<tr><th id="801">801</th><td>{</td></tr>
<tr><th id="802">802</th><td>    <i>// To stop active streams it's necessary to invoke stop() on a copy </i></td></tr>
<tr><th id="803">803</th><td><i>    // of streams. This is because calling WebNetscapePluginStream::stop() also has the side effect</i></td></tr>
<tr><th id="804">804</th><td><i>    // of removing a stream from this hash set.</i></td></tr>
<tr><th id="805">805</th><td>    <b>for</b> (<em>auto</em>&amp; <dfn class="local col0 decl" id="70stream" title='stream' data-type='WTF::RefPtr&lt;WebNetscapePluginStream, WTF::RawPtrTraits&lt;WebNetscapePluginStream&gt;, WTF::DefaultRefDerefTraits&lt;WebNetscapePluginStream&gt;&gt; &amp;' data-ref="70stream" data-ref-filename="70stream">stream</dfn> : <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF12copyToVectorERKT_" title='WTF::copyToVector' data-ref="_ZN3WTF12copyToVectorERKT_" data-ref-filename="_ZN3WTF12copyToVectorERKT_">copyToVector</a>(streams))</td></tr>
<tr><th id="806">806</th><td>        <a class="local col0 ref" href="#70stream" title='stream' data-ref="70stream" data-ref-filename="70stream">stream</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream4stopEv" title='WebNetscapePluginStream::stop' data-ref="_ZN23WebNetscapePluginStream4stopEv" data-ref-filename="_ZN23WebNetscapePluginStream4stopEv">stop</a>();</td></tr>
<tr><th id="807">807</th><td></td></tr>
<tr><th id="808">808</th><td>    <b>for</b> (WebFrame *<dfn class="local col1 decl" id="71frame" title='frame' data-type='WebFrame *' data-ref="71frame" data-ref-filename="71frame">frame</dfn> in [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a>_pendingFrameLoads keyEnumerator])</td></tr>
<tr><th id="809">809</th><td>        [<a class="local col1 ref" href="#71frame" title='frame' data-ref="71frame" data-ref-filename="71frame">frame</a> _setInternalLoadDelegate:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span>];</td></tr>
<tr><th id="810">810</th><td>    [NSObject cancelPreviousPerformRequestsWithTarget:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>];</td></tr>
<tr><th id="811">811</th><td></td></tr>
<tr><th id="812">812</th><td>    <i>// Setting the window type to 0 ensures that NPP_SetWindow will be called if the plug-in is restarted.</i></td></tr>
<tr><th id="813">813</th><td>    lastSetWindow.<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPWindow::type" title='_NPWindow::type' data-ref="_NPWindow::type" data-ref-filename="_NPWindow..type">type</a> = (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPWindowType" title='NPWindowType' data-type='enum NPWindowType' data-ref="NPWindowType" data-ref-filename="NPWindowType">NPWindowType</a>)<var>0</var>;</td></tr>
<tr><th id="814">814</th><td>    </td></tr>
<tr><th id="815">815</th><td>    _pluginLayer <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE" data-ref-filename="_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE">=</a> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="816">816</th><td>    </td></tr>
<tr><th id="817">817</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _destroyPlugin];</td></tr>
<tr><th id="818">818</th><td>    [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() close];</td></tr>
<tr><th id="819">819</th><td>    </td></tr>
<tr><th id="820">820</th><td>    _eventHandler <span class='ref fn' title='std::__1::unique_ptr::operator=' data-ref="_ZNSt3__110unique_ptraSEDn" data-ref-filename="_ZNSt3__110unique_ptraSEDn">=</span> <b>nullptr</b>;</td></tr>
<tr><th id="821">821</th><td>}</td></tr>
<tr><th id="822">822</th><td></td></tr>
<tr><th id="823">823</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModel" title='NPEventModel' data-type='enum NPEventModel' data-ref="NPEventModel" data-ref-filename="NPEventModel">NPEventModel</a>)eventModel</td></tr>
<tr><th id="824">824</th><td>{</td></tr>
<tr><th id="825">825</th><td>    <b>return</b> eventModel;</td></tr>
<tr><th id="826">826</th><td>}</td></tr>
<tr><th id="827">827</th><td></td></tr>
<tr><th id="828">828</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP" title='NPP' data-type='NPP_t *' data-ref="NPP" data-ref-filename="NPP">NPP</a>)plugin</td></tr>
<tr><th id="829">829</th><td>{</td></tr>
<tr><th id="830">830</th><td>    <b>return</b> plugin;</td></tr>
<tr><th id="831">831</th><td>}</td></tr>
<tr><th id="832">832</th><td></td></tr>
<tr><th id="833">833</th><td>- (<em>void</em>)setAttributeKeys:(NSArray *)<dfn class="local col2 decl" id="72keys" title='keys' data-type='NSArray *' data-ref="72keys" data-ref-filename="72keys">keys</dfn> andValues:(NSArray *)<dfn class="local col3 decl" id="73values" title='values' data-type='NSArray *' data-ref="73values" data-ref-filename="73values">values</dfn></td></tr>
<tr><th id="834">834</th><td>{</td></tr>
<tr><th id="835">835</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([keys count] == [values count])) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 835, __PRETTY_FUNCTION__, &quot;[keys count] == [values count]&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(835, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3018); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([<a class="local col2 ref" href="#72keys" title='keys' data-ref="72keys" data-ref-filename="72keys">keys</a> count] == [<a class="local col3 ref" href="#73values" title='values' data-ref="73values" data-ref-filename="73values">values</a> count]);</td></tr>
<tr><th id="836">836</th><td>    </td></tr>
<tr><th id="837">837</th><td>    <i>// Convert the attributes to 2 C string arrays.</i></td></tr>
<tr><th id="838">838</th><td><i>    // These arrays are passed to NPP_New, but the strings need to be</i></td></tr>
<tr><th id="839">839</th><td><i>    // modifiable and live the entire life of the plugin.</i></td></tr>
<tr><th id="840">840</th><td><i></i></td></tr>
<tr><th id="841">841</th><td><i>    // The Java plug-in requires the first argument to be the base URL</i></td></tr>
<tr><th id="842">842</th><td>    <b>if</b> ([_MIMEType.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() isEqualToString:@<q>"application/x-java-applet"</q>]) {</td></tr>
<tr><th id="843">843</th><td>        cAttributes = (<em>char</em> **)<span class='ref fn' title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</span>(([<a class="local col2 ref" href="#72keys" title='keys' data-ref="72keys" data-ref-filename="72keys">keys</a> count] + <var>1</var>) * <b>sizeof</b>(<em>char</em> *));</td></tr>
<tr><th id="844">844</th><td>        cValues = (<em>char</em> **)<span class='ref fn' title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</span>(([<a class="local col3 ref" href="#73values" title='values' data-ref="73values" data-ref-filename="73values">values</a> count] + <var>1</var>) * <b>sizeof</b>(<em>char</em> *));</td></tr>
<tr><th id="845">845</th><td>        cAttributes[<var>0</var>] = <span class='ref fn' title='strdup' data-ref="strdup" data-ref-filename="strdup">strdup</span>(<q>"DOCBASE"</q>);</td></tr>
<tr><th id="846">846</th><td>        cValues[<var>0</var>] = <span class='ref fn' title='strdup' data-ref="strdup" data-ref-filename="strdup">strdup</span>([_baseURL.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() _web_URLCString]);</td></tr>
<tr><th id="847">847</th><td>        argsCount++;</td></tr>
<tr><th id="848">848</th><td>    } <b>else</b> {</td></tr>
<tr><th id="849">849</th><td>        cAttributes = (<em>char</em> **)<span class='ref fn' title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</span>([<a class="local col2 ref" href="#72keys" title='keys' data-ref="72keys" data-ref-filename="72keys">keys</a> count] * <b>sizeof</b>(<em>char</em> *));</td></tr>
<tr><th id="850">850</th><td>        cValues = (<em>char</em> **)<span class='ref fn' title='malloc' data-ref="malloc" data-ref-filename="malloc">malloc</span>([<a class="local col3 ref" href="#73values" title='values' data-ref="73values" data-ref-filename="73values">values</a> count] * <b>sizeof</b>(<em>char</em> *));</td></tr>
<tr><th id="851">851</th><td>    }</td></tr>
<tr><th id="852">852</th><td></td></tr>
<tr><th id="853">853</th><td>    <span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span> <dfn class="local col4 decl" id="74isWMP" title='isWMP' data-type='BOOL' data-ref="74isWMP" data-ref-filename="74isWMP">isWMP</dfn> = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() bundleIdentifier] <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZN3WTFeqERKNS_6StringEPKc" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6StringEPKc" data-ref-filename="_ZN3WTFeqERKNS_6StringEPKc">==</a> <q>"com.microsoft.WMP.defaultplugin"</q>;</td></tr>
<tr><th id="854">854</th><td>    </td></tr>
<tr><th id="855">855</th><td>    <em>unsigned</em> <dfn class="local col5 decl" id="75i" title='i' data-type='unsigned int' data-ref="75i" data-ref-filename="75i">i</dfn>;</td></tr>
<tr><th id="856">856</th><td>    <em>unsigned</em> <dfn class="local col6 decl" id="76count" title='count' data-type='unsigned int' data-ref="76count" data-ref-filename="76count">count</dfn> = [<a class="local col2 ref" href="#72keys" title='keys' data-ref="72keys" data-ref-filename="72keys">keys</a> count];</td></tr>
<tr><th id="857">857</th><td>    <b>for</b> (<a class="local col5 ref" href="#75i" title='i' data-ref="75i" data-ref-filename="75i">i</a> = <var>0</var>; <a class="local col5 ref" href="#75i" title='i' data-ref="75i" data-ref-filename="75i">i</a> &lt; <a class="local col6 ref" href="#76count" title='count' data-ref="76count" data-ref-filename="76count">count</a>; <a class="local col5 ref" href="#75i" title='i' data-ref="75i" data-ref-filename="75i">i</a>++) {</td></tr>
<tr><th id="858">858</th><td>        NSString *<dfn class="local col7 decl" id="77key" title='key' data-type='NSString *' data-ref="77key" data-ref-filename="77key">key</dfn> = [<a class="local col2 ref" href="#72keys" title='keys' data-ref="72keys" data-ref-filename="72keys">keys</a> objectAtIndex:<a class="local col5 ref" href="#75i" title='i' data-ref="75i" data-ref-filename="75i">i</a>];</td></tr>
<tr><th id="859">859</th><td>        NSString *<dfn class="local col8 decl" id="78value" title='value' data-type='NSString *' data-ref="78value" data-ref-filename="78value">value</dfn> = [<a class="local col3 ref" href="#73values" title='values' data-ref="73values" data-ref-filename="73values">values</a> objectAtIndex:<a class="local col5 ref" href="#75i" title='i' data-ref="75i" data-ref-filename="75i">i</a>];</td></tr>
<tr><th id="860">860</th><td>        <b>if</b> ([<a class="local col7 ref" href="#77key" title='key' data-ref="77key" data-ref-filename="77key">key</a> _webkit_isCaseInsensitiveEqualToString:@<q>"height"</q>]) {</td></tr>
<tr><th id="861">861</th><td>            specifiedHeight = [<a class="local col8 ref" href="#78value" title='value' data-ref="78value" data-ref-filename="78value">value</a> intValue];</td></tr>
<tr><th id="862">862</th><td>        } <b>else</b> <b>if</b> ([<a class="local col7 ref" href="#77key" title='key' data-ref="77key" data-ref-filename="77key">key</a> _webkit_isCaseInsensitiveEqualToString:@<q>"width"</q>]) {</td></tr>
<tr><th id="863">863</th><td>            specifiedWidth = [<a class="local col8 ref" href="#78value" title='value' data-ref="78value" data-ref-filename="78value">value</a> intValue];</td></tr>
<tr><th id="864">864</th><td>        }</td></tr>
<tr><th id="865">865</th><td>        <i>// Avoid Window Media Player crash when these attributes are present.</i></td></tr>
<tr><th id="866">866</th><td>        <b>if</b> (<a class="local col4 ref" href="#74isWMP" title='isWMP' data-ref="74isWMP" data-ref-filename="74isWMP">isWMP</a> &amp;&amp; ([<a class="local col7 ref" href="#77key" title='key' data-ref="77key" data-ref-filename="77key">key</a> _webkit_isCaseInsensitiveEqualToString:@<q>"SAMIStyle"</q>] || [<a class="local col7 ref" href="#77key" title='key' data-ref="77key" data-ref-filename="77key">key</a> _webkit_isCaseInsensitiveEqualToString:@<q>"SAMILang"</q>])) {</td></tr>
<tr><th id="867">867</th><td>            <b>continue</b>;</td></tr>
<tr><th id="868">868</th><td>        }</td></tr>
<tr><th id="869">869</th><td>        cAttributes[argsCount] = <span class='ref fn' title='strdup' data-ref="strdup" data-ref-filename="strdup">strdup</span>([<a class="local col7 ref" href="#77key" title='key' data-ref="77key" data-ref-filename="77key">key</a> UTF8String]);</td></tr>
<tr><th id="870">870</th><td>        cValues[argsCount] = <span class='ref fn' title='strdup' data-ref="strdup" data-ref-filename="strdup">strdup</span>([<a class="local col8 ref" href="#78value" title='value' data-ref="78value" data-ref-filename="78value">value</a> UTF8String]);</td></tr>
<tr><th id="871">871</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;%@ = %@&quot;, key, value)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"%@ = %@"</q>, <a class="local col7 ref" href="#77key" title='key' data-ref="77key" data-ref-filename="77key">key</a>, <a class="local col8 ref" href="#78value" title='value' data-ref="78value" data-ref-filename="78value">value</a>);</td></tr>
<tr><th id="872">872</th><td>        argsCount++;</td></tr>
<tr><th id="873">873</th><td>    }</td></tr>
<tr><th id="874">874</th><td>}</td></tr>
<tr><th id="875">875</th><td></td></tr>
<tr><th id="876">876</th><td><i>// MARK: NSVIEW</i></td></tr>
<tr><th id="877">877</th><td></td></tr>
<tr><th id="878">878</th><td>- (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)initWithFrame:(<span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)<dfn class="local col9 decl" id="79frame" title='frame' data-type='NSRect' data-ref="79frame" data-ref-filename="79frame">frame</dfn></td></tr>
<tr><th id="879">879</th><td>      pluginPackage:(WebNetscapePluginPackage *)<dfn class="local col0 decl" id="80pluginPackage" title='pluginPackage' data-type='WebNetscapePluginPackage *' data-ref="80pluginPackage" data-ref-filename="80pluginPackage">pluginPackage</dfn></td></tr>
<tr><th id="880">880</th><td>                URL:(NSURL *)<dfn class="local col1 decl" id="81URL" title='URL' data-type='NSURL *' data-ref="81URL" data-ref-filename="81URL">URL</dfn></td></tr>
<tr><th id="881">881</th><td>            baseURL:(NSURL *)<dfn class="local col2 decl" id="82baseURL" title='baseURL' data-type='NSURL *' data-ref="82baseURL" data-ref-filename="82baseURL">baseURL</dfn></td></tr>
<tr><th id="882">882</th><td>           MIMEType:(NSString *)<dfn class="local col3 decl" id="83MIME" title='MIME' data-type='NSString *' data-ref="83MIME" data-ref-filename="83MIME">MIME</dfn></td></tr>
<tr><th id="883">883</th><td>      attributeKeys:(NSArray *)<dfn class="local col4 decl" id="84keys" title='keys' data-type='NSArray *' data-ref="84keys" data-ref-filename="84keys">keys</dfn></td></tr>
<tr><th id="884">884</th><td>    attributeValues:(NSArray *)<dfn class="local col5 decl" id="85values" title='values' data-type='NSArray *' data-ref="85values" data-ref-filename="85values">values</dfn></td></tr>
<tr><th id="885">885</th><td>       loadManually:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col6 decl" id="86loadManually" title='loadManually' data-type='BOOL' data-ref="86loadManually" data-ref-filename="86loadManually">loadManually</dfn></td></tr>
<tr><th id="886">886</th><td>            element:(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RefPtr" title='WTF::RefPtr' data-ref="WTF::RefPtr" data-ref-filename="WTF..RefPtr">RefPtr</a>&lt;<span class="namespace">WebCore::</span><a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/HTMLPlugInElement.h.html#WebCore::HTMLPlugInElement" title='WebCore::HTMLPlugInElement' data-ref="WebCore::HTMLPlugInElement" data-ref-filename="WebCore..HTMLPlugInElement">HTMLPlugInElement</a>&gt;&amp;&amp;)<dfn class="local col7 decl" id="87element" title='element' data-type='RefPtr&lt;WebCore::HTMLPlugInElement&gt; &amp;&amp;' data-ref="87element" data-ref-filename="87element">element</dfn></td></tr>
<tr><th id="887">887</th><td>{</td></tr>
<tr><th id="888">888</th><td>    <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> = [super initWithFrame:<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col9 ref" href="#79frame" title='frame' data-ref="79frame" data-ref-filename="79frame">frame</a> pluginPackage:<a class="local col0 ref" href="#80pluginPackage" title='pluginPackage' data-ref="80pluginPackage" data-ref-filename="80pluginPackage">pluginPackage</a> URL:<a class="local col1 ref" href="#81URL" title='URL' data-ref="81URL" data-ref-filename="81URL">URL</a> baseURL:<a class="local col2 ref" href="#82baseURL" title='baseURL' data-ref="82baseURL" data-ref-filename="82baseURL">baseURL</a> MIMEType:<a class="local col3 ref" href="#83MIME" title='MIME' data-ref="83MIME" data-ref-filename="83MIME">MIME</a> attributeKeys:<a class="local col4 ref" href="#84keys" title='keys' data-ref="84keys" data-ref-filename="84keys">keys</a> attributeValues:<a class="local col5 ref" href="#85values" title='values' data-ref="85values" data-ref-filename="85values">values</a> loadManually:<a class="local col6 ref" href="#86loadManually" title='loadManually' data-ref="86loadManually" data-ref-filename="86loadManually">loadManually</a> element:<a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/StdLibExtras.h.html#568" title="std::move&lt;WTF::CheckMoveParameter&gt;(element)" data-ref="_M/WTFMove">WTFMove</a>(<span class='refarg'><a class="local col7 ref" href="#87element" title='element' data-ref="87element" data-ref-filename="87element">element</a></span>)];</td></tr>
<tr><th id="889">889</th><td>    <b>if</b> (!<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>)</td></tr>
<tr><th id="890">890</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="891">891</th><td></td></tr>
<tr><th id="892">892</th><td>    _pendingFrameLoads <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtraSEONS_9RetainPtrIT_EE">=</a> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSMapTable alloc] initWithKeyOptions:<span class='enum' title='NSPointerFunctionsStrongMemory' data-ref="NSPointerFunctionsStrongMemory" data-ref-filename="NSPointerFunctionsStrongMemory">NSPointerFunctionsStrongMemory</span> valueOptions:<span class='enum' title='NSPointerFunctionsStrongMemory' data-ref="NSPointerFunctionsStrongMemory" data-ref-filename="NSPointerFunctionsStrongMemory">NSPointerFunctionsStrongMemory</span> capacity:<var>0</var>]);</td></tr>
<tr><th id="893">893</th><td></td></tr>
<tr><th id="894">894</th><td>    <i>// load the plug-in if it is not already loaded</i></td></tr>
<tr><th id="895">895</th><td>    <b>if</b> (![<a class="local col0 ref" href="#80pluginPackage" title='pluginPackage' data-ref="80pluginPackage" data-ref-filename="80pluginPackage">pluginPackage</a> load]) {</td></tr>
<tr><th id="896">896</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> release];</td></tr>
<tr><th id="897">897</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="898">898</th><td>    }</td></tr>
<tr><th id="899">899</th><td></td></tr>
<tr><th id="900">900</th><td>    <b>return</b> <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>;</td></tr>
<tr><th id="901">901</th><td>}</td></tr>
<tr><th id="902">902</th><td></td></tr>
<tr><th id="903">903</th><td>- (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)initWithFrame:(<span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)<dfn class="local col8 decl" id="88frame" title='frame' data-type='NSRect' data-ref="88frame" data-ref-filename="88frame">frame</dfn></td></tr>
<tr><th id="904">904</th><td>{</td></tr>
<tr><th id="905">905</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 905, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(905, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3020); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="906">906</th><td>    <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="907">907</th><td>}</td></tr>
<tr><th id="908">908</th><td></td></tr>
<tr><th id="909">909</th><td>- (<em>void</em>)fini</td></tr>
<tr><th id="910">910</th><td>{</td></tr>
<tr><th id="911">911</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col9 decl" id="89i" title='i' data-type='unsigned int' data-ref="89i" data-ref-filename="89i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#89i" title='i' data-ref="89i" data-ref-filename="89i">i</a> &lt; argsCount; <a class="local col9 ref" href="#89i" title='i' data-ref="89i" data-ref-filename="89i">i</a>++) {</td></tr>
<tr><th id="912">912</th><td>        <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(cAttributes[<a class="local col9 ref" href="#89i" title='i' data-ref="89i" data-ref-filename="89i">i</a>]);</td></tr>
<tr><th id="913">913</th><td>        <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(cValues[<a class="local col9 ref" href="#89i" title='i' data-ref="89i" data-ref-filename="89i">i</a>]);</td></tr>
<tr><th id="914">914</th><td>    }</td></tr>
<tr><th id="915">915</th><td>    <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(cAttributes);</td></tr>
<tr><th id="916">916</th><td>    <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(cValues);</td></tr>
<tr><th id="917">917</th><td>    </td></tr>
<tr><th id="918">918</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!_eventHandler)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 918, __PRETTY_FUNCTION__, &quot;!_eventHandler&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(918, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3022); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>_eventHandler);</td></tr>
<tr><th id="919">919</th><td>}</td></tr>
<tr><th id="920">920</th><td></td></tr>
<tr><th id="921">921</th><td>- (<em>void</em>)disconnectStream:(<a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>*)<dfn class="local col0 decl" id="90stream" title='stream' data-type='WebNetscapePluginStream *' data-ref="90stream" data-ref-filename="90stream">stream</dfn></td></tr>
<tr><th id="922">922</th><td>{</td></tr>
<tr><th id="923">923</th><td>    streams.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashSet.h.html#_ZN3WTF7HashSet6removeENS_12GetPtrHelperITL0__E7PtrTypeE" title='WTF::HashSet::remove' data-ref="_ZN3WTF7HashSet6removeENS_12GetPtrHelperITL0__E7PtrTypeE" data-ref-filename="_ZN3WTF7HashSet6removeENS_12GetPtrHelperITL0__E7PtrTypeE">remove</a>(<a class="local col0 ref" href="#90stream" title='stream' data-ref="90stream" data-ref-filename="90stream">stream</a>);</td></tr>
<tr><th id="924">924</th><td>}</td></tr>
<tr><th id="925">925</th><td></td></tr>
<tr><th id="926">926</th><td>- (<em>void</em>)dealloc</td></tr>
<tr><th id="927">927</th><td>{</td></tr>
<tr><th id="928">928</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!_isStarted)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 928, __PRETTY_FUNCTION__, &quot;!_isStarted&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(928, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3024); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!_isStarted);</td></tr>
<tr><th id="929">929</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!plugin)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 929, __PRETTY_FUNCTION__, &quot;!plugin&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(929, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3026); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!plugin);</td></tr>
<tr><th id="930">930</th><td></td></tr>
<tr><th id="931">931</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> fini];</td></tr>
<tr><th id="932">932</th><td></td></tr>
<tr><th id="933">933</th><td>    [super dealloc];</td></tr>
<tr><th id="934">934</th><td>}</td></tr>
<tr><th id="935">935</th><td></td></tr>
<tr><th id="936">936</th><td>- (<em>void</em>)drawRect:(<span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)<dfn class="local col1 decl" id="91rect" title='rect' data-type='NSRect' data-ref="91rect" data-ref-filename="91rect">rect</dfn></td></tr>
<tr><th id="937">937</th><td>{</td></tr>
<tr><th id="938">938</th><td>    <b>if</b> (<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvbEv" title='WTF::RetainPtr::operator bool' data-ref="_ZNK3WTF9RetainPtrcvbEv" data-ref-filename="_ZNK3WTF9RetainPtrcvbEv"></a>_cachedSnapshot) {</td></tr>
<tr><th id="939">939</th><td>        <span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col2 decl" id="92sourceRect" title='sourceRect' data-type='NSRect' data-ref="92sourceRect" data-ref-filename="92sourceRect">sourceRect</dfn> = { <span class='ref' title='NSZeroPoint' data-ref="NSZeroPoint" data-ref-filename="NSZeroPoint">NSZeroPoint</span>, [_cachedSnapshot.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() size] };</td></tr>
<tr><th id="940">940</th><td>        [_cachedSnapshot.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() drawInRect:[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> bounds] fromRect:<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col2 ref" href="#92sourceRect" title='sourceRect' data-ref="92sourceRect" data-ref-filename="92sourceRect">sourceRect</a> operation:<span class='ref' title='NSCompositeSourceOver' data-ref="NSCompositeSourceOver" data-ref-filename="NSCompositeSourceOver">NSCompositeSourceOver</span> fraction:<var>1</var>];</td></tr>
<tr><th id="941">941</th><td>        <b>return</b>;</td></tr>
<tr><th id="942">942</th><td>    }</td></tr>
<tr><th id="943">943</th><td>    </td></tr>
<tr><th id="944">944</th><td>    <b>if</b> (drawingModel == <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a> &amp;&amp; (!_snapshotting || ![<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> supportsSnapshotting]))</td></tr>
<tr><th id="945">945</th><td>        <b>return</b>;</td></tr>
<tr><th id="946">946</th><td></td></tr>
<tr><th id="947">947</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="948">948</th><td>        <b>return</b>;</td></tr>
<tr><th id="949">949</th><td>    </td></tr>
<tr><th id="950">950</th><td>    <b>if</b> ([NSGraphicsContext currentContextDrawingToScreen] || _isFlash)</td></tr>
<tr><th id="951">951</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> sendDrawRectEvent:<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#91rect" title='rect' data-ref="91rect" data-ref-filename="91rect">rect</a>];</td></tr>
<tr><th id="952">952</th><td>}</td></tr>
<tr><th id="953">953</th><td></td></tr>
<tr><th id="954">954</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npruntime.h.html#NPObject" title='NPObject' data-type='struct NPObject' data-ref="NPObject" data-ref-filename="NPObject">NPObject</a> *)createPluginScriptableObject</td></tr>
<tr><th id="955">955</th><td>{</td></tr>
<tr><th id="956">956</th><td>    <b>if</b> (![_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a> || !_isStarted)</td></tr>
<tr><th id="957">957</th><td>        <b>return</b> <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="958">958</th><td>        </td></tr>
<tr><th id="959">959</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npruntime.h.html#NPObject" title='NPObject' data-type='struct NPObject' data-ref="NPObject" data-ref-filename="NPObject">NPObject</a> *<dfn class="local col3 decl" id="93value" title='value' data-type='NPObject *' data-ref="93value" data-ref-filename="93value">value</dfn> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="960">960</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a> <dfn class="local col4 decl" id="94error" title='error' data-type='NPError' data-ref="94error" data-ref-filename="94error">error</dfn>;</td></tr>
<tr><th id="961">961</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="962">962</th><td>    {</td></tr>
<tr><th id="963">963</th><td>        <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col5 decl" id="95dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="95dropAllLocks" data-ref-filename="95dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="964">964</th><td>        <a class="local col4 ref" href="#94error" title='error' data-ref="94error" data-ref-filename="94error">error</a> = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a>(plugin, <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVpluginScriptableNPObject" title='NPPVpluginScriptableNPObject' data-ref="NPPVpluginScriptableNPObject" data-ref-filename="NPPVpluginScriptableNPObject">NPPVpluginScriptableNPObject</a>, &amp;<a class="local col3 ref" href="#93value" title='value' data-ref="93value" data-ref-filename="93value">value</a>);</td></tr>
<tr><th id="965">965</th><td>    }</td></tr>
<tr><th id="966">966</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="967">967</th><td>    <b>if</b> (<a class="local col4 ref" href="#94error" title='error' data-ref="94error" data-ref-filename="94error">error</a> != <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>)</td></tr>
<tr><th id="968">968</th><td>        <b>return</b> <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="969">969</th><td>    </td></tr>
<tr><th id="970">970</th><td>    <b>return</b> <a class="local col3 ref" href="#93value" title='value' data-ref="93value" data-ref-filename="93value">value</a>;</td></tr>
<tr><th id="971">971</th><td>}</td></tr>
<tr><th id="972">972</th><td></td></tr>
<tr><th id="973">973</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)getFormValue:(NSString **)<dfn class="local col6 decl" id="96value" title='value' data-type='NSString **' data-ref="96value" data-ref-filename="96value">value</dfn></td></tr>
<tr><th id="974">974</th><td>{</td></tr>
<tr><th id="975">975</th><td>    <b>if</b> (![_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a> || !_isStarted)</td></tr>
<tr><th id="976">976</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="977">977</th><td>    <i>// Plugins will allocate memory for the buffer by using NPN_MemAlloc().</i></td></tr>
<tr><th id="978">978</th><td>    <em>char</em>* <dfn class="local col7 decl" id="97buffer" title='buffer' data-type='char *' data-ref="97buffer" data-ref-filename="97buffer">buffer</dfn> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="979">979</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a> <dfn class="local col8 decl" id="98error" title='error' data-type='NPError' data-ref="98error" data-ref-filename="98error">error</dfn>;</td></tr>
<tr><th id="980">980</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="981">981</th><td>    {</td></tr>
<tr><th id="982">982</th><td>        <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col9 decl" id="99dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="99dropAllLocks" data-ref-filename="99dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="983">983</th><td>        <a class="local col8 ref" href="#98error" title='error' data-ref="98error" data-ref-filename="98error">error</a> = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a>(plugin, <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVformValue" title='NPPVformValue' data-ref="NPPVformValue" data-ref-filename="NPPVformValue">NPPVformValue</a>, &amp;<a class="local col7 ref" href="#97buffer" title='buffer' data-ref="97buffer" data-ref-filename="97buffer">buffer</a>);</td></tr>
<tr><th id="984">984</th><td>    }</td></tr>
<tr><th id="985">985</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="986">986</th><td>    <b>if</b> (<a class="local col8 ref" href="#98error" title='error' data-ref="98error" data-ref-filename="98error">error</a> != <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a> || !<a class="local col7 ref" href="#97buffer" title='buffer' data-ref="97buffer" data-ref-filename="97buffer">buffer</a>)</td></tr>
<tr><th id="987">987</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="988">988</th><td>    *<a class="local col6 ref" href="#96value" title='value' data-ref="96value" data-ref-filename="96value">value</a> = [[NSString alloc] initWithUTF8String:<a class="local col7 ref" href="#97buffer" title='buffer' data-ref="97buffer" data-ref-filename="97buffer">buffer</a>];</td></tr>
<tr><th id="989">989</th><td>    [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() browserFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPNetscapeFuncs::memfree" title='_NPNetscapeFuncs::memfree' data-ref="_NPNetscapeFuncs::memfree" data-ref-filename="_NPNetscapeFuncs..memfree">memfree</a>(<a class="local col7 ref" href="#97buffer" title='buffer' data-ref="97buffer" data-ref-filename="97buffer">buffer</a>);</td></tr>
<tr><th id="990">990</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="991">991</th><td>}</td></tr>
<tr><th id="992">992</th><td></td></tr>
<tr><th id="993">993</th><td>- (<em>void</em>)willCallPlugInFunction</td></tr>
<tr><th id="994">994</th><td>{</td></tr>
<tr><th id="995">995</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(plugin)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 995, __PRETTY_FUNCTION__, &quot;plugin&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(995, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3028); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(plugin);</td></tr>
<tr><th id="996">996</th><td></td></tr>
<tr><th id="997">997</th><td>    <i>// Could try to prevent infinite recursion here, but it's probably not worth the effort.</i></td></tr>
<tr><th id="998">998</th><td>    pluginFunctionCallDepth++;</td></tr>
<tr><th id="999">999</th><td>}</td></tr>
<tr><th id="1000">1000</th><td></td></tr>
<tr><th id="1001">1001</th><td>- (<em>void</em>)didCallPlugInFunction</td></tr>
<tr><th id="1002">1002</th><td>{</td></tr>
<tr><th id="1003">1003</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(pluginFunctionCallDepth &gt; 0)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1003, __PRETTY_FUNCTION__, &quot;pluginFunctionCallDepth &gt; 0&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1003, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3030); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(pluginFunctionCallDepth &gt; <var>0</var>);</td></tr>
<tr><th id="1004">1004</th><td>    pluginFunctionCallDepth--;</td></tr>
<tr><th id="1005">1005</th><td>    </td></tr>
<tr><th id="1006">1006</th><td>    <i>// If -stop was called while we were calling into a plug-in function, and we're no longer</i></td></tr>
<tr><th id="1007">1007</th><td><i>    // inside a plug-in function, stop now.</i></td></tr>
<tr><th id="1008">1008</th><td>    <b>if</b> (pluginFunctionCallDepth == <var>0</var> &amp;&amp; shouldStopSoon) {</td></tr>
<tr><th id="1009">1009</th><td>        shouldStopSoon = <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="1010">1010</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> stop];</td></tr>
<tr><th id="1011">1011</th><td>    }</td></tr>
<tr><th id="1012">1012</th><td>}</td></tr>
<tr><th id="1013">1013</th><td></td></tr>
<tr><th id="1014">1014</th><td>-(<em>void</em>)pluginView:(NSView *)<dfn class="local col0 decl" id="100pluginView" title='pluginView' data-type='NSView *' data-ref="100pluginView" data-ref-filename="100pluginView">pluginView</dfn> receivedResponse:(NSURLResponse *)<dfn class="local col1 decl" id="101response" title='response' data-type='NSURLResponse *' data-ref="101response" data-ref-filename="101response">response</dfn></td></tr>
<tr><th id="1015">1015</th><td>{</td></tr>
<tr><th id="1016">1016</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_loadManually)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1016, __PRETTY_FUNCTION__, &quot;_loadManually&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1016, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3032); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_loadManually);</td></tr>
<tr><th id="1017">1017</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!_manualStream)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1017, __PRETTY_FUNCTION__, &quot;!_manualStream&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1017, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3034); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrntEv" title='WTF::RefPtr::operator!' data-ref="_ZNK3WTF6RefPtrntEv" data-ref-filename="_ZNK3WTF6RefPtrntEv">!</a>_manualStream);</td></tr>
<tr><th id="1018">1018</th><td></td></tr>
<tr><th id="1019">1019</th><td>    _manualStream <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtraSEONS_3RefITL0__NS_12RawPtrTraitsIS2_EEEE" title='WTF::RefPtr::operator=' data-ref="_ZN3WTF6RefPtraSEONS_3RefITL0__NS_12RawPtrTraitsIS2_EEEE" data-ref-filename="_ZN3WTF6RefPtraSEONS_3RefITL0__NS_12RawPtrTraitsIS2_EEEE">=</a> <a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>::<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream6createEPN7WebCore11FrameLoaderE" title='WebNetscapePluginStream::create' data-ref="_ZN23WebNetscapePluginStream6createEPN7WebCore11FrameLoaderE" data-ref-filename="_ZN23WebNetscapePluginStream6createEPN7WebCore11FrameLoaderE">create</a>(&amp;<a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6loaderEv" title='WebCore::Frame::loader' data-ref="_ZN7WebCore5Frame6loaderEv" data-ref-filename="_ZN7WebCore5Frame6loaderEv">loader</a>());</td></tr>
<tr><th id="1020">1020</th><td>}</td></tr>
<tr><th id="1021">1021</th><td></td></tr>
<tr><th id="1022">1022</th><td>- (<em>void</em>)pluginView:(NSView *)<dfn class="local col2 decl" id="102pluginView" title='pluginView' data-type='NSView *' data-ref="102pluginView" data-ref-filename="102pluginView">pluginView</dfn> receivedData:(NSData *)<dfn class="local col3 decl" id="103data" title='data' data-type='NSData *' data-ref="103data" data-ref-filename="103data">data</dfn></td></tr>
<tr><th id="1023">1023</th><td>{</td></tr>
<tr><th id="1024">1024</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_loadManually)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1024, __PRETTY_FUNCTION__, &quot;_loadManually&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1024, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3036); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_loadManually);</td></tr>
<tr><th id="1025">1025</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_manualStream)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1025, __PRETTY_FUNCTION__, &quot;_manualStream&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1025, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3038); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_manualStream);</td></tr>
<tr><th id="1026">1026</th><td>    </td></tr>
<tr><th id="1027">1027</th><td>    _dataLengthReceived += [<a class="local col3 ref" href="#103data" title='data' data-ref="103data" data-ref-filename="103data">data</a> length];</td></tr>
<tr><th id="1028">1028</th><td>    </td></tr>
<tr><th id="1029">1029</th><td>    <b>if</b> (!_isStarted)</td></tr>
<tr><th id="1030">1030</th><td>        <b>return</b>;</td></tr>
<tr><th id="1031">1031</th><td></td></tr>
<tr><th id="1032">1032</th><td>    <b>if</b> (!_manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZNK23WebNetscapePluginStream6pluginEv" title='WebNetscapePluginStream::plugin' data-ref="_ZNK23WebNetscapePluginStream6pluginEv" data-ref-filename="_ZNK23WebNetscapePluginStream6pluginEv">plugin</a>()) {</td></tr>
<tr><th id="1033">1033</th><td>        <i>// Check if the load should be cancelled</i></td></tr>
<tr><th id="1034">1034</th><td>        <b>if</b> ([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _shouldCancelSrcStream]) {</td></tr>
<tr><th id="1035">1035</th><td>            NSURLResponse *<dfn class="local col4 decl" id="104response" title='response' data-type='NSURLResponse *' data-ref="104response" data-ref-filename="104response">response</dfn> = [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] response];</td></tr>
<tr><th id="1036">1036</th><td>            </td></tr>
<tr><th id="1037">1037</th><td>            <em>auto</em> <dfn class="local col5 decl" id="105error" title='error' data-type='WTF::RetainPtr&lt;NSError&gt;' data-ref="105error" data-ref-filename="105error">error</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSError alloc] _initWithPluginErrorCode:<a class="macro" href="../Misc/WebKitErrorsPrivate.h.html#33" title="204" data-ref="_M/WebKitErrorPlugInWillHandleLoad">WebKitErrorPlugInWillHandleLoad</a></td></tr>
<tr><th id="1038">1038</th><td>                                                            contentURL:[<a class="local col4 ref" href="#104response" title='response' data-ref="104response" data-ref-filename="104response">response</a> URL]</td></tr>
<tr><th id="1039">1039</th><td>                                                         pluginPageURL:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span></td></tr>
<tr><th id="1040">1040</th><td>                                                            pluginName:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span> <i>// FIXME: Get this from somewhere</i></td></tr>
<tr><th id="1041">1041</th><td>                                                              MIMEType:[<a class="local col4 ref" href="#104response" title='response' data-ref="104response" data-ref-filename="104response">response</a> MIMEType]]);</td></tr>
<tr><th id="1042">1042</th><td>            [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] _documentLoader]<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/NakedPtr.h.html#_ZNK3WTF8NakedPtrptEv" title='WTF::NakedPtr::operator-&gt;' data-ref="_ZNK3WTF8NakedPtrptEv" data-ref-filename="_ZNK3WTF8NakedPtrptEv">-&gt;</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/DocumentLoader.h.html#_ZN7WebCore14DocumentLoader22cancelMainResourceLoadERKNS_13ResourceErrorE" title='WebCore::DocumentLoader::cancelMainResourceLoad' data-ref="_ZN7WebCore14DocumentLoader22cancelMainResourceLoadERKNS_13ResourceErrorE" data-ref-filename="_ZN7WebCore14DocumentLoader22cancelMainResourceLoadERKNS_13ResourceErrorE">cancelMainResourceLoad</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ResourceError.h.html#_ZN7WebCore13ResourceErrorC1EP7NSError" title='WebCore::ResourceError::ResourceError' data-ref="_ZN7WebCore13ResourceErrorC1EP7NSError" data-ref-filename="_ZN7WebCore13ResourceErrorC1EP7NSError"></a><a class="local col5 ref" href="#105error" title='error' data-ref="105error" data-ref-filename="105error">error</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>());</td></tr>
<tr><th id="1043">1043</th><td>            <b>return</b>;</td></tr>
<tr><th id="1044">1044</th><td>        }</td></tr>
<tr><th id="1045">1045</th><td>        </td></tr>
<tr><th id="1046">1046</th><td>        _manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream13setRequestURLERKN3WTF3URLE" title='WebNetscapePluginStream::setRequestURL' data-ref="_ZN23WebNetscapePluginStream13setRequestURLERKN3WTF3URLE" data-ref-filename="_ZN23WebNetscapePluginStream13setRequestURLERKN3WTF3URLE">setRequestURL</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#_ZN3WTF3URLC1EP5NSURL" title='WTF::URL::URL' data-ref="_ZN3WTF3URLC1EP5NSURL" data-ref-filename="_ZN3WTF3URLC1EP5NSURL"></a>[[[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] request] URL]);</td></tr>
<tr><th id="1047">1047</th><td>        _manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream9setPluginEP4_NPP" title='WebNetscapePluginStream::setPlugin' data-ref="_ZN23WebNetscapePluginStream9setPluginEP4_NPP" data-ref-filename="_ZN23WebNetscapePluginStream9setPluginEP4_NPP">setPlugin</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> plugin]);</td></tr>
<tr><th id="1048">1048</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_manualStream-&gt;plugin())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1048, __PRETTY_FUNCTION__, &quot;_manualStream-&gt;plugin()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1048, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3040); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZNK23WebNetscapePluginStream6pluginEv" title='WebNetscapePluginStream::plugin' data-ref="_ZNK23WebNetscapePluginStream6pluginEv" data-ref-filename="_ZNK23WebNetscapePluginStream6pluginEv">plugin</a>());</td></tr>
<tr><th id="1049">1049</th><td>        </td></tr>
<tr><th id="1050">1050</th><td>        _manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream23startStreamWithResponseEP13NSURLResponse" title='WebNetscapePluginStream::startStreamWithResponse' data-ref="_ZN23WebNetscapePluginStream23startStreamWithResponseEP13NSURLResponse" data-ref-filename="_ZN23WebNetscapePluginStream23startStreamWithResponseEP13NSURLResponse">startStreamWithResponse</a>([[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] response]);</td></tr>
<tr><th id="1051">1051</th><td>    }</td></tr>
<tr><th id="1052">1052</th><td></td></tr>
<tr><th id="1053">1053</th><td>    <b>if</b> (_manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZNK23WebNetscapePluginStream6pluginEv" title='WebNetscapePluginStream::plugin' data-ref="_ZNK23WebNetscapePluginStream6pluginEv" data-ref-filename="_ZNK23WebNetscapePluginStream6pluginEv">plugin</a>())</td></tr>
<tr><th id="1054">1054</th><td>        _manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="virtual ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream14didReceiveDataEPN7WebCore26NetscapePlugInStreamLoaderEPKhi" title='WebNetscapePluginStream::didReceiveData' data-ref="_ZN23WebNetscapePluginStream14didReceiveDataEPN7WebCore26NetscapePlugInStreamLoaderEPKhi" data-ref-filename="_ZN23WebNetscapePluginStream14didReceiveDataEPN7WebCore26NetscapePlugInStreamLoaderEPKhi">didReceiveData</a>(<var>0</var>, <b>static_cast</b>&lt;<em>const</em> <span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>*&gt;([<a class="local col3 ref" href="#103data" title='data' data-ref="103data" data-ref-filename="103data">data</a> bytes]), [<a class="local col3 ref" href="#103data" title='data' data-ref="103data" data-ref-filename="103data">data</a> length]);</td></tr>
<tr><th id="1055">1055</th><td>}</td></tr>
<tr><th id="1056">1056</th><td></td></tr>
<tr><th id="1057">1057</th><td>- (<em>void</em>)pluginView:(NSView *)<dfn class="local col6 decl" id="106pluginView" title='pluginView' data-type='NSView *' data-ref="106pluginView" data-ref-filename="106pluginView">pluginView</dfn> receivedError:(NSError *)<dfn class="local col7 decl" id="107error" title='error' data-type='NSError *' data-ref="107error" data-ref-filename="107error">error</dfn></td></tr>
<tr><th id="1058">1058</th><td>{</td></tr>
<tr><th id="1059">1059</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_loadManually)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1059, __PRETTY_FUNCTION__, &quot;_loadManually&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1059, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3042); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_loadManually);</td></tr>
<tr><th id="1060">1060</th><td></td></tr>
<tr><th id="1061">1061</th><td>    _error <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE" data-ref-filename="_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE">=</a> <a class="local col7 ref" href="#107error" title='error' data-ref="107error" data-ref-filename="107error">error</a>;</td></tr>
<tr><th id="1062">1062</th><td>    </td></tr>
<tr><th id="1063">1063</th><td>    <b>if</b> (!_isStarted) {</td></tr>
<tr><th id="1064">1064</th><td>        <b>return</b>;</td></tr>
<tr><th id="1065">1065</th><td>    }</td></tr>
<tr><th id="1066">1066</th><td></td></tr>
<tr><th id="1067">1067</th><td>    _manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream22destroyStreamWithErrorEP7NSError" title='WebNetscapePluginStream::destroyStreamWithError' data-ref="_ZN23WebNetscapePluginStream22destroyStreamWithErrorEP7NSError" data-ref-filename="_ZN23WebNetscapePluginStream22destroyStreamWithErrorEP7NSError">destroyStreamWithError</a>(<a class="local col7 ref" href="#107error" title='error' data-ref="107error" data-ref-filename="107error">error</a>);</td></tr>
<tr><th id="1068">1068</th><td>}</td></tr>
<tr><th id="1069">1069</th><td></td></tr>
<tr><th id="1070">1070</th><td>- (<em>void</em>)pluginViewFinishedLoading:(NSView *)<dfn class="local col8 decl" id="108pluginView" title='pluginView' data-type='NSView *' data-ref="108pluginView" data-ref-filename="108pluginView">pluginView</dfn> </td></tr>
<tr><th id="1071">1071</th><td>{</td></tr>
<tr><th id="1072">1072</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_loadManually)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1072, __PRETTY_FUNCTION__, &quot;_loadManually&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1072, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3044); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_loadManually);</td></tr>
<tr><th id="1073">1073</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_manualStream)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1073, __PRETTY_FUNCTION__, &quot;_manualStream&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1073, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3046); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_manualStream);</td></tr>
<tr><th id="1074">1074</th><td>    </td></tr>
<tr><th id="1075">1075</th><td>    <b>if</b> (_isStarted)</td></tr>
<tr><th id="1076">1076</th><td>        _manualStream<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="virtual ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream16didFinishLoadingEPN7WebCore26NetscapePlugInStreamLoaderE" title='WebNetscapePluginStream::didFinishLoading' data-ref="_ZN23WebNetscapePluginStream16didFinishLoadingEPN7WebCore26NetscapePlugInStreamLoaderE" data-ref-filename="_ZN23WebNetscapePluginStream16didFinishLoadingEPN7WebCore26NetscapePlugInStreamLoaderE">didFinishLoading</a>(<var>0</var>);</td></tr>
<tr><th id="1077">1077</th><td>}</td></tr>
<tr><th id="1078">1078</th><td></td></tr>
<tr><th id="1079">1079</th><td>- (NSTextInputContext *)inputContext</td></tr>
<tr><th id="1080">1080</th><td>{</td></tr>
<tr><th id="1081">1081</th><td>    <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="1082">1082</th><td>}</td></tr>
<tr><th id="1083">1083</th><td></td></tr>
<tr><th id="1084">1084</th><td>@end</td></tr>
<tr><th id="1085">1085</th><td></td></tr>
<tr><th id="1086">1086</th><td>@implementation <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> (WebNPPCallbacks)</td></tr>
<tr><th id="1087">1087</th><td></td></tr>
<tr><th id="1088">1088</th><td>- (<em>void</em>)evaluateJavaScriptPluginRequest:(WebPluginRequest *)<dfn class="local col1 decl" id="111JSPluginRequest" title='JSPluginRequest' data-type='WebPluginRequest *' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</dfn></td></tr>
<tr><th id="1089">1089</th><td>{</td></tr>
<tr><th id="1090">1090</th><td>    <i>// FIXME: Is this isStarted check needed here? evaluateJavaScriptPluginRequest should not be called</i></td></tr>
<tr><th id="1091">1091</th><td><i>    // if we are stopped since this method is called after a delay and we call </i></td></tr>
<tr><th id="1092">1092</th><td><i>    // cancelPreviousPerformRequestsWithTarget inside of stop.</i></td></tr>
<tr><th id="1093">1093</th><td>    <b>if</b> (!_isStarted) {</td></tr>
<tr><th id="1094">1094</th><td>        <b>return</b>;</td></tr>
<tr><th id="1095">1095</th><td>    }</td></tr>
<tr><th id="1096">1096</th><td>    </td></tr>
<tr><th id="1097">1097</th><td>    NSURL *<dfn class="local col2 decl" id="112URL" title='URL' data-type='NSURL *' data-ref="112URL" data-ref-filename="112URL">URL</dfn> = [[<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> request] URL];</td></tr>
<tr><th id="1098">1098</th><td>    NSString *<dfn class="local col3 decl" id="113JSString" title='JSString' data-type='NSString *' data-ref="113JSString" data-ref-filename="113JSString">JSString</dfn> = [<a class="local col2 ref" href="#112URL" title='URL' data-ref="112URL" data-ref-filename="112URL">URL</a> _webkit_scriptIfJavaScriptURL];</td></tr>
<tr><th id="1099">1099</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(JSString)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1099, __PRETTY_FUNCTION__, &quot;JSString&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1099, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3048); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col3 ref" href="#113JSString" title='JSString' data-ref="113JSString" data-ref-filename="113JSString">JSString</a>);</td></tr>
<tr><th id="1100">1100</th><td>    </td></tr>
<tr><th id="1101">1101</th><td>    NSString *<dfn class="local col4 decl" id="114result" title='result' data-type='NSString *' data-ref="114result" data-ref-filename="114result">result</dfn> = [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame] _stringByEvaluatingJavaScriptFromString:<a class="local col3 ref" href="#113JSString" title='JSString' data-ref="113JSString" data-ref-filename="113JSString">JSString</a> forceUserGesture:[<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> isCurrentEventUserGesture]];</td></tr>
<tr><th id="1102">1102</th><td>    </td></tr>
<tr><th id="1103">1103</th><td>    <i>// Don't continue if stringByEvaluatingJavaScriptFromString caused the plug-in to stop.</i></td></tr>
<tr><th id="1104">1104</th><td>    <b>if</b> (!_isStarted) {</td></tr>
<tr><th id="1105">1105</th><td>        <b>return</b>;</td></tr>
<tr><th id="1106">1106</th><td>    }</td></tr>
<tr><th id="1107">1107</th><td>        </td></tr>
<tr><th id="1108">1108</th><td>    <b>if</b> ([<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> frameName] != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>) {</td></tr>
<tr><th id="1109">1109</th><td>        <i>// FIXME: If the result is a string, we probably want to put that string into the frame.</i></td></tr>
<tr><th id="1110">1110</th><td>        <b>if</b> ([<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> sendNotification]) {</td></tr>
<tr><th id="1111">1111</th><td>            [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="1112">1112</th><td>            {</td></tr>
<tr><th id="1113">1113</th><td>                <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col5 decl" id="115dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="115dropAllLocks" data-ref-filename="115dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="1114">1114</th><td>                [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::urlnotify" title='_NPPluginFuncs::urlnotify' data-ref="_NPPluginFuncs::urlnotify" data-ref-filename="_NPPluginFuncs..urlnotify">urlnotify</a>(plugin, [<a class="local col2 ref" href="#112URL" title='URL' data-ref="112URL" data-ref-filename="112URL">URL</a> _web_URLCString], <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#710" title="(0 + 0)" data-ref="_M/NPRES_DONE">NPRES_DONE</a>, [<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> notifyData]);</td></tr>
<tr><th id="1115">1115</th><td>            }</td></tr>
<tr><th id="1116">1116</th><td>            [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="1117">1117</th><td>        }</td></tr>
<tr><th id="1118">1118</th><td>    } <b>else</b> <b>if</b> ([<a class="local col4 ref" href="#114result" title='result' data-ref="114result" data-ref-filename="114result">result</a> length] &gt; <var>0</var>) {</td></tr>
<tr><th id="1119">1119</th><td>        <i>// Don't call NPP_NewStream and other stream methods if there is no JS result to deliver. This is what Mozilla does.</i></td></tr>
<tr><th id="1120">1120</th><td>        NSData *<dfn class="local col6 decl" id="116JSData" title='JSData' data-type='NSData *' data-ref="116JSData" data-ref-filename="116JSData">JSData</dfn> = [<a class="local col4 ref" href="#114result" title='result' data-ref="114result" data-ref-filename="114result">result</a> dataUsingEncoding:<span class='enum' title='NSUTF8StringEncoding' data-ref="NSUTF8StringEncoding" data-ref-filename="NSUTF8StringEncoding">NSUTF8StringEncoding</span>];</td></tr>
<tr><th id="1121">1121</th><td>        </td></tr>
<tr><th id="1122">1122</th><td>        <em>auto</em> <dfn class="local col7 decl" id="117stream" title='stream' data-type='WTF::Ref&lt;WebNetscapePluginStream, WTF::RawPtrTraits&lt;WebNetscapePluginStream&gt;&gt;' data-ref="117stream" data-ref-filename="117stream">stream</dfn> = <a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>::<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream6createEP12NSURLRequestP4_NPPbPv" title='WebNetscapePluginStream::create' data-ref="_ZN23WebNetscapePluginStream6createEP12NSURLRequestP4_NPPbPv" data-ref-filename="_ZN23WebNetscapePluginStream6createEP12NSURLRequestP4_NPPbPv">create</a>([NSURLRequest requestWithURL:<a class="local col2 ref" href="#112URL" title='URL' data-ref="112URL" data-ref-filename="112URL">URL</a>], plugin, [<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> sendNotification], [<a class="local col1 ref" href="#111JSPluginRequest" title='JSPluginRequest' data-ref="111JSPluginRequest" data-ref-filename="111JSPluginRequest">JSPluginRequest</a> notifyData]);</td></tr>
<tr><th id="1123">1123</th><td>        </td></tr>
<tr><th id="1124">1124</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSURLResponse&gt; <dfn class="local col8 decl" id="118response" title='response' data-type='RetainPtr&lt;NSURLResponse&gt;' data-ref="118response" data-ref-filename="118response">response</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSURLResponse alloc] initWithURL:<a class="local col2 ref" href="#112URL" title='URL' data-ref="112URL" data-ref-filename="112URL">URL</a> </td></tr>
<tr><th id="1125">1125</th><td>                                                                             MIMEType:@<q>"text/plain"</q> </td></tr>
<tr><th id="1126">1126</th><td>                                                                expectedContentLength:[<a class="local col6 ref" href="#116JSData" title='JSData' data-ref="116JSData" data-ref-filename="116JSData">JSData</a> length]</td></tr>
<tr><th id="1127">1127</th><td>                                                                     textEncodingName:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span>]);</td></tr>
<tr><th id="1128">1128</th><td>        </td></tr>
<tr><th id="1129">1129</th><td>        <a class="local col7 ref" href="#117stream" title='stream' data-ref="117stream" data-ref-filename="117stream">stream</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNK3WTF3RefptEv" title='WTF::Ref::operator-&gt;' data-ref="_ZNK3WTF3RefptEv" data-ref-filename="_ZNK3WTF3RefptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream23startStreamWithResponseEP13NSURLResponse" title='WebNetscapePluginStream::startStreamWithResponse' data-ref="_ZN23WebNetscapePluginStream23startStreamWithResponseEP13NSURLResponse" data-ref-filename="_ZN23WebNetscapePluginStream23startStreamWithResponseEP13NSURLResponse">startStreamWithResponse</a>(<a class="local col8 ref" href="#118response" title='response' data-ref="118response" data-ref-filename="118response">response</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>());</td></tr>
<tr><th id="1130">1130</th><td>        <a class="local col7 ref" href="#117stream" title='stream' data-ref="117stream" data-ref-filename="117stream">stream</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNK3WTF3RefptEv" title='WTF::Ref::operator-&gt;' data-ref="_ZNK3WTF3RefptEv" data-ref-filename="_ZNK3WTF3RefptEv">-&gt;</a><a class="virtual ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream14didReceiveDataEPN7WebCore26NetscapePlugInStreamLoaderEPKhi" title='WebNetscapePluginStream::didReceiveData' data-ref="_ZN23WebNetscapePluginStream14didReceiveDataEPN7WebCore26NetscapePlugInStreamLoaderEPKhi" data-ref-filename="_ZN23WebNetscapePluginStream14didReceiveDataEPN7WebCore26NetscapePlugInStreamLoaderEPKhi">didReceiveData</a>(<var>0</var>, <b>static_cast</b>&lt;<em>const</em> <span class='typedef' title='uint8_t' data-type='unsigned char' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>*&gt;([<a class="local col6 ref" href="#116JSData" title='JSData' data-ref="116JSData" data-ref-filename="116JSData">JSData</a> bytes]), [<a class="local col6 ref" href="#116JSData" title='JSData' data-ref="116JSData" data-ref-filename="116JSData">JSData</a> length]);</td></tr>
<tr><th id="1131">1131</th><td>        <a class="local col7 ref" href="#117stream" title='stream' data-ref="117stream" data-ref-filename="117stream">stream</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNK3WTF3RefptEv" title='WTF::Ref::operator-&gt;' data-ref="_ZNK3WTF3RefptEv" data-ref-filename="_ZNK3WTF3RefptEv">-&gt;</a><a class="virtual ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream16didFinishLoadingEPN7WebCore26NetscapePlugInStreamLoaderE" title='WebNetscapePluginStream::didFinishLoading' data-ref="_ZN23WebNetscapePluginStream16didFinishLoadingEPN7WebCore26NetscapePlugInStreamLoaderE" data-ref-filename="_ZN23WebNetscapePluginStream16didFinishLoadingEPN7WebCore26NetscapePlugInStreamLoaderE">didFinishLoading</a>(<var>0</var>);</td></tr>
<tr><th id="1132">1132</th><td>    }</td></tr>
<tr><th id="1133">1133</th><td>}</td></tr>
<tr><th id="1134">1134</th><td></td></tr>
<tr><th id="1135">1135</th><td>- (<em>void</em>)webFrame:(WebFrame *)<dfn class="local col9 decl" id="119webFrame" title='webFrame' data-type='WebFrame *' data-ref="119webFrame" data-ref-filename="119webFrame">webFrame</dfn> didFinishLoadWithReason:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPReason" title='NPReason' data-type='int16_t' data-ref="NPReason" data-ref-filename="NPReason">NPReason</a>)<dfn class="local col0 decl" id="120reason" title='reason' data-type='NPReason' data-ref="120reason" data-ref-filename="120reason">reason</dfn></td></tr>
<tr><th id="1136">1136</th><td>{</td></tr>
<tr><th id="1137">1137</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_isStarted)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1137, __PRETTY_FUNCTION__, &quot;_isStarted&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1137, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3050); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_isStarted);</td></tr>
<tr><th id="1138">1138</th><td>    </td></tr>
<tr><th id="1139">1139</th><td>    WebPluginRequest *<dfn class="local col1 decl" id="121pluginRequest" title='pluginRequest' data-type='WebPluginRequest *' data-ref="121pluginRequest" data-ref-filename="121pluginRequest">pluginRequest</dfn> = [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a>_pendingFrameLoads objectForKey:<a class="local col9 ref" href="#119webFrame" title='webFrame' data-ref="119webFrame" data-ref-filename="119webFrame">webFrame</a>];</td></tr>
<tr><th id="1140">1140</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(pluginRequest != nullptr)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1140, __PRETTY_FUNCTION__, &quot;pluginRequest != nil&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1140, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3052); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col1 ref" href="#121pluginRequest" title='pluginRequest' data-ref="121pluginRequest" data-ref-filename="121pluginRequest">pluginRequest</a> != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>);</td></tr>
<tr><th id="1141">1141</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([pluginRequest sendNotification])) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1141, __PRETTY_FUNCTION__, &quot;[pluginRequest sendNotification]&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1141, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3054); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([<a class="local col1 ref" href="#121pluginRequest" title='pluginRequest' data-ref="121pluginRequest" data-ref-filename="121pluginRequest">pluginRequest</a> sendNotification]);</td></tr>
<tr><th id="1142">1142</th><td>        </td></tr>
<tr><th id="1143">1143</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="1144">1144</th><td>    {</td></tr>
<tr><th id="1145">1145</th><td>        <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col2 decl" id="122dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="122dropAllLocks" data-ref-filename="122dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="1146">1146</th><td>        [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::urlnotify" title='_NPPluginFuncs::urlnotify' data-ref="_NPPluginFuncs::urlnotify" data-ref-filename="_NPPluginFuncs..urlnotify">urlnotify</a>(plugin, [[[<a class="local col1 ref" href="#121pluginRequest" title='pluginRequest' data-ref="121pluginRequest" data-ref-filename="121pluginRequest">pluginRequest</a> request] URL] _web_URLCString], <a class="local col0 ref" href="#120reason" title='reason' data-ref="120reason" data-ref-filename="120reason">reason</a>, [<a class="local col1 ref" href="#121pluginRequest" title='pluginRequest' data-ref="121pluginRequest" data-ref-filename="121pluginRequest">pluginRequest</a> notifyData]);</td></tr>
<tr><th id="1147">1147</th><td>    }</td></tr>
<tr><th id="1148">1148</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="1149">1149</th><td>    </td></tr>
<tr><th id="1150">1150</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a>_pendingFrameLoads removeObjectForKey:<a class="local col9 ref" href="#119webFrame" title='webFrame' data-ref="119webFrame" data-ref-filename="119webFrame">webFrame</a>];</td></tr>
<tr><th id="1151">1151</th><td>    [<a class="local col9 ref" href="#119webFrame" title='webFrame' data-ref="119webFrame" data-ref-filename="119webFrame">webFrame</a> _setInternalLoadDelegate:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span>];</td></tr>
<tr><th id="1152">1152</th><td>}</td></tr>
<tr><th id="1153">1153</th><td></td></tr>
<tr><th id="1154">1154</th><td>- (<em>void</em>)webFrame:(WebFrame *)<dfn class="local col3 decl" id="123webFrame" title='webFrame' data-type='WebFrame *' data-ref="123webFrame" data-ref-filename="123webFrame">webFrame</dfn> didFinishLoadWithError:(NSError *)<dfn class="local col4 decl" id="124error" title='error' data-type='NSError *' data-ref="124error" data-ref-filename="124error">error</dfn></td></tr>
<tr><th id="1155">1155</th><td>{</td></tr>
<tr><th id="1156">1156</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPReason" title='NPReason' data-type='int16_t' data-ref="NPReason" data-ref-filename="NPReason">NPReason</a> <dfn class="local col5 decl" id="125reason" title='reason' data-type='NPReason' data-ref="125reason" data-ref-filename="125reason">reason</dfn> = <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#710" title="(0 + 0)" data-ref="_M/NPRES_DONE">NPRES_DONE</a>;</td></tr>
<tr><th id="1157">1157</th><td>    <b>if</b> (<a class="local col4 ref" href="#124error" title='error' data-ref="124error" data-ref-filename="124error">error</a> != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>)</td></tr>
<tr><th id="1158">1158</th><td>        <a class="local col5 ref" href="#125reason" title='reason' data-ref="125reason" data-ref-filename="125reason">reason</a> = <a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>::<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream14reasonForErrorEP7NSError" title='WebNetscapePluginStream::reasonForError' data-ref="_ZN23WebNetscapePluginStream14reasonForErrorEP7NSError" data-ref-filename="_ZN23WebNetscapePluginStream14reasonForErrorEP7NSError">reasonForError</a>(<a class="local col4 ref" href="#124error" title='error' data-ref="124error" data-ref-filename="124error">error</a>);</td></tr>
<tr><th id="1159">1159</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame:<a class="local col3 ref" href="#123webFrame" title='webFrame' data-ref="123webFrame" data-ref-filename="123webFrame">webFrame</a> didFinishLoadWithReason:<a class="local col5 ref" href="#125reason" title='reason' data-ref="125reason" data-ref-filename="125reason">reason</a>];</td></tr>
<tr><th id="1160">1160</th><td>}</td></tr>
<tr><th id="1161">1161</th><td></td></tr>
<tr><th id="1162">1162</th><td>- (<em>void</em>)loadPluginRequest:(WebPluginRequest *)<dfn class="local col6 decl" id="126pluginRequest" title='pluginRequest' data-type='WebPluginRequest *' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</dfn></td></tr>
<tr><th id="1163">1163</th><td>{</td></tr>
<tr><th id="1164">1164</th><td>    NSURLRequest *<dfn class="local col7 decl" id="127request" title='request' data-type='NSURLRequest *' data-ref="127request" data-ref-filename="127request">request</dfn> = [<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> request];</td></tr>
<tr><th id="1165">1165</th><td>    NSString *<dfn class="local col8 decl" id="128frameName" title='frameName' data-type='NSString *' data-ref="128frameName" data-ref-filename="128frameName">frameName</dfn> = [<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> frameName];</td></tr>
<tr><th id="1166">1166</th><td>    WebFrame *<dfn class="local col9 decl" id="129frame" title='frame' data-type='WebFrame *' data-ref="129frame" data-ref-filename="129frame">frame</dfn> = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="1167">1167</th><td>    </td></tr>
<tr><th id="1168">1168</th><td>    NSURL *<dfn class="local col0 decl" id="130URL" title='URL' data-type='NSURL *' data-ref="130URL" data-ref-filename="130URL">URL</dfn> = [<a class="local col7 ref" href="#127request" title='request' data-ref="127request" data-ref-filename="127request">request</a> URL];</td></tr>
<tr><th id="1169">1169</th><td>    NSString *<dfn class="local col1 decl" id="131JSString" title='JSString' data-type='NSString *' data-ref="131JSString" data-ref-filename="131JSString">JSString</dfn> = [<a class="local col0 ref" href="#130URL" title='URL' data-ref="130URL" data-ref-filename="130URL">URL</a> _webkit_scriptIfJavaScriptURL];</td></tr>
<tr><th id="1170">1170</th><td>    </td></tr>
<tr><th id="1171">1171</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(frameName || JSString)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1171, __PRETTY_FUNCTION__, &quot;frameName || JSString&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1171, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3056); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col8 ref" href="#128frameName" title='frameName' data-ref="128frameName" data-ref-filename="128frameName">frameName</a> || <a class="local col1 ref" href="#131JSString" title='JSString' data-ref="131JSString" data-ref-filename="131JSString">JSString</a>);</td></tr>
<tr><th id="1172">1172</th><td>    </td></tr>
<tr><th id="1173">1173</th><td>    <b>if</b> (<a class="local col8 ref" href="#128frameName" title='frameName' data-ref="128frameName" data-ref-filename="128frameName">frameName</a>) {</td></tr>
<tr><th id="1174">1174</th><td>        <i>// FIXME - need to get rid of this window creation which</i></td></tr>
<tr><th id="1175">1175</th><td><i>        // bypasses normal targeted link handling</i></td></tr>
<tr><th id="1176">1176</th><td>        <a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z3kitPN7WebCore5FrameE" title='kit' data-ref="_Z3kitPN7WebCore5FrameE" data-ref-filename="_Z3kitPN7WebCore5FrameE">kit</a>(<a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6loaderEv" title='WebCore::Frame::loader' data-ref="_ZN7WebCore5Frame6loaderEv" data-ref-filename="_ZN7WebCore5Frame6loaderEv">loader</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameLoader.h.html#_ZN7WebCore11FrameLoader22findFrameForNavigationERKN3WTF10AtomStringEPNS_8DocumentE" title='WebCore::FrameLoader::findFrameForNavigation' data-ref="_ZN7WebCore11FrameLoader22findFrameForNavigationERKN3WTF10AtomStringEPNS_8DocumentE" data-ref-filename="_ZN7WebCore11FrameLoader22findFrameForNavigationERKN3WTF10AtomStringEPNS_8DocumentE">findFrameForNavigation</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/AtomString.h.html#_ZN3WTF10AtomStringC1EP8NSString" title='WTF::AtomString::AtomString' data-ref="_ZN3WTF10AtomStringC1EP8NSString" data-ref-filename="_ZN3WTF10AtomStringC1EP8NSString"></a><a class="local col8 ref" href="#128frameName" title='frameName' data-ref="128frameName" data-ref-filename="128frameName">frameName</a>));</td></tr>
<tr><th id="1177">1177</th><td>        <b>if</b> (<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> == <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>) {</td></tr>
<tr><th id="1178">1178</th><td>            WebView *<dfn class="local col2 decl" id="132currentWebView" title='currentWebView' data-type='WebView *' data-ref="132currentWebView" data-ref-filename="132currentWebView">currentWebView</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webView];</td></tr>
<tr><th id="1179">1179</th><td>            <em>auto</em> <dfn class="local col3 decl" id="133features" title='features' data-type='WTF::RetainPtr&lt;NSDictionary&gt;' data-ref="133features" data-ref-filename="133features">features</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSDictionary alloc] init]);</td></tr>
<tr><th id="1180">1180</th><td>            WebView *<dfn class="local col4 decl" id="134newWebView" title='newWebView' data-type='WebView *' data-ref="134newWebView" data-ref-filename="134newWebView">newWebView</dfn> = [[<a class="local col2 ref" href="#132currentWebView" title='currentWebView' data-ref="132currentWebView" data-ref-filename="132currentWebView">currentWebView</a> _UIDelegateForwarder] webView:<a class="local col2 ref" href="#132currentWebView" title='currentWebView' data-ref="132currentWebView" data-ref-filename="132currentWebView">currentWebView</a></td></tr>
<tr><th id="1181">1181</th><td>                                                        createWebViewWithRequest:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span></td></tr>
<tr><th id="1182">1182</th><td>                                                                  windowFeatures:<a class="local col3 ref" href="#133features" title='features' data-ref="133features" data-ref-filename="133features">features</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="1183">1183</th><td></td></tr>
<tr><th id="1184">1184</th><td>            <b>if</b> (!<a class="local col4 ref" href="#134newWebView" title='newWebView' data-ref="134newWebView" data-ref-filename="134newWebView">newWebView</a>) {</td></tr>
<tr><th id="1185">1185</th><td>                <b>if</b> ([<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> sendNotification]) {</td></tr>
<tr><th id="1186">1186</th><td>                    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> willCallPlugInFunction];</td></tr>
<tr><th id="1187">1187</th><td>                    {</td></tr>
<tr><th id="1188">1188</th><td>                        <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock" title='JSC::JSLock' data-ref="JSC::JSLock" data-ref-filename="JSC..JSLock">JSLock</a>::<a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#JSC::JSLock::DropAllLocks" title='JSC::JSLock::DropAllLocks' data-ref="JSC::JSLock::DropAllLocks" data-ref-filename="JSC..JSLock..DropAllLocks">DropAllLocks</a> <dfn class="local col5 decl" id="135dropAllLocks" title='dropAllLocks' data-type='JSC::JSLock::DropAllLocks' data-ref="135dropAllLocks" data-ref-filename="135dropAllLocks">dropAllLocks</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSLock.h.html#_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" title='JSC::JSLock::DropAllLocks::DropAllLocks' data-ref="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME" data-ref-filename="_ZN3JSC6JSLock12DropAllLocksC1ERNS_2VME">(</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CommonVM.h.html#_ZN7WebCore8commonVMEv" title='WebCore::commonVM' data-ref="_ZN7WebCore8commonVMEv" data-ref-filename="_ZN7WebCore8commonVMEv">commonVM</a>());</td></tr>
<tr><th id="1189">1189</th><td>                        [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::urlnotify" title='_NPPluginFuncs::urlnotify' data-ref="_NPPluginFuncs::urlnotify" data-ref-filename="_NPPluginFuncs..urlnotify">urlnotify</a>(plugin, [[[<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> request] URL] _web_URLCString], <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>, [<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> notifyData]);</td></tr>
<tr><th id="1190">1190</th><td>                    }</td></tr>
<tr><th id="1191">1191</th><td>                    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> didCallPlugInFunction];</td></tr>
<tr><th id="1192">1192</th><td>                }</td></tr>
<tr><th id="1193">1193</th><td>                <b>return</b>;</td></tr>
<tr><th id="1194">1194</th><td>            }</td></tr>
<tr><th id="1195">1195</th><td>            </td></tr>
<tr><th id="1196">1196</th><td>            <a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> = [<a class="local col4 ref" href="#134newWebView" title='newWebView' data-ref="134newWebView" data-ref-filename="134newWebView">newWebView</a> mainFrame];</td></tr>
<tr><th id="1197">1197</th><td>            <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>(<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a>)-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZNK7WebCore5Frame4treeEv" title='WebCore::Frame::tree' data-ref="_ZNK7WebCore5Frame4treeEv" data-ref-filename="_ZNK7WebCore5Frame4treeEv">tree</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameTree.h.html#_ZN7WebCore9FrameTree7setNameERKN3WTF10AtomStringE" title='WebCore::FrameTree::setName' data-ref="_ZN7WebCore9FrameTree7setNameERKN3WTF10AtomStringE" data-ref-filename="_ZN7WebCore9FrameTree7setNameERKN3WTF10AtomStringE">setName</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/AtomString.h.html#_ZN3WTF10AtomStringC1EP8NSString" title='WTF::AtomString::AtomString' data-ref="_ZN3WTF10AtomStringC1EP8NSString" data-ref-filename="_ZN3WTF10AtomStringC1EP8NSString"></a><a class="local col8 ref" href="#128frameName" title='frameName' data-ref="128frameName" data-ref-filename="128frameName">frameName</a>);</td></tr>
<tr><th id="1198">1198</th><td>            [[<a class="local col4 ref" href="#134newWebView" title='newWebView' data-ref="134newWebView" data-ref-filename="134newWebView">newWebView</a> _UIDelegateForwarder] webViewShow:<a class="local col4 ref" href="#134newWebView" title='newWebView' data-ref="134newWebView" data-ref-filename="134newWebView">newWebView</a>];</td></tr>
<tr><th id="1199">1199</th><td>        }</td></tr>
<tr><th id="1200">1200</th><td>    }</td></tr>
<tr><th id="1201">1201</th><td></td></tr>
<tr><th id="1202">1202</th><td>    <b>if</b> (<a class="local col1 ref" href="#131JSString" title='JSString' data-ref="131JSString" data-ref-filename="131JSString">JSString</a>) {</td></tr>
<tr><th id="1203">1203</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(frame == nullptr || [self webFrame] == frame)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1203, __PRETTY_FUNCTION__, &quot;frame == nil || [self webFrame] == frame&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1203, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3058); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> == <span class="macro" title="nullptr" data-ref="_M/nil">nil</span> || [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame] == <a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a>);</td></tr>
<tr><th id="1204">1204</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> evaluateJavaScriptPluginRequest:<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a>];</td></tr>
<tr><th id="1205">1205</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1206">1206</th><td>        [<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> loadRequest:<a class="local col7 ref" href="#127request" title='request' data-ref="127request" data-ref-filename="127request">request</a>];</td></tr>
<tr><th id="1207">1207</th><td>        <b>if</b> ([<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> sendNotification]) {</td></tr>
<tr><th id="1208">1208</th><td>            <i>// Check if another plug-in view or even this view is waiting for the frame to load.</i></td></tr>
<tr><th id="1209">1209</th><td><i>            // If it is, tell it that the load was cancelled because it will be anyway.</i></td></tr>
<tr><th id="1210">1210</th><td>            <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> *<dfn class="local col6 decl" id="136view" title='view' data-type='WebNetscapePluginDocumentView *' data-ref="136view" data-ref-filename="136view">view</dfn> = [<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> _internalLoadDelegate];</td></tr>
<tr><th id="1211">1211</th><td>            <b>if</b> (<a class="local col6 ref" href="#136view" title='view' data-ref="136view" data-ref-filename="136view">view</a> != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>) {</td></tr>
<tr><th id="1212">1212</th><td>                <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([view isKindOfClass:[WebNetscapePluginDocumentView class]])) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1212, __PRETTY_FUNCTION__, &quot;[view isKindOfClass:[WebNetscapePluginView class]]&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1212, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3060); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([<a class="local col6 ref" href="#136view" title='view' data-ref="136view" data-ref-filename="136view">view</a> isKindOfClass:[<a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> <b>class</b>]]);</td></tr>
<tr><th id="1213">1213</th><td>                [<a class="local col6 ref" href="#136view" title='view' data-ref="136view" data-ref-filename="136view">view</a> webFrame:<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> didFinishLoadWithReason:<a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#712" title="(0 + 2)" data-ref="_M/NPRES_USER_BREAK">NPRES_USER_BREAK</a>];</td></tr>
<tr><th id="1214">1214</th><td>            }</td></tr>
<tr><th id="1215">1215</th><td>            [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a>_pendingFrameLoads setObject:<a class="local col6 ref" href="#126pluginRequest" title='pluginRequest' data-ref="126pluginRequest" data-ref-filename="126pluginRequest">pluginRequest</a> forKey:<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a>];</td></tr>
<tr><th id="1216">1216</th><td>            [<a class="local col9 ref" href="#129frame" title='frame' data-ref="129frame" data-ref-filename="129frame">frame</a> _setInternalLoadDelegate:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>];</td></tr>
<tr><th id="1217">1217</th><td>        }</td></tr>
<tr><th id="1218">1218</th><td>    }</td></tr>
<tr><th id="1219">1219</th><td>}</td></tr>
<tr><th id="1220">1220</th><td></td></tr>
<tr><th id="1221">1221</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)loadRequest:(NSMutableURLRequest *)<dfn class="local col7 decl" id="137request" title='request' data-type='NSMutableURLRequest *' data-ref="137request" data-ref-filename="137request">request</dfn> inTarget:(<em>const</em> <em>char</em> *)<dfn class="local col8 decl" id="138cTarget" title='cTarget' data-type='const char *' data-ref="138cTarget" data-ref-filename="138cTarget">cTarget</dfn> withNotifyData:(<em>void</em> *)<dfn class="local col9 decl" id="139notifyData" title='notifyData' data-type='void *' data-ref="139notifyData" data-ref-filename="139notifyData">notifyData</dfn> sendNotification:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col0 decl" id="140sendNotification" title='sendNotification' data-type='BOOL' data-ref="140sendNotification" data-ref-filename="140sendNotification">sendNotification</dfn></td></tr>
<tr><th id="1222">1222</th><td>{</td></tr>
<tr><th id="1223">1223</th><td>    NSURL *<dfn class="local col1 decl" id="141URL" title='URL' data-type='NSURL *' data-ref="141URL" data-ref-filename="141URL">URL</dfn> = [<a class="local col7 ref" href="#137request" title='request' data-ref="137request" data-ref-filename="137request">request</a> URL];</td></tr>
<tr><th id="1224">1224</th><td></td></tr>
<tr><th id="1225">1225</th><td>    <b>if</b> (!<a class="local col1 ref" href="#141URL" title='URL' data-ref="141URL" data-ref-filename="141URL">URL</a>) </td></tr>
<tr><th id="1226">1226</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#701" title="(0 + 10)" data-ref="_M/NPERR_INVALID_URL">NPERR_INVALID_URL</a>;</td></tr>
<tr><th id="1227">1227</th><td></td></tr>
<tr><th id="1228">1228</th><td>    <i>// Don't allow requests to be loaded when the document loader is stopping all loaders.</i></td></tr>
<tr><th id="1229">1229</th><td>    <b>if</b> ([[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] _documentLoader]<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/NakedPtr.h.html#_ZNK3WTF8NakedPtrptEv" title='WTF::NakedPtr::operator-&gt;' data-ref="_ZNK3WTF8NakedPtrptEv" data-ref-filename="_ZNK3WTF8NakedPtrptEv">-&gt;</a><a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/DocumentLoader.h.html#_ZNK7WebCore14DocumentLoader10isStoppingEv" title='WebCore::DocumentLoader::isStopping' data-ref="_ZNK7WebCore14DocumentLoader10isStoppingEv" data-ref-filename="_ZNK7WebCore14DocumentLoader10isStoppingEv">isStopping</a>())</td></tr>
<tr><th id="1230">1230</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1231">1231</th><td>    </td></tr>
<tr><th id="1232">1232</th><td>    NSString *<dfn class="local col2 decl" id="142target" title='target' data-type='NSString *' data-ref="142target" data-ref-filename="142target">target</dfn> = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="1233">1233</th><td>    <b>if</b> (<a class="local col8 ref" href="#138cTarget" title='cTarget' data-ref="138cTarget" data-ref-filename="138cTarget">cTarget</a>) {</td></tr>
<tr><th id="1234">1234</th><td>        <i>// Find the frame given the target string.</i></td></tr>
<tr><th id="1235">1235</th><td>        <a class="local col2 ref" href="#142target" title='target' data-ref="142target" data-ref-filename="142target">target</a> = [NSString stringWithCString:<a class="local col8 ref" href="#138cTarget" title='cTarget' data-ref="138cTarget" data-ref-filename="138cTarget">cTarget</a> encoding:<span class='enum' title='NSISOLatin1StringEncoding' data-ref="NSISOLatin1StringEncoding" data-ref-filename="NSISOLatin1StringEncoding">NSISOLatin1StringEncoding</span>];</td></tr>
<tr><th id="1236">1236</th><td>    }</td></tr>
<tr><th id="1237">1237</th><td>    WebFrame *<dfn class="local col3 decl" id="143frame" title='frame' data-type='WebFrame *' data-ref="143frame" data-ref-filename="143frame">frame</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame];</td></tr>
<tr><th id="1238">1238</th><td></td></tr>
<tr><th id="1239">1239</th><td>    <i>// don't let a plugin start any loads if it is no longer part of a document that is being </i></td></tr>
<tr><th id="1240">1240</th><td><i>    // displayed unless the loads are in the same frame as the plugin.</i></td></tr>
<tr><th id="1241">1241</th><td>    <b>if</b> (<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/NakedPtr.h.html#_ZN3WTF8NakedPtrcvPT_Ev" title='WTF::NakedPtr::operator type-parameter-0-0 *' data-ref="_ZN3WTF8NakedPtrcvPT_Ev" data-ref-filename="_ZN3WTF8NakedPtrcvPT_Ev"></a>[[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] _documentLoader] != <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6loaderEv" title='WebCore::Frame::loader' data-ref="_ZN7WebCore5Frame6loaderEv" data-ref-filename="_ZN7WebCore5Frame6loaderEv">loader</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FrameLoader.h.html#_ZNK7WebCore11FrameLoader20activeDocumentLoaderEv" title='WebCore::FrameLoader::activeDocumentLoader' data-ref="_ZNK7WebCore11FrameLoader20activeDocumentLoaderEv" data-ref-filename="_ZNK7WebCore11FrameLoader20activeDocumentLoaderEv">activeDocumentLoader</a>() &amp;&amp;</td></tr>
<tr><th id="1242">1242</th><td>        (!<a class="local col8 ref" href="#138cTarget" title='cTarget' data-ref="138cTarget" data-ref-filename="138cTarget">cTarget</a> || [<a class="local col3 ref" href="#143frame" title='frame' data-ref="143frame" data-ref-filename="143frame">frame</a> findFrameNamed:<a class="local col2 ref" href="#142target" title='target' data-ref="142target" data-ref-filename="142target">target</a>] != <a class="local col3 ref" href="#143frame" title='frame' data-ref="143frame" data-ref-filename="143frame">frame</a>)) {</td></tr>
<tr><th id="1243">1243</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>; </td></tr>
<tr><th id="1244">1244</th><td>    }</td></tr>
<tr><th id="1245">1245</th><td>    </td></tr>
<tr><th id="1246">1246</th><td>    NSString *<dfn class="local col4 decl" id="144JSString" title='JSString' data-type='NSString *' data-ref="144JSString" data-ref-filename="144JSString">JSString</dfn> = [<a class="local col1 ref" href="#141URL" title='URL' data-ref="141URL" data-ref-filename="141URL">URL</a> _webkit_scriptIfJavaScriptURL];</td></tr>
<tr><th id="1247">1247</th><td>    <b>if</b> (<a class="local col4 ref" href="#144JSString" title='JSString' data-ref="144JSString" data-ref-filename="144JSString">JSString</a> != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>) {</td></tr>
<tr><th id="1248">1248</th><td>        <b>if</b> (![[[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webView] preferences] isJavaScriptEnabled]) {</td></tr>
<tr><th id="1249">1249</th><td>            <i>// Return NPERR_GENERIC_ERROR if JS is disabled. This is what Mozilla does.</i></td></tr>
<tr><th id="1250">1250</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1251">1251</th><td>        } <b>else</b> <b>if</b> (<a class="local col8 ref" href="#138cTarget" title='cTarget' data-ref="138cTarget" data-ref-filename="138cTarget">cTarget</a> == <span class="macro" title="__null" data-ref="_M/NULL">NULL</span> &amp;&amp; _mode == <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#659" title="2" data-ref="_M/NP_FULL">NP_FULL</a>) {</td></tr>
<tr><th id="1252">1252</th><td>            <i>// Don't allow a JavaScript request from a standalone plug-in that is self-targetted</i></td></tr>
<tr><th id="1253">1253</th><td><i>            // because this can cause the user to be redirected to a blank page (3424039).</i></td></tr>
<tr><th id="1254">1254</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#700" title="(0 + 9)" data-ref="_M/NPERR_INVALID_PARAM">NPERR_INVALID_PARAM</a>;</td></tr>
<tr><th id="1255">1255</th><td>        }</td></tr>
<tr><th id="1256">1256</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1257">1257</th><td>        <b>if</b> (!<a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZNK7WebCore5Frame8documentEv" title='WebCore::Frame::document' data-ref="_ZNK7WebCore5Frame8documentEv" data-ref-filename="_ZNK7WebCore5Frame8documentEv">document</a>()-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Document.h.html#_ZNK7WebCore8Document14securityOriginEv" title='WebCore::Document::securityOrigin' data-ref="_ZNK7WebCore8Document14securityOriginEv" data-ref-filename="_ZNK7WebCore8Document14securityOriginEv">securityOrigin</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/SecurityOrigin.h.html#_ZNK7WebCore14SecurityOrigin10canDisplayERKN3WTF3URLE" title='WebCore::SecurityOrigin::canDisplay' data-ref="_ZNK7WebCore14SecurityOrigin10canDisplayERKN3WTF3URLE" data-ref-filename="_ZNK7WebCore14SecurityOrigin10canDisplayERKN3WTF3URLE">canDisplay</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#_ZN3WTF3URLC1EP5NSURL" title='WTF::URL::URL' data-ref="_ZN3WTF3URLC1EP5NSURL" data-ref-filename="_ZN3WTF3URLC1EP5NSURL"></a><a class="local col1 ref" href="#141URL" title='URL' data-ref="141URL" data-ref-filename="141URL">URL</a>))</td></tr>
<tr><th id="1258">1258</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1259">1259</th><td>    }</td></tr>
<tr><th id="1260">1260</th><td>        </td></tr>
<tr><th id="1261">1261</th><td>    <b>if</b> (<a class="local col8 ref" href="#138cTarget" title='cTarget' data-ref="138cTarget" data-ref-filename="138cTarget">cTarget</a> || <a class="local col4 ref" href="#144JSString" title='JSString' data-ref="144JSString" data-ref-filename="144JSString">JSString</a>) {</td></tr>
<tr><th id="1262">1262</th><td>        <i>// Make when targeting a frame or evaluating a JS string, perform the request after a delay because we don't</i></td></tr>
<tr><th id="1263">1263</th><td><i>        // want to potentially kill the plug-in inside of its URL request.</i></td></tr>
<tr><th id="1264">1264</th><td>        </td></tr>
<tr><th id="1265">1265</th><td>        <b>if</b> (<a class="local col4 ref" href="#144JSString" title='JSString' data-ref="144JSString" data-ref-filename="144JSString">JSString</a> &amp;&amp; <a class="local col2 ref" href="#142target" title='target' data-ref="142target" data-ref-filename="142target">target</a> &amp;&amp; [<a class="local col3 ref" href="#143frame" title='frame' data-ref="143frame" data-ref-filename="143frame">frame</a> findFrameNamed:<a class="local col2 ref" href="#142target" title='target' data-ref="142target" data-ref-filename="142target">target</a>] != <a class="local col3 ref" href="#143frame" title='frame' data-ref="143frame" data-ref-filename="143frame">frame</a>) {</td></tr>
<tr><th id="1266">1266</th><td>            <i>// For security reasons, only allow JS requests to be made on the frame that contains the plug-in.</i></td></tr>
<tr><th id="1267">1267</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#700" title="(0 + 9)" data-ref="_M/NPERR_INVALID_PARAM">NPERR_INVALID_PARAM</a>;</td></tr>
<tr><th id="1268">1268</th><td>        }</td></tr>
<tr><th id="1269">1269</th><td>        </td></tr>
<tr><th id="1270">1270</th><td>        <em>bool</em> <dfn class="local col5 decl" id="145currentEventIsUserGesture" title='currentEventIsUserGesture' data-type='bool' data-ref="145currentEventIsUserGesture" data-ref-filename="145currentEventIsUserGesture">currentEventIsUserGesture</dfn> = <b>false</b>;</td></tr>
<tr><th id="1271">1271</th><td>        <b>if</b> (<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>_eventHandler)</td></tr>
<tr><th id="1272">1272</th><td>            <a class="local col5 ref" href="#145currentEventIsUserGesture" title='currentEventIsUserGesture' data-ref="145currentEventIsUserGesture" data-ref-filename="145currentEventIsUserGesture">currentEventIsUserGesture</a> = _eventHandler<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="WebNetscapePluginEventHandler.h.html#_ZNK29WebNetscapePluginEventHandler25currentEventIsUserGestureEv" title='WebNetscapePluginEventHandler::currentEventIsUserGesture' data-ref="_ZNK29WebNetscapePluginEventHandler25currentEventIsUserGestureEv" data-ref-filename="_ZNK29WebNetscapePluginEventHandler25currentEventIsUserGestureEv">currentEventIsUserGesture</a>();</td></tr>
<tr><th id="1273">1273</th><td>        </td></tr>
<tr><th id="1274">1274</th><td>        <em>auto</em> <dfn class="local col6 decl" id="146pluginRequest" title='pluginRequest' data-type='WTF::RetainPtr&lt;WebPluginRequest&gt;' data-ref="146pluginRequest" data-ref-filename="146pluginRequest">pluginRequest</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[WebPluginRequest alloc] initWithRequest:<a class="local col7 ref" href="#137request" title='request' data-ref="137request" data-ref-filename="137request">request</a></td></tr>
<tr><th id="1275">1275</th><td>                                                                          frameName:<a class="local col2 ref" href="#142target" title='target' data-ref="142target" data-ref-filename="142target">target</a></td></tr>
<tr><th id="1276">1276</th><td>                                                                         notifyData:<a class="local col9 ref" href="#139notifyData" title='notifyData' data-ref="139notifyData" data-ref-filename="139notifyData">notifyData</a> </td></tr>
<tr><th id="1277">1277</th><td>                                                                   sendNotification:<a class="local col0 ref" href="#140sendNotification" title='sendNotification' data-ref="140sendNotification" data-ref-filename="140sendNotification">sendNotification</a></td></tr>
<tr><th id="1278">1278</th><td>                                                            didStartFromUserGesture:<a class="local col5 ref" href="#145currentEventIsUserGesture" title='currentEventIsUserGesture' data-ref="145currentEventIsUserGesture" data-ref-filename="145currentEventIsUserGesture">currentEventIsUserGesture</a>]);</td></tr>
<tr><th id="1279">1279</th><td>        [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> performSelector:@selector(loadPluginRequest:) withObject:<a class="local col6 ref" href="#146pluginRequest" title='pluginRequest' data-ref="146pluginRequest" data-ref-filename="146pluginRequest">pluginRequest</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() afterDelay:<var>0</var>];</td></tr>
<tr><th id="1280">1280</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1281">1281</th><td>        <em>auto</em> <dfn class="local col7 decl" id="147stream" title='stream' data-type='WTF::Ref&lt;WebNetscapePluginStream, WTF::RawPtrTraits&lt;WebNetscapePluginStream&gt;&gt;' data-ref="147stream" data-ref-filename="147stream">stream</dfn> = <a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>::<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream6createEP12NSURLRequestP4_NPPbPv" title='WebNetscapePluginStream::create' data-ref="_ZN23WebNetscapePluginStream6createEP12NSURLRequestP4_NPPbPv" data-ref-filename="_ZN23WebNetscapePluginStream6createEP12NSURLRequestP4_NPPbPv">create</a>(<a class="local col7 ref" href="#137request" title='request' data-ref="137request" data-ref-filename="137request">request</a>, plugin, <a class="local col0 ref" href="#140sendNotification" title='sendNotification' data-ref="140sendNotification" data-ref-filename="140sendNotification">sendNotification</a>, <a class="local col9 ref" href="#139notifyData" title='notifyData' data-ref="139notifyData" data-ref-filename="139notifyData">notifyData</a>);</td></tr>
<tr><th id="1282">1282</th><td></td></tr>
<tr><th id="1283">1283</th><td>        streams.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashSet.h.html#_ZN3WTF7HashSet3addEONT1_9TraitTypeE" title='WTF::HashSet::add' data-ref="_ZN3WTF7HashSet3addEONT1_9TraitTypeE" data-ref-filename="_ZN3WTF7HashSet3addEONT1_9TraitTypeE">add</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1EONS_3RefITL0__TL0_0_EE" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1EONS_3RefITL0__TL0_0_EE" data-ref-filename="_ZN3WTF6RefPtrC1EONS_3RefITL0__TL0_0_EE"></a><a class="local col7 ref" href="#147stream" title='stream' data-ref="147stream" data-ref-filename="147stream">stream</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNKR3WTF3Ref7copyRefEv" title='WTF::Ref::copyRef' data-ref="_ZNKR3WTF3Ref7copyRefEv" data-ref-filename="_ZNKR3WTF3Ref7copyRefEv">copyRef</a>());</td></tr>
<tr><th id="1284">1284</th><td>        <a class="local col7 ref" href="#147stream" title='stream' data-ref="147stream" data-ref-filename="147stream">stream</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNK3WTF3RefptEv" title='WTF::Ref::operator-&gt;' data-ref="_ZNK3WTF3RefptEv" data-ref-filename="_ZNK3WTF3RefptEv">-&gt;</a><a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream5startEv" title='WebNetscapePluginStream::start' data-ref="_ZN23WebNetscapePluginStream5startEv" data-ref-filename="_ZN23WebNetscapePluginStream5startEv">start</a>();</td></tr>
<tr><th id="1285">1285</th><td>    }</td></tr>
<tr><th id="1286">1286</th><td>    </td></tr>
<tr><th id="1287">1287</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1288">1288</th><td>}</td></tr>
<tr><th id="1289">1289</th><td></td></tr>
<tr><th id="1290">1290</th><td>-(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)getURLNotify:(<em>const</em> <em>char</em> *)<dfn class="local col8 decl" id="148URLCString" title='URLCString' data-type='const char *' data-ref="148URLCString" data-ref-filename="148URLCString">URLCString</dfn> target:(<em>const</em> <em>char</em> *)<dfn class="local col9 decl" id="149cTarget" title='cTarget' data-type='const char *' data-ref="149cTarget" data-ref-filename="149cTarget">cTarget</dfn> notifyData:(<em>void</em> *)<dfn class="local col0 decl" id="150notifyData" title='notifyData' data-type='void *' data-ref="150notifyData" data-ref-filename="150notifyData">notifyData</dfn></td></tr>
<tr><th id="1291">1291</th><td>{</td></tr>
<tr><th id="1292">1292</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_GetURLNotify: %s target: %s&quot;, URLCString, cTarget)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_GetURLNotify: %s target: %s"</q>, <a class="local col8 ref" href="#148URLCString" title='URLCString' data-ref="148URLCString" data-ref-filename="148URLCString">URLCString</a>, <a class="local col9 ref" href="#149cTarget" title='cTarget' data-ref="149cTarget" data-ref-filename="149cTarget">cTarget</a>);</td></tr>
<tr><th id="1293">1293</th><td></td></tr>
<tr><th id="1294">1294</th><td>    NSMutableURLRequest *<dfn class="local col1 decl" id="151request" title='request' data-type='NSMutableURLRequest *' data-ref="151request" data-ref-filename="151request">request</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> requestWithURLCString:<a class="local col8 ref" href="#148URLCString" title='URLCString' data-ref="148URLCString" data-ref-filename="148URLCString">URLCString</a>];</td></tr>
<tr><th id="1295">1295</th><td>    <b>return</b> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> loadRequest:<a class="local col1 ref" href="#151request" title='request' data-ref="151request" data-ref-filename="151request">request</a> inTarget:<a class="local col9 ref" href="#149cTarget" title='cTarget' data-ref="149cTarget" data-ref-filename="149cTarget">cTarget</a> withNotifyData:<a class="local col0 ref" href="#150notifyData" title='notifyData' data-ref="150notifyData" data-ref-filename="150notifyData">notifyData</a> sendNotification:<span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>];</td></tr>
<tr><th id="1296">1296</th><td>}</td></tr>
<tr><th id="1297">1297</th><td></td></tr>
<tr><th id="1298">1298</th><td>-(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)getURL:(<em>const</em> <em>char</em> *)<dfn class="local col2 decl" id="152URLCString" title='URLCString' data-type='const char *' data-ref="152URLCString" data-ref-filename="152URLCString">URLCString</dfn> target:(<em>const</em> <em>char</em> *)<dfn class="local col3 decl" id="153cTarget" title='cTarget' data-type='const char *' data-ref="153cTarget" data-ref-filename="153cTarget">cTarget</dfn></td></tr>
<tr><th id="1299">1299</th><td>{</td></tr>
<tr><th id="1300">1300</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_GetURL: %s target: %s&quot;, URLCString, cTarget)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_GetURL: %s target: %s"</q>, <a class="local col2 ref" href="#152URLCString" title='URLCString' data-ref="152URLCString" data-ref-filename="152URLCString">URLCString</a>, <a class="local col3 ref" href="#153cTarget" title='cTarget' data-ref="153cTarget" data-ref-filename="153cTarget">cTarget</a>);</td></tr>
<tr><th id="1301">1301</th><td></td></tr>
<tr><th id="1302">1302</th><td>    NSMutableURLRequest *<dfn class="local col4 decl" id="154request" title='request' data-type='NSMutableURLRequest *' data-ref="154request" data-ref-filename="154request">request</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> requestWithURLCString:<a class="local col2 ref" href="#152URLCString" title='URLCString' data-ref="152URLCString" data-ref-filename="152URLCString">URLCString</a>];</td></tr>
<tr><th id="1303">1303</th><td>    <b>return</b> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> loadRequest:<a class="local col4 ref" href="#154request" title='request' data-ref="154request" data-ref-filename="154request">request</a> inTarget:<a class="local col3 ref" href="#153cTarget" title='cTarget' data-ref="153cTarget" data-ref-filename="153cTarget">cTarget</a> withNotifyData:<span class="macro" title="__null" data-ref="_M/NULL">NULL</span> sendNotification:<span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>];</td></tr>
<tr><th id="1304">1304</th><td>}</td></tr>
<tr><th id="1305">1305</th><td></td></tr>
<tr><th id="1306">1306</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)_postURL:(<em>const</em> <em>char</em> *)<dfn class="local col5 decl" id="155URLCString" title='URLCString' data-type='const char *' data-ref="155URLCString" data-ref-filename="155URLCString">URLCString</dfn></td></tr>
<tr><th id="1307">1307</th><td>             target:(<em>const</em> <em>char</em> *)<dfn class="local col6 decl" id="156target" title='target' data-type='const char *' data-ref="156target" data-ref-filename="156target">target</dfn></td></tr>
<tr><th id="1308">1308</th><td>                len:(<span class='typedef' title='UInt32' data-type='unsigned int' data-ref="UInt32" data-ref-filename="UInt32">UInt32</span>)<dfn class="local col7 decl" id="157len" title='len' data-type='UInt32' data-ref="157len" data-ref-filename="157len">len</dfn></td></tr>
<tr><th id="1309">1309</th><td>                buf:(<em>const</em> <em>char</em> *)<dfn class="local col8 decl" id="158buf" title='buf' data-type='const char *' data-ref="158buf" data-ref-filename="158buf">buf</dfn></td></tr>
<tr><th id="1310">1310</th><td>               file:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a>)<dfn class="local col9 decl" id="159file" title='file' data-type='NPBool' data-ref="159file" data-ref-filename="159file">file</dfn></td></tr>
<tr><th id="1311">1311</th><td>         notifyData:(<em>void</em> *)<dfn class="local col0 decl" id="160notifyData" title='notifyData' data-type='void *' data-ref="160notifyData" data-ref-filename="160notifyData">notifyData</dfn></td></tr>
<tr><th id="1312">1312</th><td>   sendNotification:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col1 decl" id="161sendNotification" title='sendNotification' data-type='BOOL' data-ref="161sendNotification" data-ref-filename="161sendNotification">sendNotification</dfn></td></tr>
<tr><th id="1313">1313</th><td>       allowHeaders:(<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)<dfn class="local col2 decl" id="162allowHeaders" title='allowHeaders' data-type='BOOL' data-ref="162allowHeaders" data-ref-filename="162allowHeaders">allowHeaders</dfn></td></tr>
<tr><th id="1314">1314</th><td>{</td></tr>
<tr><th id="1315">1315</th><td>    <b>if</b> (!<a class="local col5 ref" href="#155URLCString" title='URLCString' data-ref="155URLCString" data-ref-filename="155URLCString">URLCString</a> || !<a class="local col7 ref" href="#157len" title='len' data-ref="157len" data-ref-filename="157len">len</a> || !<a class="local col8 ref" href="#158buf" title='buf' data-ref="158buf" data-ref-filename="158buf">buf</a>) {</td></tr>
<tr><th id="1316">1316</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#700" title="(0 + 9)" data-ref="_M/NPERR_INVALID_PARAM">NPERR_INVALID_PARAM</a>;</td></tr>
<tr><th id="1317">1317</th><td>    }</td></tr>
<tr><th id="1318">1318</th><td>    </td></tr>
<tr><th id="1319">1319</th><td>    NSData *<dfn class="local col3 decl" id="163postData" title='postData' data-type='NSData *' data-ref="163postData" data-ref-filename="163postData">postData</dfn> = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="1320">1320</th><td></td></tr>
<tr><th id="1321">1321</th><td>    <b>if</b> (<a class="local col9 ref" href="#159file" title='file' data-ref="159file" data-ref-filename="159file">file</a>) {</td></tr>
<tr><th id="1322">1322</th><td>        <i>// If we're posting a file, buf is either a file URL or a path to the file.</i></td></tr>
<tr><th id="1323">1323</th><td>        <em>auto</em> <dfn class="local col4 decl" id="164bufString" title='bufString' data-type='WTF::RetainPtr&lt;const __CFString *&gt;' data-ref="164bufString" data-ref-filename="164bufString">bufString</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptCFET_" title='WTF::adoptCF' data-ref="_ZN3WTF7adoptCFET_" data-ref-filename="_ZN3WTF7adoptCFET_">adoptCF</a>(<span class='ref fn' title='CFStringCreateWithCString' data-ref="CFStringCreateWithCString" data-ref-filename="CFStringCreateWithCString">CFStringCreateWithCString</span>(<span class='ref' title='kCFAllocatorDefault' data-ref="kCFAllocatorDefault" data-ref-filename="kCFAllocatorDefault">kCFAllocatorDefault</span>, <a class="local col8 ref" href="#158buf" title='buf' data-ref="158buf" data-ref-filename="158buf">buf</a>, <span class='enum' title='kCFStringEncodingWindowsLatin1' data-ref="kCFStringEncodingWindowsLatin1" data-ref-filename="kCFStringEncodingWindowsLatin1">kCFStringEncodingWindowsLatin1</span>));</td></tr>
<tr><th id="1324">1324</th><td>        <b>if</b> (<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrntEv" title='WTF::RetainPtr::operator!' data-ref="_ZNK3WTF9RetainPtrntEv" data-ref-filename="_ZNK3WTF9RetainPtrntEv">!</a><a class="local col4 ref" href="#164bufString" title='bufString' data-ref="164bufString" data-ref-filename="164bufString">bufString</a>) {</td></tr>
<tr><th id="1325">1325</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#700" title="(0 + 9)" data-ref="_M/NPERR_INVALID_PARAM">NPERR_INVALID_PARAM</a>;</td></tr>
<tr><th id="1326">1326</th><td>        }</td></tr>
<tr><th id="1327">1327</th><td>        NSURL *<dfn class="local col5 decl" id="165fileURL" title='fileURL' data-type='NSURL *' data-ref="165fileURL" data-ref-filename="165fileURL">fileURL</dfn> = [NSURL _web_URLWithDataAsString:(<b>__bridge</b> NSString *)<a class="local col4 ref" href="#164bufString" title='bufString' data-ref="164bufString" data-ref-filename="164bufString">bufString</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="1328">1328</th><td>        NSString *<dfn class="local col6 decl" id="166path" title='path' data-type='NSString *' data-ref="166path" data-ref-filename="166path">path</dfn>;</td></tr>
<tr><th id="1329">1329</th><td>        <b>if</b> ([<a class="local col5 ref" href="#165fileURL" title='fileURL' data-ref="165fileURL" data-ref-filename="165fileURL">fileURL</a> isFileURL]) {</td></tr>
<tr><th id="1330">1330</th><td>            <a class="local col6 ref" href="#166path" title='path' data-ref="166path" data-ref-filename="166path">path</a> = [<a class="local col5 ref" href="#165fileURL" title='fileURL' data-ref="165fileURL" data-ref-filename="165fileURL">fileURL</a> path];</td></tr>
<tr><th id="1331">1331</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1332">1332</th><td>            <a class="local col6 ref" href="#166path" title='path' data-ref="166path" data-ref-filename="166path">path</a> = (<b>__bridge</b> NSString *)<a class="local col4 ref" href="#164bufString" title='bufString' data-ref="164bufString" data-ref-filename="164bufString">bufString</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>();</td></tr>
<tr><th id="1333">1333</th><td>        }</td></tr>
<tr><th id="1334">1334</th><td>        <a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> = [NSData dataWithContentsOfFile:<a class="local col6 ref" href="#166path" title='path' data-ref="166path" data-ref-filename="166path">path</a>];</td></tr>
<tr><th id="1335">1335</th><td>        <b>if</b> (!<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a>) {</td></tr>
<tr><th id="1336">1336</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#702" title="(0 + 11)" data-ref="_M/NPERR_FILE_NOT_FOUND">NPERR_FILE_NOT_FOUND</a>;</td></tr>
<tr><th id="1337">1337</th><td>        }</td></tr>
<tr><th id="1338">1338</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1339">1339</th><td>        <a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> = [NSData dataWithBytes:<a class="local col8 ref" href="#158buf" title='buf' data-ref="158buf" data-ref-filename="158buf">buf</a> length:<a class="local col7 ref" href="#157len" title='len' data-ref="157len" data-ref-filename="157len">len</a>];</td></tr>
<tr><th id="1340">1340</th><td>    }</td></tr>
<tr><th id="1341">1341</th><td></td></tr>
<tr><th id="1342">1342</th><td>    <b>if</b> ([<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> length] == <var>0</var>) {</td></tr>
<tr><th id="1343">1343</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#700" title="(0 + 9)" data-ref="_M/NPERR_INVALID_PARAM">NPERR_INVALID_PARAM</a>;</td></tr>
<tr><th id="1344">1344</th><td>    }</td></tr>
<tr><th id="1345">1345</th><td></td></tr>
<tr><th id="1346">1346</th><td>    NSMutableURLRequest *<dfn class="local col7 decl" id="167request" title='request' data-type='NSMutableURLRequest *' data-ref="167request" data-ref-filename="167request">request</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> requestWithURLCString:<a class="local col5 ref" href="#155URLCString" title='URLCString' data-ref="155URLCString" data-ref-filename="155URLCString">URLCString</a>];</td></tr>
<tr><th id="1347">1347</th><td>    [<a class="local col7 ref" href="#167request" title='request' data-ref="167request" data-ref-filename="167request">request</a> setHTTPMethod:@<q>"POST"</q>];</td></tr>
<tr><th id="1348">1348</th><td>    </td></tr>
<tr><th id="1349">1349</th><td>    <b>if</b> (<a class="local col2 ref" href="#162allowHeaders" title='allowHeaders' data-ref="162allowHeaders" data-ref-filename="162allowHeaders">allowHeaders</a>) {</td></tr>
<tr><th id="1350">1350</th><td>        <b>if</b> ([<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> _web_startsWithBlankLine]) {</td></tr>
<tr><th id="1351">1351</th><td>            <a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> = [<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> subdataWithRange:<span class='ref fn' title='NSMakeRange' data-ref="_ZL11NSMakeRangemm" data-ref-filename="_ZL11NSMakeRangemm">NSMakeRange</span>(<var>1</var>, [<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> length] - <var>1</var>)];</td></tr>
<tr><th id="1352">1352</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1353">1353</th><td>            <span class='typedef' title='NSInteger' data-type='long' data-ref="NSInteger" data-ref-filename="NSInteger">NSInteger</span> <dfn class="local col8 decl" id="168location" title='location' data-type='NSInteger' data-ref="168location" data-ref-filename="168location">location</dfn> = [<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> _web_locationAfterFirstBlankLine];</td></tr>
<tr><th id="1354">1354</th><td>            <b>if</b> (<a class="local col8 ref" href="#168location" title='location' data-ref="168location" data-ref-filename="168location">location</a> != <span class='ref' title='NSNotFound' data-ref="NSNotFound" data-ref-filename="NSNotFound">NSNotFound</span>) {</td></tr>
<tr><th id="1355">1355</th><td>                <i>// If the blank line is somewhere in the middle of postData, everything before is the header.</i></td></tr>
<tr><th id="1356">1356</th><td>                NSData *<dfn class="local col9 decl" id="169headerData" title='headerData' data-type='NSData *' data-ref="169headerData" data-ref-filename="169headerData">headerData</dfn> = [<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> subdataWithRange:<span class='ref fn' title='NSMakeRange' data-ref="_ZL11NSMakeRangemm" data-ref-filename="_ZL11NSMakeRangemm">NSMakeRange</span>(<var>0</var>, <a class="local col8 ref" href="#168location" title='location' data-ref="168location" data-ref-filename="168location">location</a>)];</td></tr>
<tr><th id="1357">1357</th><td>                NSMutableDictionary *<dfn class="local col0 decl" id="170header" title='header' data-type='NSMutableDictionary *' data-ref="170header" data-ref-filename="170header">header</dfn> = [<a class="local col9 ref" href="#169headerData" title='headerData' data-ref="169headerData" data-ref-filename="169headerData">headerData</a> _webkit_parseRFC822HeaderFields];</td></tr>
<tr><th id="1358">1358</th><td>                <em>unsigned</em> <dfn class="local col1 decl" id="171dataLength" title='dataLength' data-type='unsigned int' data-ref="171dataLength" data-ref-filename="171dataLength">dataLength</dfn> = [<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> length] - <a class="local col8 ref" href="#168location" title='location' data-ref="168location" data-ref-filename="168location">location</a>;</td></tr>
<tr><th id="1359">1359</th><td></td></tr>
<tr><th id="1360">1360</th><td>                <i>// Sometimes plugins like to set Content-Length themselves when they post,</i></td></tr>
<tr><th id="1361">1361</th><td><i>                // but WebFoundation does not like that. So we will remove the header</i></td></tr>
<tr><th id="1362">1362</th><td><i>                // and instead truncate the data to the requested length.</i></td></tr>
<tr><th id="1363">1363</th><td>                NSString *<dfn class="local col2 decl" id="172contentLength" title='contentLength' data-type='NSString *' data-ref="172contentLength" data-ref-filename="172contentLength">contentLength</dfn> = [<a class="local col0 ref" href="#170header" title='header' data-ref="170header" data-ref-filename="170header">header</a> objectForKey:@<q>"Content-Length"</q>];</td></tr>
<tr><th id="1364">1364</th><td></td></tr>
<tr><th id="1365">1365</th><td>                <b>if</b> (<a class="local col2 ref" href="#172contentLength" title='contentLength' data-ref="172contentLength" data-ref-filename="172contentLength">contentLength</a> != <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>)</td></tr>
<tr><th id="1366">1366</th><td>                    <a class="local col1 ref" href="#171dataLength" title='dataLength' data-ref="171dataLength" data-ref-filename="171dataLength">dataLength</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>&lt;<em>unsigned</em>&gt;([<a class="local col2 ref" href="#172contentLength" title='contentLength' data-ref="172contentLength" data-ref-filename="172contentLength">contentLength</a> intValue], <a class="local col1 ref" href="#171dataLength" title='dataLength' data-ref="171dataLength" data-ref-filename="171dataLength">dataLength</a>);</td></tr>
<tr><th id="1367">1367</th><td>                [<a class="local col0 ref" href="#170header" title='header' data-ref="170header" data-ref-filename="170header">header</a> removeObjectForKey:@<q>"Content-Length"</q>];</td></tr>
<tr><th id="1368">1368</th><td></td></tr>
<tr><th id="1369">1369</th><td>                <b>if</b> ([<a class="local col0 ref" href="#170header" title='header' data-ref="170header" data-ref-filename="170header">header</a> count] &gt; <var>0</var>) {</td></tr>
<tr><th id="1370">1370</th><td>                    [<a class="local col7 ref" href="#167request" title='request' data-ref="167request" data-ref-filename="167request">request</a> setAllHTTPHeaderFields:<a class="local col0 ref" href="#170header" title='header' data-ref="170header" data-ref-filename="170header">header</a>];</td></tr>
<tr><th id="1371">1371</th><td>                }</td></tr>
<tr><th id="1372">1372</th><td>                <i>// Everything after the blank line is the actual content of the POST.</i></td></tr>
<tr><th id="1373">1373</th><td>                <a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> = [<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> subdataWithRange:<span class='ref fn' title='NSMakeRange' data-ref="_ZL11NSMakeRangemm" data-ref-filename="_ZL11NSMakeRangemm">NSMakeRange</span>(<a class="local col8 ref" href="#168location" title='location' data-ref="168location" data-ref-filename="168location">location</a>, <a class="local col1 ref" href="#171dataLength" title='dataLength' data-ref="171dataLength" data-ref-filename="171dataLength">dataLength</a>)];</td></tr>
<tr><th id="1374">1374</th><td></td></tr>
<tr><th id="1375">1375</th><td>            }</td></tr>
<tr><th id="1376">1376</th><td>        }</td></tr>
<tr><th id="1377">1377</th><td>        <b>if</b> ([<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a> length] == <var>0</var>) {</td></tr>
<tr><th id="1378">1378</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#700" title="(0 + 9)" data-ref="_M/NPERR_INVALID_PARAM">NPERR_INVALID_PARAM</a>;</td></tr>
<tr><th id="1379">1379</th><td>        }</td></tr>
<tr><th id="1380">1380</th><td>    }</td></tr>
<tr><th id="1381">1381</th><td></td></tr>
<tr><th id="1382">1382</th><td>    <i>// Plug-ins expect to receive uncached data when doing a POST (3347134).</i></td></tr>
<tr><th id="1383">1383</th><td>    [<a class="local col7 ref" href="#167request" title='request' data-ref="167request" data-ref-filename="167request">request</a> setCachePolicy:<span class='enum' title='NSURLRequestReloadIgnoringCacheData' data-ref="NSURLRequestReloadIgnoringCacheData" data-ref-filename="NSURLRequestReloadIgnoringCacheData">NSURLRequestReloadIgnoringCacheData</span>];</td></tr>
<tr><th id="1384">1384</th><td>    [<a class="local col7 ref" href="#167request" title='request' data-ref="167request" data-ref-filename="167request">request</a> setHTTPBody:<a class="local col3 ref" href="#163postData" title='postData' data-ref="163postData" data-ref-filename="163postData">postData</a>];</td></tr>
<tr><th id="1385">1385</th><td>    </td></tr>
<tr><th id="1386">1386</th><td>    <b>return</b> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> loadRequest:<a class="local col7 ref" href="#167request" title='request' data-ref="167request" data-ref-filename="167request">request</a> inTarget:<a class="local col6 ref" href="#156target" title='target' data-ref="156target" data-ref-filename="156target">target</a> withNotifyData:<a class="local col0 ref" href="#160notifyData" title='notifyData' data-ref="160notifyData" data-ref-filename="160notifyData">notifyData</a> sendNotification:<a class="local col1 ref" href="#161sendNotification" title='sendNotification' data-ref="161sendNotification" data-ref-filename="161sendNotification">sendNotification</a>];</td></tr>
<tr><th id="1387">1387</th><td>}</td></tr>
<tr><th id="1388">1388</th><td></td></tr>
<tr><th id="1389">1389</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)postURLNotify:(<em>const</em> <em>char</em> *)<dfn class="local col3 decl" id="173URLCString" title='URLCString' data-type='const char *' data-ref="173URLCString" data-ref-filename="173URLCString">URLCString</dfn></td></tr>
<tr><th id="1390">1390</th><td>                  target:(<em>const</em> <em>char</em> *)<dfn class="local col4 decl" id="174target" title='target' data-type='const char *' data-ref="174target" data-ref-filename="174target">target</dfn></td></tr>
<tr><th id="1391">1391</th><td>                     len:(<span class='typedef' title='UInt32' data-type='unsigned int' data-ref="UInt32" data-ref-filename="UInt32">UInt32</span>)<dfn class="local col5 decl" id="175len" title='len' data-type='UInt32' data-ref="175len" data-ref-filename="175len">len</dfn></td></tr>
<tr><th id="1392">1392</th><td>                     buf:(<em>const</em> <em>char</em> *)<dfn class="local col6 decl" id="176buf" title='buf' data-type='const char *' data-ref="176buf" data-ref-filename="176buf">buf</dfn></td></tr>
<tr><th id="1393">1393</th><td>                    file:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a>)<dfn class="local col7 decl" id="177file" title='file' data-type='NPBool' data-ref="177file" data-ref-filename="177file">file</dfn></td></tr>
<tr><th id="1394">1394</th><td>              notifyData:(<em>void</em> *)<dfn class="local col8 decl" id="178notifyData" title='notifyData' data-type='void *' data-ref="178notifyData" data-ref-filename="178notifyData">notifyData</dfn></td></tr>
<tr><th id="1395">1395</th><td>{</td></tr>
<tr><th id="1396">1396</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_PostURLNotify: %s&quot;, URLCString)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_PostURLNotify: %s"</q>, <a class="local col3 ref" href="#173URLCString" title='URLCString' data-ref="173URLCString" data-ref-filename="173URLCString">URLCString</a>);</td></tr>
<tr><th id="1397">1397</th><td>    <b>return</b> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _postURL:<a class="local col3 ref" href="#173URLCString" title='URLCString' data-ref="173URLCString" data-ref-filename="173URLCString">URLCString</a> target:<a class="local col4 ref" href="#174target" title='target' data-ref="174target" data-ref-filename="174target">target</a> len:<a class="local col5 ref" href="#175len" title='len' data-ref="175len" data-ref-filename="175len">len</a> buf:<a class="local col6 ref" href="#176buf" title='buf' data-ref="176buf" data-ref-filename="176buf">buf</a> file:<a class="local col7 ref" href="#177file" title='file' data-ref="177file" data-ref-filename="177file">file</a> notifyData:<a class="local col8 ref" href="#178notifyData" title='notifyData' data-ref="178notifyData" data-ref-filename="178notifyData">notifyData</a> sendNotification:<span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span> allowHeaders:<span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>];</td></tr>
<tr><th id="1398">1398</th><td>}</td></tr>
<tr><th id="1399">1399</th><td></td></tr>
<tr><th id="1400">1400</th><td>-(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)postURL:(<em>const</em> <em>char</em> *)<dfn class="local col9 decl" id="179URLCString" title='URLCString' data-type='const char *' data-ref="179URLCString" data-ref-filename="179URLCString">URLCString</dfn></td></tr>
<tr><th id="1401">1401</th><td>           target:(<em>const</em> <em>char</em> *)<dfn class="local col0 decl" id="180target" title='target' data-type='const char *' data-ref="180target" data-ref-filename="180target">target</dfn></td></tr>
<tr><th id="1402">1402</th><td>              len:(<span class='typedef' title='UInt32' data-type='unsigned int' data-ref="UInt32" data-ref-filename="UInt32">UInt32</span>)<dfn class="local col1 decl" id="181len" title='len' data-type='UInt32' data-ref="181len" data-ref-filename="181len">len</dfn></td></tr>
<tr><th id="1403">1403</th><td>              buf:(<em>const</em> <em>char</em> *)<dfn class="local col2 decl" id="182buf" title='buf' data-type='const char *' data-ref="182buf" data-ref-filename="182buf">buf</dfn></td></tr>
<tr><th id="1404">1404</th><td>             file:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a>)<dfn class="local col3 decl" id="183file" title='file' data-type='NPBool' data-ref="183file" data-ref-filename="183file">file</dfn></td></tr>
<tr><th id="1405">1405</th><td>{</td></tr>
<tr><th id="1406">1406</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_PostURL: %s&quot;, URLCString)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_PostURL: %s"</q>, <a class="local col9 ref" href="#179URLCString" title='URLCString' data-ref="179URLCString" data-ref-filename="179URLCString">URLCString</a>);        </td></tr>
<tr><th id="1407">1407</th><td>    <i>// As documented, only allow headers to be specified via NPP_PostURL when using a file.</i></td></tr>
<tr><th id="1408">1408</th><td>    <b>return</b> [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> _postURL:<a class="local col9 ref" href="#179URLCString" title='URLCString' data-ref="179URLCString" data-ref-filename="179URLCString">URLCString</a> target:<a class="local col0 ref" href="#180target" title='target' data-ref="180target" data-ref-filename="180target">target</a> len:<a class="local col1 ref" href="#181len" title='len' data-ref="181len" data-ref-filename="181len">len</a> buf:<a class="local col2 ref" href="#182buf" title='buf' data-ref="182buf" data-ref-filename="182buf">buf</a> file:<a class="local col3 ref" href="#183file" title='file' data-ref="183file" data-ref-filename="183file">file</a> notifyData:<span class="macro" title="__null" data-ref="_M/NULL">NULL</span> sendNotification:<span class="macro" title="__objc_no" data-ref="_M/NO">NO</span> allowHeaders:<a class="local col3 ref" href="#183file" title='file' data-ref="183file" data-ref-filename="183file">file</a>];</td></tr>
<tr><th id="1409">1409</th><td>}</td></tr>
<tr><th id="1410">1410</th><td></td></tr>
<tr><th id="1411">1411</th><td>-(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)newStream:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPMIMEType" title='NPMIMEType' data-type='char *' data-ref="NPMIMEType" data-ref-filename="NPMIMEType">NPMIMEType</a>)<dfn class="local col4 decl" id="184type" title='type' data-type='NPMIMEType' data-ref="184type" data-ref-filename="184type">type</dfn> target:(<em>const</em> <em>char</em> *)<dfn class="local col5 decl" id="185target" title='target' data-type='const char *' data-ref="185target" data-ref-filename="185target">target</dfn> stream:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPStream" title='NPStream' data-type='struct _NPStream' data-ref="NPStream" data-ref-filename="NPStream">NPStream</a>**)<dfn class="local col6 decl" id="186stream" title='stream' data-type='NPStream **' data-ref="186stream" data-ref-filename="186stream">stream</dfn></td></tr>
<tr><th id="1412">1412</th><td>{</td></tr>
<tr><th id="1413">1413</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_NewStream&quot;)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_NewStream"</q>);</td></tr>
<tr><th id="1414">1414</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1415">1415</th><td>}</td></tr>
<tr><th id="1416">1416</th><td></td></tr>
<tr><th id="1417">1417</th><td>-(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)write:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPStream" title='NPStream' data-type='struct _NPStream' data-ref="NPStream" data-ref-filename="NPStream">NPStream</a>*)<dfn class="local col7 decl" id="187stream" title='stream' data-type='NPStream *' data-ref="187stream" data-ref-filename="187stream">stream</dfn> len:(<span class='typedef' title='SInt32' data-type='int' data-ref="SInt32" data-ref-filename="SInt32">SInt32</span>)<dfn class="local col8 decl" id="188len" title='len' data-type='SInt32' data-ref="188len" data-ref-filename="188len">len</dfn> buffer:(<em>void</em> *)<dfn class="local col9 decl" id="189buffer" title='buffer' data-type='void *' data-ref="189buffer" data-ref-filename="189buffer">buffer</dfn></td></tr>
<tr><th id="1418">1418</th><td>{</td></tr>
<tr><th id="1419">1419</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_Write&quot;)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_Write"</q>);</td></tr>
<tr><th id="1420">1420</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1421">1421</th><td>}</td></tr>
<tr><th id="1422">1422</th><td></td></tr>
<tr><th id="1423">1423</th><td>-(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)destroyStream:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPStream" title='NPStream' data-type='struct _NPStream' data-ref="NPStream" data-ref-filename="NPStream">NPStream</a>*)<dfn class="local col0 decl" id="190stream" title='stream' data-type='NPStream *' data-ref="190stream" data-ref-filename="190stream">stream</dfn> reason:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPReason" title='NPReason' data-type='int16_t' data-ref="NPReason" data-ref-filename="NPReason">NPReason</a>)<dfn class="local col1 decl" id="191reason" title='reason' data-type='NPReason' data-ref="191reason" data-ref-filename="191reason">reason</dfn></td></tr>
<tr><th id="1424">1424</th><td>{</td></tr>
<tr><th id="1425">1425</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_DestroyStream&quot;)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_DestroyStream"</q>);</td></tr>
<tr><th id="1426">1426</th><td>    <i>// This function does a sanity check to ensure that the NPStream provided actually</i></td></tr>
<tr><th id="1427">1427</th><td><i>    // belongs to the plug-in that provided it, which fixes a crash in the DivX </i></td></tr>
<tr><th id="1428">1428</th><td><i>    // plug-in: &lt;rdar://problem/5093862&gt; | <a href="http://bugs.webkit.org/show_bug.cgi?id=13203">http://bugs.webkit.org/show_bug.cgi?id=13203</a></i></td></tr>
<tr><th id="1429">1429</th><td>    <b>if</b> (!<a class="local col0 ref" href="#190stream" title='stream' data-ref="190stream" data-ref-filename="190stream">stream</a> || <a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>::<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream14ownerForStreamEP9_NPStream" title='WebNetscapePluginStream::ownerForStream' data-ref="_ZN23WebNetscapePluginStream14ownerForStreamEP9_NPStream" data-ref-filename="_ZN23WebNetscapePluginStream14ownerForStreamEP9_NPStream">ownerForStream</a>(<a class="local col0 ref" href="#190stream" title='stream' data-ref="190stream" data-ref-filename="190stream">stream</a>) != plugin) {</td></tr>
<tr><th id="1430">1430</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;Invalid NPStream passed to NPN_DestroyStream: %p&quot;, stream)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"Invalid NPStream passed to NPN_DestroyStream: %p"</q>, <a class="local col0 ref" href="#190stream" title='stream' data-ref="190stream" data-ref-filename="190stream">stream</a>);</td></tr>
<tr><th id="1431">1431</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#693" title="(0 + 2)" data-ref="_M/NPERR_INVALID_INSTANCE_ERROR">NPERR_INVALID_INSTANCE_ERROR</a>;</td></tr>
<tr><th id="1432">1432</th><td>    }</td></tr>
<tr><th id="1433">1433</th><td>    </td></tr>
<tr><th id="1434">1434</th><td>    <a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>* <dfn class="local col2 decl" id="192browserStream" title='browserStream' data-type='WebNetscapePluginStream *' data-ref="192browserStream" data-ref-filename="192browserStream">browserStream</dfn> = <b>static_cast</b>&lt;<a class="type" href="WebNetscapePluginStream.h.html#WebNetscapePluginStream" title='WebNetscapePluginStream' data-ref="WebNetscapePluginStream" data-ref-filename="WebNetscapePluginStream">WebNetscapePluginStream</a>*&gt;(<a class="local col0 ref" href="#190stream" title='stream' data-ref="190stream" data-ref-filename="190stream">stream</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPStream::ndata" title='_NPStream::ndata' data-ref="_NPStream::ndata" data-ref-filename="_NPStream..ndata">ndata</a>);</td></tr>
<tr><th id="1435">1435</th><td>    <a class="local col2 ref" href="#192browserStream" title='browserStream' data-ref="192browserStream" data-ref-filename="192browserStream">browserStream</a>-&gt;<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZN23WebNetscapePluginStream35cancelLoadAndDestroyStreamWithErrorEP7NSError" title='WebNetscapePluginStream::cancelLoadAndDestroyStreamWithError' data-ref="_ZN23WebNetscapePluginStream35cancelLoadAndDestroyStreamWithErrorEP7NSError" data-ref-filename="_ZN23WebNetscapePluginStream35cancelLoadAndDestroyStreamWithErrorEP7NSError">cancelLoadAndDestroyStreamWithError</a>(<a class="local col2 ref" href="#192browserStream" title='browserStream' data-ref="192browserStream" data-ref-filename="192browserStream">browserStream</a>-&gt;<a class="ref fn" href="WebNetscapePluginStream.h.html#_ZNK23WebNetscapePluginStream14errorForReasonEs" title='WebNetscapePluginStream::errorForReason' data-ref="_ZNK23WebNetscapePluginStream14errorForReasonEs" data-ref-filename="_ZNK23WebNetscapePluginStream14errorForReasonEs">errorForReason</a>(<a class="local col1 ref" href="#191reason" title='reason' data-ref="191reason" data-ref-filename="191reason">reason</a>));</td></tr>
<tr><th id="1436">1436</th><td>    </td></tr>
<tr><th id="1437">1437</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1438">1438</th><td>}</td></tr>
<tr><th id="1439">1439</th><td></td></tr>
<tr><th id="1440">1440</th><td>- (<em>const</em> <em>char</em> *)userAgent</td></tr>
<tr><th id="1441">1441</th><td>{</td></tr>
<tr><th id="1442">1442</th><td>    NSString *<dfn class="local col3 decl" id="193userAgent" title='userAgent' data-type='NSString *' data-ref="193userAgent" data-ref-filename="193userAgent">userAgent</dfn> = [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webView] userAgentForURL:_baseURL.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="1443">1443</th><td>    </td></tr>
<tr><th id="1444">1444</th><td>    <b>if</b> (_isSilverlight) {</td></tr>
<tr><th id="1445">1445</th><td>        <i>// Silverlight has a workaround for a leak in Safari 2. This workaround is </i></td></tr>
<tr><th id="1446">1446</th><td><i>        // applied when the user agent does not contain "Version/3" so we append it</i></td></tr>
<tr><th id="1447">1447</th><td><i>        // at the end of the user agent.</i></td></tr>
<tr><th id="1448">1448</th><td>        <a class="local col3 ref" href="#193userAgent" title='userAgent' data-ref="193userAgent" data-ref-filename="193userAgent">userAgent</a> = [<a class="local col3 ref" href="#193userAgent" title='userAgent' data-ref="193userAgent" data-ref-filename="193userAgent">userAgent</a> stringByAppendingString:@<q>" Version/3.2.1"</q>];</td></tr>
<tr><th id="1449">1449</th><td>    }        </td></tr>
<tr><th id="1450">1450</th><td>        </td></tr>
<tr><th id="1451">1451</th><td>    <b>return</b> [<a class="local col3 ref" href="#193userAgent" title='userAgent' data-ref="193userAgent" data-ref-filename="193userAgent">userAgent</a> UTF8String];</td></tr>
<tr><th id="1452">1452</th><td>}</td></tr>
<tr><th id="1453">1453</th><td></td></tr>
<tr><th id="1454">1454</th><td>-(<em>void</em>)status:(<em>const</em> <em>char</em> *)<dfn class="local col4 decl" id="194message" title='message' data-type='const char *' data-ref="194message" data-ref-filename="194message">message</dfn></td></tr>
<tr><th id="1455">1455</th><td>{    </td></tr>
<tr><th id="1456">1456</th><td>    <em>auto</em> <dfn class="local col5 decl" id="195status" title='status' data-type='WTF::RetainPtr&lt;const __CFString *&gt;' data-ref="195status" data-ref-filename="195status">status</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptCFET_" title='WTF::adoptCF' data-ref="_ZN3WTF7adoptCFET_" data-ref-filename="_ZN3WTF7adoptCFET_">adoptCF</a>(<span class='ref fn' title='CFStringCreateWithCString' data-ref="CFStringCreateWithCString" data-ref-filename="CFStringCreateWithCString">CFStringCreateWithCString</span>(<span class="macro" title="__null" data-ref="_M/NULL">NULL</span>, <a class="local col4 ref" href="#194message" title='message' data-ref="194message" data-ref-filename="194message">message</a> ? <a class="local col4 ref" href="#194message" title='message' data-ref="194message" data-ref-filename="194message">message</a> : <q>""</q>, <span class='enum' title='kCFStringEncodingUTF8' data-ref="kCFStringEncodingUTF8" data-ref-filename="kCFStringEncodingUTF8">kCFStringEncodingUTF8</span>));</td></tr>
<tr><th id="1457">1457</th><td>    <b>if</b> (<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrntEv" title='WTF::RetainPtr::operator!' data-ref="_ZNK3WTF9RetainPtrntEv" data-ref-filename="_ZNK3WTF9RetainPtrntEv">!</a><a class="local col5 ref" href="#195status" title='status' data-ref="195status" data-ref-filename="195status">status</a>) {</td></tr>
<tr><th id="1458">1458</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#481" title="WTFReportError(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1458, __PRETTY_FUNCTION__, &quot;NPN_Status: the message was not valid UTF-8&quot;)" data-ref="_M/LOG_ERROR">LOG_ERROR</a>(<q>"NPN_Status: the message was not valid UTF-8"</q>);</td></tr>
<tr><th id="1459">1459</th><td>        <b>return</b>;</td></tr>
<tr><th id="1460">1460</th><td>    }</td></tr>
<tr><th id="1461">1461</th><td>    </td></tr>
<tr><th id="1462">1462</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_Status: %@&quot;, status.get())" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_Status: %@"</q>, <a class="local col5 ref" href="#195status" title='status' data-ref="195status" data-ref-filename="195status">status</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>());</td></tr>
<tr><th id="1463">1463</th><td>    WebView *<dfn class="local col6 decl" id="196wv" title='wv' data-type='WebView *' data-ref="196wv" data-ref-filename="196wv">wv</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webView];</td></tr>
<tr><th id="1464">1464</th><td>    [[<a class="local col6 ref" href="#196wv" title='wv' data-ref="196wv" data-ref-filename="196wv">wv</a> _UIDelegateForwarder] webView:<a class="local col6 ref" href="#196wv" title='wv' data-ref="196wv" data-ref-filename="196wv">wv</a> setStatusText:(<b>__bridge</b> NSString *)<a class="local col5 ref" href="#195status" title='status' data-ref="195status" data-ref-filename="195status">status</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="1465">1465</th><td>}</td></tr>
<tr><th id="1466">1466</th><td></td></tr>
<tr><th id="1467">1467</th><td>-(<em>void</em>)invalidateRect:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPRect" title='NPRect' data-type='struct _NPRect' data-ref="NPRect" data-ref-filename="NPRect">NPRect</a> *)<dfn class="local col7 decl" id="197invalidRect" title='invalidRect' data-type='NPRect *' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</dfn></td></tr>
<tr><th id="1468">1468</th><td>{</td></tr>
<tr><th id="1469">1469</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_InvalidateRect&quot;)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_InvalidateRect"</q>);</td></tr>
<tr><th id="1470">1470</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> invalidatePluginContentRect:<span class='ref fn' title='NSMakeRect' data-ref="_ZL10NSMakeRectdddd" data-ref-filename="_ZL10NSMakeRectdddd">NSMakeRect</span>(<a class="local col7 ref" href="#197invalidRect" title='invalidRect' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a>, <a class="local col7 ref" href="#197invalidRect" title='invalidRect' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a>,</td></tr>
<tr><th id="1471">1471</th><td>        (<em>float</em>)<a class="local col7 ref" href="#197invalidRect" title='invalidRect' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::right" title='_NPRect::right' data-ref="_NPRect::right" data-ref-filename="_NPRect..right">right</a> - <a class="local col7 ref" href="#197invalidRect" title='invalidRect' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::left" title='_NPRect::left' data-ref="_NPRect::left" data-ref-filename="_NPRect..left">left</a>, (<em>float</em>)<a class="local col7 ref" href="#197invalidRect" title='invalidRect' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::bottom" title='_NPRect::bottom' data-ref="_NPRect::bottom" data-ref-filename="_NPRect..bottom">bottom</a> - <a class="local col7 ref" href="#197invalidRect" title='invalidRect' data-ref="197invalidRect" data-ref-filename="197invalidRect">invalidRect</a>-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPRect::top" title='_NPRect::top' data-ref="_NPRect::top" data-ref-filename="_NPRect..top">top</a>)];</td></tr>
<tr><th id="1472">1472</th><td>}</td></tr>
<tr><th id="1473">1473</th><td></td></tr>
<tr><th id="1474">1474</th><td>- (<em>void</em>)invalidateRegion:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPRegion" title='NPRegion' data-type='void *' data-ref="NPRegion" data-ref-filename="NPRegion">NPRegion</a>)<dfn class="local col8 decl" id="198invalidRegion" title='invalidRegion' data-type='NPRegion' data-ref="198invalidRegion" data-ref-filename="198invalidRegion">invalidRegion</dfn></td></tr>
<tr><th id="1475">1475</th><td>{</td></tr>
<tr><th id="1476">1476</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPN_InvalidateRegion&quot;)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPN_InvalidateRegion"</q>);</td></tr>
<tr><th id="1477">1477</th><td>    <span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col9 decl" id="199invalidRect" title='invalidRect' data-type='NSRect' data-ref="199invalidRect" data-ref-filename="199invalidRect">invalidRect</dfn> = <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><span class='ref' title='NSZeroRect' data-ref="NSZeroRect" data-ref-filename="NSZeroRect">NSZeroRect</span>;</td></tr>
<tr><th id="1478">1478</th><td>    <b>switch</b> (drawingModel) {</td></tr>
<tr><th id="1479">1479</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>:</td></tr>
<tr><th id="1480">1480</th><td>        {</td></tr>
<tr><th id="1481">1481</th><td>            <span class='typedef' title='CGRect' data-type='struct CGRect' data-ref="CGRect" data-ref-filename="CGRect">CGRect</span> <dfn class="local col0 decl" id="200cgRect" title='cgRect' data-type='CGRect' data-ref="200cgRect" data-ref-filename="200cgRect">cgRect</dfn> = <span class='ref fn' title='CGPathGetBoundingBox' data-ref="CGPathGetBoundingBox" data-ref-filename="CGPathGetBoundingBox">CGPathGetBoundingBox</span>((<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPCGRegion" title='NPCGRegion' data-type='CGPathRef' data-ref="NPCGRegion" data-ref-filename="NPCGRegion">NPCGRegion</a>)<a class="local col8 ref" href="#198invalidRegion" title='invalidRegion' data-ref="198invalidRegion" data-ref-filename="198invalidRegion">invalidRegion</a>);</td></tr>
<tr><th id="1482">1482</th><td>            <a class="local col9 ref" href="#199invalidRect" title='invalidRect' data-ref="199invalidRect" data-ref-filename="199invalidRect">invalidRect</a> <span class='ref fn' title='CGRect::operator=' data-ref="_ZN6CGRectaSERKS_" data-ref-filename="_ZN6CGRectaSERKS_">=</span> *(<span class='typedef' title='NSRect' data-type='struct CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>*)&amp;<a class="local col0 ref" href="#200cgRect" title='cgRect' data-ref="200cgRect" data-ref-filename="200cgRect">cgRect</a>;</td></tr>
<tr><th id="1483">1483</th><td>            <b>break</b>;</td></tr>
<tr><th id="1484">1484</th><td>        }</td></tr>
<tr><th id="1485">1485</th><td>        <b>default</b>:</td></tr>
<tr><th id="1486">1486</th><td>            <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1486, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1486, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3062); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="1487">1487</th><td>        <b>break</b>;</td></tr>
<tr><th id="1488">1488</th><td>    }</td></tr>
<tr><th id="1489">1489</th><td>    </td></tr>
<tr><th id="1490">1490</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> invalidatePluginContentRect:<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col9 ref" href="#199invalidRect" title='invalidRect' data-ref="199invalidRect" data-ref-filename="199invalidRect">invalidRect</a>];</td></tr>
<tr><th id="1491">1491</th><td>}</td></tr>
<tr><th id="1492">1492</th><td></td></tr>
<tr><th id="1493">1493</th><td>-(<em>void</em>)forceRedraw</td></tr>
<tr><th id="1494">1494</th><td>{</td></tr>
<tr><th id="1495">1495</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;forceRedraw&quot;)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"forceRedraw"</q>);</td></tr>
<tr><th id="1496">1496</th><td>    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> invalidatePluginContentRect:[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> bounds]];</td></tr>
<tr><th id="1497">1497</th><td>    [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> window] displayIfNeeded];</td></tr>
<tr><th id="1498">1498</th><td>}</td></tr>
<tr><th id="1499">1499</th><td></td></tr>
<tr><th id="1500">1500</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)getVariable:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVariable" title='NPNVariable' data-type='enum NPNVariable' data-ref="NPNVariable" data-ref-filename="NPNVariable">NPNVariable</a>)<dfn class="local col1 decl" id="201variable" title='variable' data-type='NPNVariable' data-ref="201variable" data-ref-filename="201variable">variable</dfn> value:(<em>void</em> *)<dfn class="local col2 decl" id="202value" title='value' data-type='void *' data-ref="202value" data-ref-filename="202value">value</dfn></td></tr>
<tr><th id="1501">1501</th><td>{</td></tr>
<tr><th id="1502">1502</th><td>    <b>switch</b> (<b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="local col1 ref" href="#201variable" title='variable' data-ref="201variable" data-ref-filename="201variable">variable</a>)) {</td></tr>
<tr><th id="1503">1503</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVWindowNPObject" title='NPNVWindowNPObject' data-ref="NPNVWindowNPObject" data-ref-filename="NPNVWindowNPObject">NPNVWindowNPObject</a>:</td></tr>
<tr><th id="1504">1504</th><td>        {</td></tr>
<tr><th id="1505">1505</th><td>            <a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#WebCore::Frame" title='WebCore::Frame' data-ref="WebCore::Frame" data-ref-filename="WebCore..Frame">Frame</a>* <dfn class="local col3 decl" id="203frame" title='frame' data-type='WebCore::Frame *' data-ref="203frame" data-ref-filename="203frame">frame</dfn> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame]);</td></tr>
<tr><th id="1506">1506</th><td>            <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npruntime.h.html#NPObject" title='NPObject' data-type='struct NPObject' data-ref="NPObject" data-ref-filename="NPObject">NPObject</a>* <dfn class="local col4 decl" id="204windowScriptObject" title='windowScriptObject' data-type='NPObject *' data-ref="204windowScriptObject" data-ref-filename="204windowScriptObject">windowScriptObject</dfn> = <a class="local col3 ref" href="#203frame" title='frame' data-ref="203frame" data-ref-filename="203frame">frame</a> ? <a class="local col3 ref" href="#203frame" title='frame' data-ref="203frame" data-ref-filename="203frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6scriptEv" title='WebCore::Frame::script' data-ref="_ZN7WebCore5Frame6scriptEv" data-ref-filename="_ZN7WebCore5Frame6scriptEv">script</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ScriptController.h.html#_ZN7WebCore16ScriptController20windowScriptNPObjectEv" title='WebCore::ScriptController::windowScriptNPObject' data-ref="_ZN7WebCore16ScriptController20windowScriptNPObjectEv" data-ref-filename="_ZN7WebCore16ScriptController20windowScriptNPObjectEv">windowScriptNPObject</a>() : <var>0</var>;</td></tr>
<tr><th id="1507">1507</th><td></td></tr>
<tr><th id="1508">1508</th><td>            <i>// Return value is expected to be retained, as described here: &lt;<a href="http://www.mozilla.org/projects/plugins/npruntime.html#browseraccess">http://www.mozilla.org/projects/plugins/npruntime.html#browseraccess</a>&gt;</i></td></tr>
<tr><th id="1509">1509</th><td>            <b>if</b> (<a class="local col4 ref" href="#204windowScriptObject" title='windowScriptObject' data-ref="204windowScriptObject" data-ref-filename="204windowScriptObject">windowScriptObject</a>)</td></tr>
<tr><th id="1510">1510</th><td>                <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/npruntime_impl.h.html#_NPN_RetainObject" title='_NPN_RetainObject' data-ref="_NPN_RetainObject" data-ref-filename="_NPN_RetainObject">_NPN_RetainObject</a>(<a class="local col4 ref" href="#204windowScriptObject" title='windowScriptObject' data-ref="204windowScriptObject" data-ref-filename="204windowScriptObject">windowScriptObject</a>);</td></tr>
<tr><th id="1511">1511</th><td>            </td></tr>
<tr><th id="1512">1512</th><td>            <em>void</em> **<dfn class="local col5 decl" id="205v" title='v' data-type='void **' data-ref="205v" data-ref-filename="205v">v</dfn> = (<em>void</em> **)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a>;</td></tr>
<tr><th id="1513">1513</th><td>            *<a class="local col5 ref" href="#205v" title='v' data-ref="205v" data-ref-filename="205v">v</a> = <a class="local col4 ref" href="#204windowScriptObject" title='windowScriptObject' data-ref="204windowScriptObject" data-ref-filename="204windowScriptObject">windowScriptObject</a>;</td></tr>
<tr><th id="1514">1514</th><td></td></tr>
<tr><th id="1515">1515</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1516">1516</th><td>        }</td></tr>
<tr><th id="1517">1517</th><td></td></tr>
<tr><th id="1518">1518</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVPluginElementNPObject" title='NPNVPluginElementNPObject' data-ref="NPNVPluginElementNPObject" data-ref-filename="NPNVPluginElementNPObject">NPNVPluginElementNPObject</a>:</td></tr>
<tr><th id="1519">1519</th><td>        {</td></tr>
<tr><th id="1520">1520</th><td>            <b>if</b> (!_elementNPObject) {</td></tr>
<tr><th id="1521">1521</th><td>                <b>if</b> (<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrntEv" title='WTF::RefPtr::operator!' data-ref="_ZNK3WTF6RefPtrntEv" data-ref-filename="_ZNK3WTF6RefPtrntEv">!</a>_element)</td></tr>
<tr><th id="1522">1522</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1523">1523</th><td></td></tr>
<tr><th id="1524">1524</th><td>                <a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#WebCore::Frame" title='WebCore::Frame' data-ref="WebCore::Frame" data-ref-filename="WebCore..Frame">Frame</a>* <dfn class="local col6 decl" id="206frame" title='frame' data-type='WebCore::Frame *' data-ref="206frame" data-ref-filename="206frame">frame</dfn> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>(<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>.webFrame);</td></tr>
<tr><th id="1525">1525</th><td>                <b>if</b> (!<a class="local col6 ref" href="#206frame" title='frame' data-ref="206frame" data-ref-filename="206frame">frame</a>)</td></tr>
<tr><th id="1526">1526</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1527">1527</th><td></td></tr>
<tr><th id="1528">1528</th><td>                <span class="namespace">JSC::</span><a class="type" href="../../../../WebKitBuild/Debug/JavaScriptCore.framework/Versions/A/PrivateHeaders/JSObject.h.html#JSC::JSObject" title='JSC::JSObject' data-ref="JSC::JSObject" data-ref-filename="JSC..JSObject">JSObject</a>* <dfn class="local col7 decl" id="207object" title='object' data-type='JSC::JSObject *' data-ref="207object" data-ref-filename="207object">object</dfn> = <a class="local col6 ref" href="#206frame" title='frame' data-ref="206frame" data-ref-filename="206frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6scriptEv" title='WebCore::Frame::script' data-ref="_ZN7WebCore5Frame6scriptEv" data-ref-filename="_ZN7WebCore5Frame6scriptEv">script</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ScriptController.h.html#_ZN7WebCore16ScriptController24jsObjectForPluginElementEPNS_17HTMLPlugInElementE" title='WebCore::ScriptController::jsObjectForPluginElement' data-ref="_ZN7WebCore16ScriptController24jsObjectForPluginElementEPNS_17HTMLPlugInElementE" data-ref-filename="_ZN7WebCore16ScriptController24jsObjectForPluginElementEPNS_17HTMLPlugInElementE">jsObjectForPluginElement</a>(_element.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>());</td></tr>
<tr><th id="1529">1529</th><td>                <b>if</b> (!<a class="local col7 ref" href="#207object" title='object' data-ref="207object" data-ref-filename="207object">object</a>)</td></tr>
<tr><th id="1530">1530</th><td>                    _elementNPObject = <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/NP_jsobject.h.html#_NPN_CreateNoScriptObject" title='_NPN_CreateNoScriptObject' data-ref="_NPN_CreateNoScriptObject" data-ref-filename="_NPN_CreateNoScriptObject">_NPN_CreateNoScriptObject</a>();</td></tr>
<tr><th id="1531">1531</th><td>                <b>else</b></td></tr>
<tr><th id="1532">1532</th><td>                    _elementNPObject = <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/NP_jsobject.h.html#_NPN_CreateScriptObject" title='_NPN_CreateScriptObject' data-ref="_NPN_CreateScriptObject" data-ref-filename="_NPN_CreateScriptObject">_NPN_CreateScriptObject</a>(<var>0</var>, <a class="local col7 ref" href="#207object" title='object' data-ref="207object" data-ref-filename="207object">object</a>, <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1EPT_" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1EPT_" data-ref-filename="_ZN3WTF6RefPtrC1EPT_"></a><a class="local col6 ref" href="#206frame" title='frame' data-ref="206frame" data-ref-filename="206frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6scriptEv" title='WebCore::Frame::script' data-ref="_ZN7WebCore5Frame6scriptEv" data-ref-filename="_ZN7WebCore5Frame6scriptEv">script</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ScriptController.h.html#_ZN7WebCore16ScriptController17bindingRootObjectEv" title='WebCore::ScriptController::bindingRootObject' data-ref="_ZN7WebCore16ScriptController17bindingRootObjectEv" data-ref-filename="_ZN7WebCore16ScriptController17bindingRootObjectEv">bindingRootObject</a>());</td></tr>
<tr><th id="1533">1533</th><td>            }</td></tr>
<tr><th id="1534">1534</th><td></td></tr>
<tr><th id="1535">1535</th><td>            <i>// Return value is expected to be retained, as described here: &lt;<a href="http://www.mozilla.org/projects/plugins/npruntime.html#browseraccess">http://www.mozilla.org/projects/plugins/npruntime.html#browseraccess</a>&gt;</i></td></tr>
<tr><th id="1536">1536</th><td>            <b>if</b> (_elementNPObject)</td></tr>
<tr><th id="1537">1537</th><td>                <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/npruntime_impl.h.html#_NPN_RetainObject" title='_NPN_RetainObject' data-ref="_NPN_RetainObject" data-ref-filename="_NPN_RetainObject">_NPN_RetainObject</a>(_elementNPObject);</td></tr>
<tr><th id="1538">1538</th><td></td></tr>
<tr><th id="1539">1539</th><td>            *(<em>void</em> **)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = _elementNPObject;</td></tr>
<tr><th id="1540">1540</th><td></td></tr>
<tr><th id="1541">1541</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1542">1542</th><td>        }</td></tr>
<tr><th id="1543">1543</th><td>        </td></tr>
<tr><th id="1544">1544</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVpluginDrawingModel" title='NPNVpluginDrawingModel' data-ref="NPNVpluginDrawingModel" data-ref-filename="NPNVpluginDrawingModel">NPNVpluginDrawingModel</a>:</td></tr>
<tr><th id="1545">1545</th><td>        {</td></tr>
<tr><th id="1546">1546</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModel" title='NPDrawingModel' data-type='enum NPDrawingModel' data-ref="NPDrawingModel" data-ref-filename="NPDrawingModel">NPDrawingModel</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = drawingModel;</td></tr>
<tr><th id="1547">1547</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1548">1548</th><td>        }</td></tr>
<tr><th id="1549">1549</th><td></td></tr>
<tr><th id="1550">1550</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVsupportsCoreGraphicsBool" title='NPNVsupportsCoreGraphicsBool' data-ref="NPNVsupportsCoreGraphicsBool" data-ref-filename="NPNVsupportsCoreGraphicsBool">NPNVsupportsCoreGraphicsBool</a>:</td></tr>
<tr><th id="1551">1551</th><td>        {</td></tr>
<tr><th id="1552">1552</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = <span class="macro" title="1" data-ref="_M/TRUE">TRUE</span>;</td></tr>
<tr><th id="1553">1553</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1554">1554</th><td>        }</td></tr>
<tr><th id="1555">1555</th><td></td></tr>
<tr><th id="1556">1556</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVsupportsOpenGLBool" title='NPNVsupportsOpenGLBool' data-ref="NPNVsupportsOpenGLBool" data-ref-filename="NPNVsupportsOpenGLBool">NPNVsupportsOpenGLBool</a>:</td></tr>
<tr><th id="1557">1557</th><td>        {</td></tr>
<tr><th id="1558">1558</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = <span class="macro" title="0" data-ref="_M/FALSE">FALSE</span>;</td></tr>
<tr><th id="1559">1559</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1560">1560</th><td>        }</td></tr>
<tr><th id="1561">1561</th><td>        </td></tr>
<tr><th id="1562">1562</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVsupportsCoreAnimationBool" title='NPNVsupportsCoreAnimationBool' data-ref="NPNVsupportsCoreAnimationBool" data-ref-filename="NPNVsupportsCoreAnimationBool">NPNVsupportsCoreAnimationBool</a>:</td></tr>
<tr><th id="1563">1563</th><td>        {</td></tr>
<tr><th id="1564">1564</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = <span class="macro" title="1" data-ref="_M/TRUE">TRUE</span>;</td></tr>
<tr><th id="1565">1565</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1566">1566</th><td>        }</td></tr>
<tr><th id="1567">1567</th><td></td></tr>
<tr><th id="1568">1568</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVsupportsCocoaBool" title='NPNVsupportsCocoaBool' data-ref="NPNVsupportsCocoaBool" data-ref-filename="NPNVsupportsCocoaBool">NPNVsupportsCocoaBool</a>:</td></tr>
<tr><th id="1569">1569</th><td>        {</td></tr>
<tr><th id="1570">1570</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = <span class="macro" title="1" data-ref="_M/TRUE">TRUE</span>;</td></tr>
<tr><th id="1571">1571</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1572">1572</th><td>        }</td></tr>
<tr><th id="1573">1573</th><td></td></tr>
<tr><th id="1574">1574</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNVprivateModeBool" title='NPNVprivateModeBool' data-ref="NPNVprivateModeBool" data-ref-filename="NPNVprivateModeBool">NPNVprivateModeBool</a>:</td></tr>
<tr><th id="1575">1575</th><td>        {</td></tr>
<tr><th id="1576">1576</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = _isPrivateBrowsingEnabled;</td></tr>
<tr><th id="1577">1577</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1578">1578</th><td>        }</td></tr>
<tr><th id="1579">1579</th><td></td></tr>
<tr><th id="1580">1580</th><td>        <b>case</b> <a class="macro" href="#87" title="74656" data-ref="_M/WKNVSupportsCompositingCoreAnimationPluginsBool">WKNVSupportsCompositingCoreAnimationPluginsBool</a>:</td></tr>
<tr><th id="1581">1581</th><td>        {</td></tr>
<tr><th id="1582">1582</th><td>            *(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> *)<a class="local col2 ref" href="#202value" title='value' data-ref="202value" data-ref-filename="202value">value</a> = [[[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webView] preferences] acceleratedCompositingEnabled];</td></tr>
<tr><th id="1583">1583</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1584">1584</th><td>        }</td></tr>
<tr><th id="1585">1585</th><td></td></tr>
<tr><th id="1586">1586</th><td>        <b>default</b>:</td></tr>
<tr><th id="1587">1587</th><td>            <b>break</b>;</td></tr>
<tr><th id="1588">1588</th><td>    }</td></tr>
<tr><th id="1589">1589</th><td></td></tr>
<tr><th id="1590">1590</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1591">1591</th><td>}</td></tr>
<tr><th id="1592">1592</th><td></td></tr>
<tr><th id="1593">1593</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)setVariable:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVariable" title='NPPVariable' data-type='enum NPPVariable' data-ref="NPPVariable" data-ref-filename="NPPVariable">NPPVariable</a>)<dfn class="local col8 decl" id="208variable" title='variable' data-type='NPPVariable' data-ref="208variable" data-ref-filename="208variable">variable</dfn> value:(<em>void</em> *)<dfn class="local col9 decl" id="209value" title='value' data-type='void *' data-ref="209value" data-ref-filename="209value">value</dfn></td></tr>
<tr><th id="1594">1594</th><td>{</td></tr>
<tr><th id="1595">1595</th><td>    <b>switch</b> (<a class="local col8 ref" href="#208variable" title='variable' data-ref="208variable" data-ref-filename="208variable">variable</a>) {</td></tr>
<tr><th id="1596">1596</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVpluginDrawingModel" title='NPPVpluginDrawingModel' data-ref="NPPVpluginDrawingModel" data-ref-filename="NPPVpluginDrawingModel">NPPVpluginDrawingModel</a>:</td></tr>
<tr><th id="1597">1597</th><td>        {</td></tr>
<tr><th id="1598">1598</th><td>            <i>// Can only set drawing model inside NPP_New()</i></td></tr>
<tr><th id="1599">1599</th><td>            <b>if</b> (<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> != [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> <b>class</b>] currentPluginView])</td></tr>
<tr><th id="1600">1600</th><td>                <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1601">1601</th><td>            </td></tr>
<tr><th id="1602">1602</th><td>            <i>// Check for valid, supported drawing model</i></td></tr>
<tr><th id="1603">1603</th><td>            <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModel" title='NPDrawingModel' data-type='enum NPDrawingModel' data-ref="NPDrawingModel" data-ref-filename="NPDrawingModel">NPDrawingModel</a> <dfn class="local col0 decl" id="210newDrawingModel" title='newDrawingModel' data-type='NPDrawingModel' data-ref="210newDrawingModel" data-ref-filename="210newDrawingModel">newDrawingModel</dfn> = (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModel" title='NPDrawingModel' data-type='enum NPDrawingModel' data-ref="NPDrawingModel" data-ref-filename="NPDrawingModel">NPDrawingModel</a>)(<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>)<a class="local col9 ref" href="#209value" title='value' data-ref="209value" data-ref-filename="209value">value</a>;</td></tr>
<tr><th id="1604">1604</th><td>            <b>switch</b> (<a class="local col0 ref" href="#210newDrawingModel" title='newDrawingModel' data-ref="210newDrawingModel" data-ref-filename="210newDrawingModel">newDrawingModel</a>) {</td></tr>
<tr><th id="1605">1605</th><td>                <i>// Supported drawing models:</i></td></tr>
<tr><th id="1606">1606</th><td>                <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreGraphics" title='NPDrawingModelCoreGraphics' data-ref="NPDrawingModelCoreGraphics" data-ref-filename="NPDrawingModelCoreGraphics">NPDrawingModelCoreGraphics</a>:</td></tr>
<tr><th id="1607">1607</th><td>                <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPDrawingModelCoreAnimation" title='NPDrawingModelCoreAnimation' data-ref="NPDrawingModelCoreAnimation" data-ref-filename="NPDrawingModelCoreAnimation">NPDrawingModelCoreAnimation</a>:</td></tr>
<tr><th id="1608">1608</th><td>                    drawingModel = <a class="local col0 ref" href="#210newDrawingModel" title='newDrawingModel' data-ref="210newDrawingModel" data-ref-filename="210newDrawingModel">newDrawingModel</a>;</td></tr>
<tr><th id="1609">1609</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1610">1610</th><td>                    </td></tr>
<tr><th id="1611">1611</th><td></td></tr>
<tr><th id="1612">1612</th><td>                <i>// Unsupported (or unknown) drawing models:</i></td></tr>
<tr><th id="1613">1613</th><td>                <b>default</b>:</td></tr>
<tr><th id="1614">1614</th><td>                    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;Plugin %@ uses unsupported drawing model: %d&quot;, _eventHandler.get(), drawingModel)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"Plugin %@ uses unsupported drawing model: %d"</q>, _eventHandler.<span class='ref fn' title='std::__1::unique_ptr::get' data-ref="_ZNKSt3__110unique_ptr3getEv" data-ref-filename="_ZNKSt3__110unique_ptr3getEv">get</span>(), drawingModel);</td></tr>
<tr><th id="1615">1615</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1616">1616</th><td>            }</td></tr>
<tr><th id="1617">1617</th><td>        }</td></tr>
<tr><th id="1618">1618</th><td>        </td></tr>
<tr><th id="1619">1619</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVpluginEventModel" title='NPPVpluginEventModel' data-ref="NPPVpluginEventModel" data-ref-filename="NPPVpluginEventModel">NPPVpluginEventModel</a>:</td></tr>
<tr><th id="1620">1620</th><td>        {</td></tr>
<tr><th id="1621">1621</th><td>            <i>// Can only set event model inside NPP_New()</i></td></tr>
<tr><th id="1622">1622</th><td>            <b>if</b> (<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> != [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> <b>class</b>] currentPluginView])</td></tr>
<tr><th id="1623">1623</th><td>                <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1624">1624</th><td>            </td></tr>
<tr><th id="1625">1625</th><td>            <i>// Check for valid, supported event model</i></td></tr>
<tr><th id="1626">1626</th><td>            <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModel" title='NPEventModel' data-type='enum NPEventModel' data-ref="NPEventModel" data-ref-filename="NPEventModel">NPEventModel</a> <dfn class="local col1 decl" id="211newEventModel" title='newEventModel' data-type='NPEventModel' data-ref="211newEventModel" data-ref-filename="211newEventModel">newEventModel</dfn> = (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModel" title='NPEventModel' data-type='enum NPEventModel' data-ref="NPEventModel" data-ref-filename="NPEventModel">NPEventModel</a>)(<span class='typedef' title='uintptr_t' data-type='unsigned long' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</span>)<a class="local col9 ref" href="#209value" title='value' data-ref="209value" data-ref-filename="209value">value</a>;</td></tr>
<tr><th id="1627">1627</th><td>            <b>switch</b> (<a class="local col1 ref" href="#211newEventModel" title='newEventModel' data-ref="211newEventModel" data-ref-filename="211newEventModel">newEventModel</a>) {</td></tr>
<tr><th id="1628">1628</th><td>                <i>// Supported event models:</i></td></tr>
<tr><th id="1629">1629</th><td>                <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPEventModelCocoa" title='NPEventModelCocoa' data-ref="NPEventModelCocoa" data-ref-filename="NPEventModelCocoa">NPEventModelCocoa</a>:</td></tr>
<tr><th id="1630">1630</th><td>                    eventModel = <a class="local col1 ref" href="#211newEventModel" title='newEventModel' data-ref="211newEventModel" data-ref-filename="211newEventModel">newEventModel</a>;</td></tr>
<tr><th id="1631">1631</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1632">1632</th><td>                    </td></tr>
<tr><th id="1633">1633</th><td>                    <i>// Unsupported (or unknown) event models:</i></td></tr>
<tr><th id="1634">1634</th><td>                <b>default</b>:</td></tr>
<tr><th id="1635">1635</th><td>                    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;Plugin %@ uses unsupported event model: %d&quot;, _eventHandler.get(), eventModel)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"Plugin %@ uses unsupported event model: %d"</q>, _eventHandler.<span class='ref fn' title='std::__1::unique_ptr::get' data-ref="_ZNKSt3__110unique_ptr3getEv" data-ref-filename="_ZNKSt3__110unique_ptr3getEv">get</span>(), eventModel);</td></tr>
<tr><th id="1636">1636</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1637">1637</th><td>            }</td></tr>
<tr><th id="1638">1638</th><td>        }</td></tr>
<tr><th id="1639">1639</th><td>            </td></tr>
<tr><th id="1640">1640</th><td>        <b>default</b>:</td></tr>
<tr><th id="1641">1641</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1642">1642</th><td>    }</td></tr>
<tr><th id="1643">1643</th><td>}</td></tr>
<tr><th id="1644">1644</th><td></td></tr>
<tr><th id="1645">1645</th><td>- (<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>)scheduleTimerWithInterval:(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>)<dfn class="local col2 decl" id="212interval" title='interval' data-type='uint32_t' data-ref="212interval" data-ref-filename="212interval">interval</dfn> repeat:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a>)<dfn class="local col3 decl" id="213repeat" title='repeat' data-type='NPBool' data-ref="213repeat" data-ref-filename="213repeat">repeat</dfn> timerFunc:(<em>void</em> (*)(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP" title='NPP' data-type='NPP_t *' data-ref="NPP" data-ref-filename="NPP">NPP</a> <dfn class="local col5 decl" id="215npp" title='npp' data-type='NPP' data-ref="215npp" data-ref-filename="215npp">npp</dfn>, <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col6 decl" id="216timerID" title='timerID' data-type='uint32_t' data-ref="216timerID" data-ref-filename="216timerID">timerID</dfn>))<dfn class="local col4 decl" id="214timerFunc" title='timerFunc' data-type='void (*)(NPP, uint32_t)' data-ref="214timerFunc" data-ref-filename="214timerFunc">timerFunc</dfn></td></tr>
<tr><th id="1646">1646</th><td>{</td></tr>
<tr><th id="1647">1647</th><td>    <b>if</b> (!<a class="local col4 ref" href="#214timerFunc" title='timerFunc' data-ref="214timerFunc" data-ref-filename="214timerFunc">timerFunc</a>)</td></tr>
<tr><th id="1648">1648</th><td>        <b>return</b> <var>0</var>;</td></tr>
<tr><th id="1649">1649</th><td>    </td></tr>
<tr><th id="1650">1650</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>timers)</td></tr>
<tr><th id="1651">1651</th><td>        timers <span class='ref fn' title='std::__1::unique_ptr::operator=' data-ref="_ZNSt3__110unique_ptraSEONS_10unique_ptrIT_T0_EE" data-ref-filename="_ZNSt3__110unique_ptraSEONS_10unique_ptrIT_T0_EE">=</span> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/StdLibExtras.h.html#_ZN3WTF10makeUniqueEDpOT0_" title='WTF::makeUnique' data-ref="_ZN3WTF10makeUniqueEDpOT0_" data-ref-filename="_ZN3WTF10makeUniqueEDpOT0_">makeUnique</a>&lt;<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::HashMap" title='WTF::HashMap' data-ref="WTF::HashMap" data-ref-filename="WTF..HashMap">HashMap</a>&lt;<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>, <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="#PluginTimer" title='PluginTimer' data-ref="PluginTimer" data-ref-filename="PluginTimer">PluginTimer</a>&gt;&gt;&gt;();</td></tr>
<tr><th id="1652">1652</th><td></td></tr>
<tr><th id="1653">1653</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::unique_ptr' data-ref="std::__1::unique_ptr" data-ref-filename="std..__1..unique_ptr">unique_ptr</span>&lt;<a class="type" href="#PluginTimer" title='PluginTimer' data-ref="PluginTimer" data-ref-filename="PluginTimer">PluginTimer</a>&gt;* <dfn class="local col7 decl" id="217slot" title='slot' data-type='std::unique_ptr&lt;PluginTimer&gt; *' data-ref="217slot" data-ref-filename="217slot">slot</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1654">1654</th><td>    <span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span> <dfn class="local col8 decl" id="218timerID" title='timerID' data-type='uint32_t' data-ref="218timerID" data-ref-filename="218timerID">timerID</dfn>;</td></tr>
<tr><th id="1655">1655</th><td>    <b>do</b></td></tr>
<tr><th id="1656">1656</th><td>        <a class="local col8 ref" href="#218timerID" title='timerID' data-ref="218timerID" data-ref-filename="218timerID">timerID</a> = ++currentTimerID;</td></tr>
<tr><th id="1657">1657</th><td>    <b>while</b> (!timers<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashMap.h.html#_ZN3WTF7HashMap10isValidKeyERKNT2_9TraitTypeE" title='WTF::HashMap::isValidKey' data-ref="_ZN3WTF7HashMap10isValidKeyERKNT2_9TraitTypeE" data-ref-filename="_ZN3WTF7HashMap10isValidKeyERKNT2_9TraitTypeE">isValidKey</a>(<a class="local col8 ref" href="#218timerID" title='timerID' data-ref="218timerID" data-ref-filename="218timerID">timerID</a>) || <span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>*(<a class="local col7 ref" href="#217slot" title='slot' data-ref="217slot" data-ref-filename="217slot">slot</a> = &amp;timers<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashMap.h.html#_ZN3WTF7HashMap3addERKNT2_9TraitTypeEOTL0__" title='WTF::HashMap::add' data-ref="_ZN3WTF7HashMap3addERKNT2_9TraitTypeEOTL0__" data-ref-filename="_ZN3WTF7HashMap3addERKNT2_9TraitTypeEOTL0__">add</a>(<a class="local col8 ref" href="#218timerID" title='timerID' data-ref="218timerID" data-ref-filename="218timerID">timerID</a>, <b>nullptr</b>).<a class="ref field" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashTable.h.html#WTF::HashTableAddResult::iterator" title='WTF::HashTableAddResult&lt;WTF::HashTableIterator&lt;WTF::HashTable&lt;unsigned int, WTF::KeyValuePair&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;, WTF::KeyValuePairKeyExtractor&lt;WTF::KeyValuePair&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;&gt;, WTF::DefaultHash&lt;unsigned int&gt;, WTF::HashMap&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;, WTF::DefaultHash&lt;unsigned int&gt;, WTF::HashTraits&lt;unsigned int&gt;, WTF::HashTraits&lt;std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;, WTF::HashTableTraits&gt;::KeyValuePairTraits, WTF::HashTraits&lt;unsigned int&gt;&gt;, unsigned int, WTF::KeyValuePair&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;, WTF::KeyValuePairKeyExtractor&lt;WTF::KeyValuePair&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;&gt;, WTF::DefaultHash&lt;unsigned int&gt;, WTF::HashMap&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;, WTF::DefaultHash&lt;unsigned int&gt;, WTF::HashTraits&lt;unsigned int&gt;, WTF::HashTraits&lt;std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;, WTF::HashTableTraits&gt;::KeyValuePairTraits, WTF::HashTraits&lt;unsigned int&gt;&gt;&gt;::iterator' data-ref="WTF::HashTableAddResult::iterator" data-ref-filename="WTF..HashTableAddResult..iterator">iterator</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashTable.h.html#_ZNK3WTF17HashTableIteratorptEv" title='WTF::HashTableIterator::operator-&gt;' data-ref="_ZNK3WTF17HashTableIteratorptEv" data-ref-filename="_ZNK3WTF17HashTableIteratorptEv">-&gt;</a><a class="ref field" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/KeyValuePair.h.html#WTF::KeyValuePair::value" title='WTF::KeyValuePair&lt;unsigned int, std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;&gt;::value' data-ref="WTF::KeyValuePair::value" data-ref-filename="WTF..KeyValuePair..value">value</a>));</td></tr>
<tr><th id="1658">1658</th><td></td></tr>
<tr><th id="1659">1659</th><td>    <em>auto</em> <dfn class="local col9 decl" id="219timer" title='timer' data-type='std::__1::unique_ptr&lt;PluginTimer, std::__1::default_delete&lt;PluginTimer&gt;&gt;' data-ref="219timer" data-ref-filename="219timer">timer</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/StdLibExtras.h.html#_ZN3WTF10makeUniqueEDpOT0_" title='WTF::makeUnique' data-ref="_ZN3WTF10makeUniqueEDpOT0_" data-ref-filename="_ZN3WTF10makeUniqueEDpOT0_">makeUnique</a>&lt;<a class="type" href="#PluginTimer" title='PluginTimer' data-ref="PluginTimer" data-ref-filename="PluginTimer">PluginTimer</a>&gt;(<span class='refarg'>plugin</span>, <span class='refarg'><a class="local col8 ref" href="#218timerID" title='timerID' data-ref="218timerID" data-ref-filename="218timerID">timerID</a></span>, <span class='refarg'><a class="local col2 ref" href="#212interval" title='interval' data-ref="212interval" data-ref-filename="212interval">interval</a></span>, <span class='refarg'><a class="local col3 ref" href="#213repeat" title='repeat' data-ref="213repeat" data-ref-filename="213repeat">repeat</a></span>, <span class='refarg'><a class="local col4 ref" href="#214timerFunc" title='timerFunc' data-ref="214timerFunc" data-ref-filename="214timerFunc">timerFunc</a></span>);</td></tr>
<tr><th id="1660">1660</th><td></td></tr>
<tr><th id="1661">1661</th><td>    <b>if</b> (_shouldFireTimers)</td></tr>
<tr><th id="1662">1662</th><td>        <a class="local col9 ref" href="#219timer" title='timer' data-ref="219timer" data-ref-filename="219timer">timer</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="#_ZN11PluginTimer5startEb" title='PluginTimer::start' data-ref="_ZN11PluginTimer5startEb" data-ref-filename="_ZN11PluginTimer5startEb">start</a>(_isCompletelyObscured);</td></tr>
<tr><th id="1663">1663</th><td>    </td></tr>
<tr><th id="1664">1664</th><td>    *<a class="local col7 ref" href="#217slot" title='slot' data-ref="217slot" data-ref-filename="217slot">slot</a> <span class='ref fn' title='std::__1::unique_ptr::operator=' data-ref="_ZNSt3__110unique_ptraSEONS_10unique_ptrIT_T0_EE" data-ref-filename="_ZNSt3__110unique_ptraSEONS_10unique_ptrIT_T0_EE">=</span> <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/StdLibExtras.h.html#568" title="std::move&lt;WTF::CheckMoveParameter&gt;(timer)" data-ref="_M/WTFMove">WTFMove</a>(<span class='refarg'><a class="local col9 ref" href="#219timer" title='timer' data-ref="219timer" data-ref-filename="219timer">timer</a></span>);</td></tr>
<tr><th id="1665">1665</th><td></td></tr>
<tr><th id="1666">1666</th><td>    <b>return</b> <a class="local col8 ref" href="#218timerID" title='timerID' data-ref="218timerID" data-ref-filename="218timerID">timerID</a>;</td></tr>
<tr><th id="1667">1667</th><td>}</td></tr>
<tr><th id="1668">1668</th><td></td></tr>
<tr><th id="1669">1669</th><td>- (<em>void</em>)unscheduleTimer:(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>)<dfn class="local col0 decl" id="220timerID" title='timerID' data-type='uint32_t' data-ref="220timerID" data-ref-filename="220timerID">timerID</dfn></td></tr>
<tr><th id="1670">1670</th><td>{</td></tr>
<tr><th id="1671">1671</th><td>    <b>if</b> (!<span class='ref fn fake' title='std::__1::unique_ptr::operator bool' data-ref="_ZNKSt3__110unique_ptrcvbEv" data-ref-filename="_ZNKSt3__110unique_ptrcvbEv"></span>timers)</td></tr>
<tr><th id="1672">1672</th><td>        <b>return</b>;</td></tr>
<tr><th id="1673">1673</th><td>    </td></tr>
<tr><th id="1674">1674</th><td>    timers<span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/HashMap.h.html#_ZN3WTF7HashMap6removeERKNT2_9TraitTypeE" title='WTF::HashMap::remove' data-ref="_ZN3WTF7HashMap6removeERKNT2_9TraitTypeE" data-ref-filename="_ZN3WTF7HashMap6removeERKNT2_9TraitTypeE">remove</a>(<a class="local col0 ref" href="#220timerID" title='timerID' data-ref="220timerID" data-ref-filename="220timerID">timerID</a>);</td></tr>
<tr><th id="1675">1675</th><td>}</td></tr>
<tr><th id="1676">1676</th><td></td></tr>
<tr><th id="1677">1677</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)popUpContextMenu:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPMenu" title='NPMenu' data-type='NPNSMenu' data-ref="NPMenu" data-ref-filename="NPMenu">NPMenu</a> *)<dfn class="local col1 decl" id="221menu" title='menu' data-type='NPMenu *' data-ref="221menu" data-ref-filename="221menu">menu</dfn></td></tr>
<tr><th id="1678">1678</th><td>{</td></tr>
<tr><th id="1679">1679</th><td>    NSEvent *<dfn class="local col2 decl" id="222currentEvent" title='currentEvent' data-type='NSEvent *' data-ref="222currentEvent" data-ref-filename="222currentEvent">currentEvent</dfn> = [<span class='ref' title='NSApp' data-ref="NSApp" data-ref-filename="NSApp">NSApp</span> currentEvent];</td></tr>
<tr><th id="1680">1680</th><td>    </td></tr>
<tr><th id="1681">1681</th><td>    <i>// NPN_PopUpContextMenu must be called from within the plug-in's NPP_HandleEvent.</i></td></tr>
<tr><th id="1682">1682</th><td>    <b>if</b> (!<a class="local col2 ref" href="#222currentEvent" title='currentEvent' data-ref="222currentEvent" data-ref-filename="222currentEvent">currentEvent</a>)</td></tr>
<tr><th id="1683">1683</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1684">1684</th><td>    </td></tr>
<tr><th id="1685">1685</th><td>    [NSMenu popUpContextMenu:(<b>__bridge</b> NSMenu *)<a class="local col1 ref" href="#221menu" title='menu' data-ref="221menu" data-ref-filename="221menu">menu</a> withEvent:<a class="local col2 ref" href="#222currentEvent" title='currentEvent' data-ref="222currentEvent" data-ref-filename="222currentEvent">currentEvent</a> forView:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>];</td></tr>
<tr><th id="1686">1686</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1687">1687</th><td>}</td></tr>
<tr><th id="1688">1688</th><td></td></tr>
<tr><th id="1689">1689</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)getVariable:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNURLVariable" title='NPNURLVariable' data-type='enum NPNURLVariable' data-ref="NPNURLVariable" data-ref-filename="NPNURLVariable">NPNURLVariable</a>)<dfn class="local col3 decl" id="223variable" title='variable' data-type='NPNURLVariable' data-ref="223variable" data-ref-filename="223variable">variable</dfn> forURL:(<em>const</em> <em>char</em>*)<dfn class="local col4 decl" id="224url" title='url' data-type='const char *' data-ref="224url" data-ref-filename="224url">url</dfn> value:(<em>char</em>**)<dfn class="local col5 decl" id="225value" title='value' data-type='char **' data-ref="225value" data-ref-filename="225value">value</dfn> length:(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>*)<dfn class="local col6 decl" id="226length" title='length' data-type='uint32_t *' data-ref="226length" data-ref-filename="226length">length</dfn></td></tr>
<tr><th id="1690">1690</th><td>{</td></tr>
<tr><th id="1691">1691</th><td>    <b>switch</b> (<a class="local col3 ref" href="#223variable" title='variable' data-ref="223variable" data-ref-filename="223variable">variable</a>) {</td></tr>
<tr><th id="1692">1692</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNURLVCookie" title='NPNURLVCookie' data-ref="NPNURLVCookie" data-ref-filename="NPNURLVCookie">NPNURLVCookie</a>: {</td></tr>
<tr><th id="1693">1693</th><td>            <b>if</b> (!<a class="local col5 ref" href="#225value" title='value' data-ref="225value" data-ref-filename="225value">value</a>)</td></tr>
<tr><th id="1694">1694</th><td>                <b>break</b>;</td></tr>
<tr><th id="1695">1695</th><td>            </td></tr>
<tr><th id="1696">1696</th><td>            NSURL *<dfn class="local col7 decl" id="227URL" title='URL' data-type='NSURL *' data-ref="227URL" data-ref-filename="227URL">URL</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> URLWithCString:<a class="local col4 ref" href="#224url" title='url' data-ref="224url" data-ref-filename="224url">url</a>];</td></tr>
<tr><th id="1697">1697</th><td>            <b>if</b> (!<a class="local col7 ref" href="#227URL" title='URL' data-ref="227URL" data-ref-filename="227URL">URL</a>)</td></tr>
<tr><th id="1698">1698</th><td>                <b>break</b>;</td></tr>
<tr><th id="1699">1699</th><td>            </td></tr>
<tr><th id="1700">1700</th><td>            <b>if</b> (<a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#WebCore::Frame" title='WebCore::Frame' data-ref="WebCore::Frame" data-ref-filename="WebCore..Frame">Frame</a>* <dfn class="local col8 decl" id="228frame" title='frame' data-type='WebCore::Frame *' data-ref="228frame" data-ref-filename="228frame"><a class="local col8 ref" href="#228frame" title='frame' data-ref="228frame" data-ref-filename="228frame">frame</a></dfn> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])) {</td></tr>
<tr><th id="1701">1701</th><td>                <em>auto</em>* <dfn class="local col9 decl" id="229document" title='document' data-type='WebCore::Document *' data-ref="229document" data-ref-filename="229document">document</dfn> = <a class="local col8 ref" href="#228frame" title='frame' data-ref="228frame" data-ref-filename="228frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZNK7WebCore5Frame8documentEv" title='WebCore::Frame::document' data-ref="_ZNK7WebCore5Frame8documentEv" data-ref-filename="_ZNK7WebCore5Frame8documentEv">document</a>();</td></tr>
<tr><th id="1702">1702</th><td>                <b>if</b> (!<a class="local col9 ref" href="#229document" title='document' data-ref="229document" data-ref-filename="229document">document</a>)</td></tr>
<tr><th id="1703">1703</th><td>                    <b>break</b>;</td></tr>
<tr><th id="1704">1704</th><td>                </td></tr>
<tr><th id="1705">1705</th><td>                <em>auto</em>* <dfn class="local col0 decl" id="230page" title='page' data-type='WebCore::Page *' data-ref="230page" data-ref-filename="230page">page</dfn> = <a class="local col9 ref" href="#229document" title='document' data-ref="229document" data-ref-filename="229document">document</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Document.h.html#_ZNK7WebCore8Document4pageEv" title='WebCore::Document::page' data-ref="_ZNK7WebCore8Document4pageEv" data-ref-filename="_ZNK7WebCore8Document4pageEv">page</a>();</td></tr>
<tr><th id="1706">1706</th><td>                <b>if</b> (!<a class="local col0 ref" href="#230page" title='page' data-ref="230page" data-ref-filename="230page">page</a>)</td></tr>
<tr><th id="1707">1707</th><td>                    <b>break</b>;</td></tr>
<tr><th id="1708">1708</th><td></td></tr>
<tr><th id="1709">1709</th><td>                <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a> <dfn class="local col1 decl" id="231cookieString" title='cookieString' data-type='WTF::String' data-ref="231cookieString" data-ref-filename="231cookieString">cookieString</dfn> = <a class="local col0 ref" href="#230page" title='page' data-ref="230page" data-ref-filename="230page">page</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Page.h.html#_ZN7WebCore4Page9cookieJarEv" title='WebCore::Page::cookieJar' data-ref="_ZN7WebCore4Page9cookieJarEv" data-ref-filename="_ZN7WebCore4Page9cookieJarEv">cookieJar</a>().<a class="virtual ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CookieJar.h.html#_ZNK7WebCore9CookieJar7cookiesERNS_8DocumentERKN3WTF3URLE" title='WebCore::CookieJar::cookies' data-ref="_ZNK7WebCore9CookieJar7cookiesERNS_8DocumentERKN3WTF3URLE" data-ref-filename="_ZNK7WebCore9CookieJar7cookiesERNS_8DocumentERKN3WTF3URLE">cookies</a>(<span class='refarg'>*<a class="local col9 ref" href="#229document" title='document' data-ref="229document" data-ref-filename="229document">document</a></span>, <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#_ZN3WTF3URLC1EP5NSURL" title='WTF::URL::URL' data-ref="_ZN3WTF3URLC1EP5NSURL" data-ref-filename="_ZN3WTF3URLC1EP5NSURL"></a><a class="local col7 ref" href="#227URL" title='URL' data-ref="227URL" data-ref-filename="227URL">URL</a>);</td></tr>
<tr><th id="1710">1710</th><td>                <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#WTF::CString" title='WTF::CString' data-ref="WTF::CString" data-ref-filename="WTF..CString">CString</a> <dfn class="local col2 decl" id="232cookieStringUTF8" title='cookieStringUTF8' data-type='WTF::CString' data-ref="232cookieStringUTF8" data-ref-filename="232cookieStringUTF8">cookieStringUTF8</dfn> = <a class="local col1 ref" href="#231cookieString" title='cookieString' data-ref="231cookieString" data-ref-filename="231cookieString">cookieString</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6String4utf8Ev" title='WTF::String::utf8' data-ref="_ZNK3WTF6String4utf8Ev" data-ref-filename="_ZNK3WTF6String4utf8Ev">utf8</a>();</td></tr>
<tr><th id="1711">1711</th><td>                <b>if</b> (<a class="local col2 ref" href="#232cookieStringUTF8" title='cookieStringUTF8' data-ref="232cookieStringUTF8" data-ref-filename="232cookieStringUTF8">cookieStringUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6isNullEv" title='WTF::CString::isNull' data-ref="_ZNK3WTF7CString6isNullEv" data-ref-filename="_ZNK3WTF7CString6isNullEv">isNull</a>())</td></tr>
<tr><th id="1712">1712</th><td>                    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1713">1713</th><td></td></tr>
<tr><th id="1714">1714</th><td>                *<a class="local col5 ref" href="#225value" title='value' data-ref="225value" data-ref-filename="225value">value</a> = <b>static_cast</b>&lt;<em>char</em>*&gt;(<a class="ref fn" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPN_MemAlloc" title='NPN_MemAlloc' data-ref="NPN_MemAlloc" data-ref-filename="NPN_MemAlloc">NPN_MemAlloc</a>(<a class="local col2 ref" href="#232cookieStringUTF8" title='cookieStringUTF8' data-ref="232cookieStringUTF8" data-ref-filename="232cookieStringUTF8">cookieStringUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>()));</td></tr>
<tr><th id="1715">1715</th><td>                <span class='ref fn' title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</span>(*<a class="local col5 ref" href="#225value" title='value' data-ref="225value" data-ref-filename="225value">value</a>, <a class="local col2 ref" href="#232cookieStringUTF8" title='cookieStringUTF8' data-ref="232cookieStringUTF8" data-ref-filename="232cookieStringUTF8">cookieStringUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString4dataEv" title='WTF::CString::data' data-ref="_ZNK3WTF7CString4dataEv" data-ref-filename="_ZNK3WTF7CString4dataEv">data</a>(), <a class="local col2 ref" href="#232cookieStringUTF8" title='cookieStringUTF8' data-ref="232cookieStringUTF8" data-ref-filename="232cookieStringUTF8">cookieStringUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>());</td></tr>
<tr><th id="1716">1716</th><td>                </td></tr>
<tr><th id="1717">1717</th><td>                <b>if</b> (<a class="local col6 ref" href="#226length" title='length' data-ref="226length" data-ref-filename="226length">length</a>)</td></tr>
<tr><th id="1718">1718</th><td>                    *<a class="local col6 ref" href="#226length" title='length' data-ref="226length" data-ref-filename="226length">length</a> = <a class="local col2 ref" href="#232cookieStringUTF8" title='cookieStringUTF8' data-ref="232cookieStringUTF8" data-ref-filename="232cookieStringUTF8">cookieStringUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>();</td></tr>
<tr><th id="1719">1719</th><td>                <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1720">1720</th><td>            }</td></tr>
<tr><th id="1721">1721</th><td>            <b>break</b>;</td></tr>
<tr><th id="1722">1722</th><td>        }</td></tr>
<tr><th id="1723">1723</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNURLVProxy" title='NPNURLVProxy' data-ref="NPNURLVProxy" data-ref-filename="NPNURLVProxy">NPNURLVProxy</a>: {</td></tr>
<tr><th id="1724">1724</th><td>            <b>if</b> (!<a class="local col5 ref" href="#225value" title='value' data-ref="225value" data-ref-filename="225value">value</a>)</td></tr>
<tr><th id="1725">1725</th><td>                <b>break</b>;</td></tr>
<tr><th id="1726">1726</th><td>            </td></tr>
<tr><th id="1727">1727</th><td>            NSURL *<dfn class="local col3 decl" id="233URL" title='URL' data-type='NSURL *' data-ref="233URL" data-ref-filename="233URL">URL</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> URLWithCString:<a class="local col4 ref" href="#224url" title='url' data-ref="224url" data-ref-filename="224url">url</a>];</td></tr>
<tr><th id="1728">1728</th><td>            <b>if</b> (!<a class="local col3 ref" href="#233URL" title='URL' data-ref="233URL" data-ref-filename="233URL">URL</a>)</td></tr>
<tr><th id="1729">1729</th><td>                <b>break</b>;</td></tr>
<tr><th id="1730">1730</th><td></td></tr>
<tr><th id="1731">1731</th><td>            <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::Vector" title='WTF::Vector' data-ref="WTF::Vector" data-ref-filename="WTF..Vector">Vector</a>&lt;<a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ProxyServer.h.html#WebCore::ProxyServer" title='WebCore::ProxyServer' data-ref="WebCore::ProxyServer" data-ref-filename="WebCore..ProxyServer">ProxyServer</a>&gt; <dfn class="local col4 decl" id="234proxyServers" title='proxyServers' data-type='Vector&lt;WebCore::ProxyServer&gt;' data-ref="234proxyServers" data-ref-filename="234proxyServers">proxyServers</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ProxyServer.h.html#_ZN7WebCore18proxyServersForURLERKN3WTF3URLE" title='WebCore::proxyServersForURL' data-ref="_ZN7WebCore18proxyServersForURLERKN3WTF3URLE" data-ref-filename="_ZN7WebCore18proxyServersForURLERKN3WTF3URLE">proxyServersForURL</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#_ZN3WTF3URLC1EP5NSURL" title='WTF::URL::URL' data-ref="_ZN3WTF3URLC1EP5NSURL" data-ref-filename="_ZN3WTF3URLC1EP5NSURL"></a><a class="local col3 ref" href="#233URL" title='URL' data-ref="233URL" data-ref-filename="233URL">URL</a>);</td></tr>
<tr><th id="1732">1732</th><td>            <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#WTF::CString" title='WTF::CString' data-ref="WTF::CString" data-ref-filename="WTF..CString">CString</a> <dfn class="local col5 decl" id="235proxiesUTF8" title='proxiesUTF8' data-type='WTF::CString' data-ref="235proxiesUTF8" data-ref-filename="235proxiesUTF8">proxiesUTF8</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ProxyServer.h.html#_ZN7WebCore8toStringERKN3WTF6VectorINS_11ProxyServerELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEE" title='WebCore::toString' data-ref="_ZN7WebCore8toStringERKN3WTF6VectorINS_11ProxyServerELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEE" data-ref-filename="_ZN7WebCore8toStringERKN3WTF6VectorINS_11ProxyServerELm0ENS0_15CrashOnOverflowELm16ENS0_10FastMallocEEE">toString</a>(<a class="local col4 ref" href="#234proxyServers" title='proxyServers' data-ref="234proxyServers" data-ref-filename="234proxyServers">proxyServers</a>).<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6String4utf8Ev" title='WTF::String::utf8' data-ref="_ZNK3WTF6String4utf8Ev" data-ref-filename="_ZNK3WTF6String4utf8Ev">utf8</a>();</td></tr>
<tr><th id="1733">1733</th><td>            </td></tr>
<tr><th id="1734">1734</th><td>            *<a class="local col5 ref" href="#225value" title='value' data-ref="225value" data-ref-filename="225value">value</a> = <b>static_cast</b>&lt;<em>char</em>*&gt;(<a class="ref fn" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPN_MemAlloc" title='NPN_MemAlloc' data-ref="NPN_MemAlloc" data-ref-filename="NPN_MemAlloc">NPN_MemAlloc</a>(<a class="local col5 ref" href="#235proxiesUTF8" title='proxiesUTF8' data-ref="235proxiesUTF8" data-ref-filename="235proxiesUTF8">proxiesUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>()));</td></tr>
<tr><th id="1735">1735</th><td>            <span class='ref fn' title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</span>(*<a class="local col5 ref" href="#225value" title='value' data-ref="225value" data-ref-filename="225value">value</a>, <a class="local col5 ref" href="#235proxiesUTF8" title='proxiesUTF8' data-ref="235proxiesUTF8" data-ref-filename="235proxiesUTF8">proxiesUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString4dataEv" title='WTF::CString::data' data-ref="_ZNK3WTF7CString4dataEv" data-ref-filename="_ZNK3WTF7CString4dataEv">data</a>(), <a class="local col5 ref" href="#235proxiesUTF8" title='proxiesUTF8' data-ref="235proxiesUTF8" data-ref-filename="235proxiesUTF8">proxiesUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>());</td></tr>
<tr><th id="1736">1736</th><td>            </td></tr>
<tr><th id="1737">1737</th><td>           <b>if</b> (<a class="local col6 ref" href="#226length" title='length' data-ref="226length" data-ref-filename="226length">length</a>)</td></tr>
<tr><th id="1738">1738</th><td>               *<a class="local col6 ref" href="#226length" title='length' data-ref="226length" data-ref-filename="226length">length</a> = <a class="local col5 ref" href="#235proxiesUTF8" title='proxiesUTF8' data-ref="235proxiesUTF8" data-ref-filename="235proxiesUTF8">proxiesUTF8</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>();</td></tr>
<tr><th id="1739">1739</th><td>            </td></tr>
<tr><th id="1740">1740</th><td>            <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1741">1741</th><td>        }</td></tr>
<tr><th id="1742">1742</th><td>    }</td></tr>
<tr><th id="1743">1743</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1744">1744</th><td>}</td></tr>
<tr><th id="1745">1745</th><td></td></tr>
<tr><th id="1746">1746</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)setVariable:(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNURLVariable" title='NPNURLVariable' data-type='enum NPNURLVariable' data-ref="NPNURLVariable" data-ref-filename="NPNURLVariable">NPNURLVariable</a>)<dfn class="local col6 decl" id="236variable" title='variable' data-type='NPNURLVariable' data-ref="236variable" data-ref-filename="236variable">variable</dfn> forURL:(<em>const</em> <em>char</em>*)<dfn class="local col7 decl" id="237url" title='url' data-type='const char *' data-ref="237url" data-ref-filename="237url">url</dfn> value:(<em>const</em> <em>char</em>*)<dfn class="local col8 decl" id="238value" title='value' data-type='const char *' data-ref="238value" data-ref-filename="238value">value</dfn> length:(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>)<dfn class="local col9 decl" id="239length" title='length' data-type='uint32_t' data-ref="239length" data-ref-filename="239length">length</dfn></td></tr>
<tr><th id="1747">1747</th><td>{</td></tr>
<tr><th id="1748">1748</th><td>    <b>switch</b> (<a class="local col6 ref" href="#236variable" title='variable' data-ref="236variable" data-ref-filename="236variable">variable</a>) {</td></tr>
<tr><th id="1749">1749</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNURLVCookie" title='NPNURLVCookie' data-ref="NPNURLVCookie" data-ref-filename="NPNURLVCookie">NPNURLVCookie</a>: {</td></tr>
<tr><th id="1750">1750</th><td>            NSURL *<dfn class="local col0 decl" id="240URL" title='URL' data-type='NSURL *' data-ref="240URL" data-ref-filename="240URL">URL</dfn> = [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> URLWithCString:<a class="local col7 ref" href="#237url" title='url' data-ref="237url" data-ref-filename="237url">url</a>];</td></tr>
<tr><th id="1751">1751</th><td>            <b>if</b> (!<a class="local col0 ref" href="#240URL" title='URL' data-ref="240URL" data-ref-filename="240URL">URL</a>)</td></tr>
<tr><th id="1752">1752</th><td>                <b>break</b>;</td></tr>
<tr><th id="1753">1753</th><td>            </td></tr>
<tr><th id="1754">1754</th><td>            <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a> <dfn class="local col1 decl" id="241cookieString" title='cookieString' data-type='WTF::String' data-ref="241cookieString" data-ref-filename="241cookieString">cookieString</dfn> = <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a>::<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZN3WTF6String8fromUTF8EPKcm" title='WTF::String::fromUTF8' data-ref="_ZN3WTF6String8fromUTF8EPKcm" data-ref-filename="_ZN3WTF6String8fromUTF8EPKcm">fromUTF8</a>(<a class="local col8 ref" href="#238value" title='value' data-ref="238value" data-ref-filename="238value">value</a>, <a class="local col9 ref" href="#239length" title='length' data-ref="239length" data-ref-filename="239length">length</a>);</td></tr>
<tr><th id="1755">1755</th><td>            <b>if</b> (<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZN3WTFntERKNS_6StringE" title='WTF::operator!' data-ref="_ZN3WTFntERKNS_6StringE" data-ref-filename="_ZN3WTFntERKNS_6StringE">!</a><a class="local col1 ref" href="#241cookieString" title='cookieString' data-ref="241cookieString" data-ref-filename="241cookieString">cookieString</a>)</td></tr>
<tr><th id="1756">1756</th><td>                <b>break</b>;</td></tr>
<tr><th id="1757">1757</th><td>            </td></tr>
<tr><th id="1758">1758</th><td>            <b>if</b> (<a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#WebCore::Frame" title='WebCore::Frame' data-ref="WebCore::Frame" data-ref-filename="WebCore..Frame">Frame</a>* <dfn class="local col2 decl" id="242frame" title='frame' data-type='WebCore::Frame *' data-ref="242frame" data-ref-filename="242frame"><a class="local col2 ref" href="#242frame" title='frame' data-ref="242frame" data-ref-filename="242frame">frame</a></dfn> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame])) {</td></tr>
<tr><th id="1759">1759</th><td>                <b>if</b> (<em>auto</em>* <dfn class="local col3 decl" id="243document" title='document' data-type='WebCore::Document *' data-ref="243document" data-ref-filename="243document"><a class="local col3 ref" href="#243document" title='document' data-ref="243document" data-ref-filename="243document">document</a></dfn> = <a class="local col2 ref" href="#242frame" title='frame' data-ref="242frame" data-ref-filename="242frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZNK7WebCore5Frame8documentEv" title='WebCore::Frame::document' data-ref="_ZNK7WebCore5Frame8documentEv" data-ref-filename="_ZNK7WebCore5Frame8documentEv">document</a>()) {</td></tr>
<tr><th id="1760">1760</th><td>                    <b>if</b> (<em>auto</em>* <dfn class="local col4 decl" id="244page" title='page' data-type='WebCore::Page *' data-ref="244page" data-ref-filename="244page"><a class="local col4 ref" href="#244page" title='page' data-ref="244page" data-ref-filename="244page">page</a></dfn> = <a class="local col3 ref" href="#243document" title='document' data-ref="243document" data-ref-filename="243document">document</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Document.h.html#_ZNK7WebCore8Document4pageEv" title='WebCore::Document::page' data-ref="_ZNK7WebCore8Document4pageEv" data-ref-filename="_ZNK7WebCore8Document4pageEv">page</a>())</td></tr>
<tr><th id="1761">1761</th><td>                        <a class="local col4 ref" href="#244page" title='page' data-ref="244page" data-ref-filename="244page">page</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Page.h.html#_ZN7WebCore4Page9cookieJarEv" title='WebCore::Page::cookieJar' data-ref="_ZN7WebCore4Page9cookieJarEv" data-ref-filename="_ZN7WebCore4Page9cookieJarEv">cookieJar</a>().<a class="virtual ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/CookieJar.h.html#_ZN7WebCore9CookieJar10setCookiesERNS_8DocumentERKN3WTF3URLERKNS3_6StringE" title='WebCore::CookieJar::setCookies' data-ref="_ZN7WebCore9CookieJar10setCookiesERNS_8DocumentERKN3WTF3URLERKNS3_6StringE" data-ref-filename="_ZN7WebCore9CookieJar10setCookiesERNS_8DocumentERKN3WTF3URLERKNS3_6StringE">setCookies</a>(<span class='refarg'>*<a class="local col3 ref" href="#243document" title='document' data-ref="243document" data-ref-filename="243document">document</a></span>, <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#_ZN3WTF3URLC1EP5NSURL" title='WTF::URL::URL' data-ref="_ZN3WTF3URLC1EP5NSURL" data-ref-filename="_ZN3WTF3URLC1EP5NSURL"></a><a class="local col0 ref" href="#240URL" title='URL' data-ref="240URL" data-ref-filename="240URL">URL</a>, <a class="local col1 ref" href="#241cookieString" title='cookieString' data-ref="241cookieString" data-ref-filename="241cookieString">cookieString</a>);</td></tr>
<tr><th id="1762">1762</th><td>                }</td></tr>
<tr><th id="1763">1763</th><td>                <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1764">1764</th><td>            }</td></tr>
<tr><th id="1765">1765</th><td>            </td></tr>
<tr><th id="1766">1766</th><td>            <b>break</b>;</td></tr>
<tr><th id="1767">1767</th><td>        }</td></tr>
<tr><th id="1768">1768</th><td>        <b>case</b> <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPNURLVProxy" title='NPNURLVProxy' data-ref="NPNURLVProxy" data-ref-filename="NPNURLVProxy">NPNURLVProxy</a>:</td></tr>
<tr><th id="1769">1769</th><td>            <i>// Can't set the proxy for a URL.</i></td></tr>
<tr><th id="1770">1770</th><td>            <b>break</b>;</td></tr>
<tr><th id="1771">1771</th><td>    }</td></tr>
<tr><th id="1772">1772</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1773">1773</th><td>}</td></tr>
<tr><th id="1774">1774</th><td></td></tr>
<tr><th id="1775">1775</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)getAuthenticationInfoWithProtocol:(<em>const</em> <em>char</em>*)<dfn class="local col5 decl" id="245protocolStr" title='protocolStr' data-type='const char *' data-ref="245protocolStr" data-ref-filename="245protocolStr">protocolStr</dfn> host:(<em>const</em> <em>char</em>*)<dfn class="local col6 decl" id="246hostStr" title='hostStr' data-type='const char *' data-ref="246hostStr" data-ref-filename="246hostStr">hostStr</dfn> port:(<span class='typedef' title='int32_t' data-type='int' data-ref="int32_t" data-ref-filename="int32_t">int32_t</span>)<dfn class="local col7 decl" id="247port" title='port' data-type='int32_t' data-ref="247port" data-ref-filename="247port">port</dfn> scheme:(<em>const</em> <em>char</em>*)<dfn class="local col8 decl" id="248schemeStr" title='schemeStr' data-type='const char *' data-ref="248schemeStr" data-ref-filename="248schemeStr">schemeStr</dfn> realm:(<em>const</em> <em>char</em>*)<dfn class="local col9 decl" id="249realmStr" title='realmStr' data-type='const char *' data-ref="249realmStr" data-ref-filename="249realmStr">realmStr</dfn></td></tr>
<tr><th id="1776">1776</th><td>                                    username:(<em>char</em>**)<dfn class="local col0 decl" id="250usernameStr" title='usernameStr' data-type='char **' data-ref="250usernameStr" data-ref-filename="250usernameStr">usernameStr</dfn> usernameLength:(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>*)<dfn class="local col1 decl" id="251usernameLength" title='usernameLength' data-type='uint32_t *' data-ref="251usernameLength" data-ref-filename="251usernameLength">usernameLength</dfn> </td></tr>
<tr><th id="1777">1777</th><td>                                    password:(<em>char</em>**)<dfn class="local col2 decl" id="252passwordStr" title='passwordStr' data-type='char **' data-ref="252passwordStr" data-ref-filename="252passwordStr">passwordStr</dfn> passwordLength:(<span class='typedef' title='uint32_t' data-type='unsigned int' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</span>*)<dfn class="local col3 decl" id="253passwordLength" title='passwordLength' data-type='uint32_t *' data-ref="253passwordLength" data-ref-filename="253passwordLength">passwordLength</dfn></td></tr>
<tr><th id="1778">1778</th><td>{</td></tr>
<tr><th id="1779">1779</th><td>    <b>if</b> (!<a class="local col5 ref" href="#245protocolStr" title='protocolStr' data-ref="245protocolStr" data-ref-filename="245protocolStr">protocolStr</a> || !<a class="local col6 ref" href="#246hostStr" title='hostStr' data-ref="246hostStr" data-ref-filename="246hostStr">hostStr</a> || !<a class="local col8 ref" href="#248schemeStr" title='schemeStr' data-ref="248schemeStr" data-ref-filename="248schemeStr">schemeStr</a> || !<a class="local col9 ref" href="#249realmStr" title='realmStr' data-ref="249realmStr" data-ref-filename="249realmStr">realmStr</a> || !<a class="local col0 ref" href="#250usernameStr" title='usernameStr' data-ref="250usernameStr" data-ref-filename="250usernameStr">usernameStr</a> || !<a class="local col1 ref" href="#251usernameLength" title='usernameLength' data-ref="251usernameLength" data-ref-filename="251usernameLength">usernameLength</a> || !<a class="local col2 ref" href="#252passwordStr" title='passwordStr' data-ref="252passwordStr" data-ref-filename="252passwordStr">passwordStr</a> || !<a class="local col3 ref" href="#253passwordLength" title='passwordLength' data-ref="253passwordLength" data-ref-filename="253passwordLength">passwordLength</a>)</td></tr>
<tr><th id="1780">1780</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1781">1781</th><td>  </td></tr>
<tr><th id="1782">1782</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#WTF::CString" title='WTF::CString' data-ref="WTF::CString" data-ref-filename="WTF..CString">CString</a> <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZN3WTF7CStringC1Ev" title='WTF::CString::CString' data-ref="_ZN3WTF7CStringC1Ev" data-ref-filename="_ZN3WTF7CStringC1Ev"></a><dfn class="local col4 decl" id="254username" title='username' data-type='WTF::CString' data-ref="254username" data-ref-filename="254username">username</dfn>;</td></tr>
<tr><th id="1783">1783</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#WTF::CString" title='WTF::CString' data-ref="WTF::CString" data-ref-filename="WTF..CString">CString</a> <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZN3WTF7CStringC1Ev" title='WTF::CString::CString' data-ref="_ZN3WTF7CStringC1Ev" data-ref-filename="_ZN3WTF7CStringC1Ev"></a><dfn class="local col5 decl" id="255password" title='password' data-type='WTF::CString' data-ref="255password" data-ref-filename="255password">password</dfn>;</td></tr>
<tr><th id="1784">1784</th><td>    <b>if</b> (!<a class="ref fn" href="WebBaseNetscapePluginView.h.html#_ZN6WebKit21getAuthenticationInfoEPKcS1_iS1_S1_RN3WTF7CStringES4_" title='WebKit::getAuthenticationInfo' data-ref="_ZN6WebKit21getAuthenticationInfoEPKcS1_iS1_S1_RN3WTF7CStringES4_" data-ref-filename="_ZN6WebKit21getAuthenticationInfoEPKcS1_iS1_S1_RN3WTF7CStringES4_">getAuthenticationInfo</a>(<a class="local col5 ref" href="#245protocolStr" title='protocolStr' data-ref="245protocolStr" data-ref-filename="245protocolStr">protocolStr</a>, <a class="local col6 ref" href="#246hostStr" title='hostStr' data-ref="246hostStr" data-ref-filename="246hostStr">hostStr</a>, <a class="local col7 ref" href="#247port" title='port' data-ref="247port" data-ref-filename="247port">port</a>, <a class="local col8 ref" href="#248schemeStr" title='schemeStr' data-ref="248schemeStr" data-ref-filename="248schemeStr">schemeStr</a>, <a class="local col9 ref" href="#249realmStr" title='realmStr' data-ref="249realmStr" data-ref-filename="249realmStr">realmStr</a>, <span class='refarg'><a class="local col4 ref" href="#254username" title='username' data-ref="254username" data-ref-filename="254username">username</a></span>, <span class='refarg'><a class="local col5 ref" href="#255password" title='password' data-ref="255password" data-ref-filename="255password">password</a></span>))</td></tr>
<tr><th id="1785">1785</th><td>        <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#692" title="(0 + 1)" data-ref="_M/NPERR_GENERIC_ERROR">NPERR_GENERIC_ERROR</a>;</td></tr>
<tr><th id="1786">1786</th><td>    </td></tr>
<tr><th id="1787">1787</th><td>    *<a class="local col1 ref" href="#251usernameLength" title='usernameLength' data-ref="251usernameLength" data-ref-filename="251usernameLength">usernameLength</a> = <a class="local col4 ref" href="#254username" title='username' data-ref="254username" data-ref-filename="254username">username</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>();</td></tr>
<tr><th id="1788">1788</th><td>    *<a class="local col0 ref" href="#250usernameStr" title='usernameStr' data-ref="250usernameStr" data-ref-filename="250usernameStr">usernameStr</a> = <b>static_cast</b>&lt;<em>char</em>*&gt;(<a class="ref fn" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPN_MemAlloc" title='NPN_MemAlloc' data-ref="NPN_MemAlloc" data-ref-filename="NPN_MemAlloc">NPN_MemAlloc</a>(<a class="local col4 ref" href="#254username" title='username' data-ref="254username" data-ref-filename="254username">username</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>()));</td></tr>
<tr><th id="1789">1789</th><td>    <span class='ref fn' title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</span>(*<a class="local col0 ref" href="#250usernameStr" title='usernameStr' data-ref="250usernameStr" data-ref-filename="250usernameStr">usernameStr</a>, <a class="local col4 ref" href="#254username" title='username' data-ref="254username" data-ref-filename="254username">username</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString4dataEv" title='WTF::CString::data' data-ref="_ZNK3WTF7CString4dataEv" data-ref-filename="_ZNK3WTF7CString4dataEv">data</a>(), <a class="local col4 ref" href="#254username" title='username' data-ref="254username" data-ref-filename="254username">username</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>());</td></tr>
<tr><th id="1790">1790</th><td>    </td></tr>
<tr><th id="1791">1791</th><td>    *<a class="local col3 ref" href="#253passwordLength" title='passwordLength' data-ref="253passwordLength" data-ref-filename="253passwordLength">passwordLength</a> = <a class="local col5 ref" href="#255password" title='password' data-ref="255password" data-ref-filename="255password">password</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>();</td></tr>
<tr><th id="1792">1792</th><td>    *<a class="local col2 ref" href="#252passwordStr" title='passwordStr' data-ref="252passwordStr" data-ref-filename="252passwordStr">passwordStr</a> = <b>static_cast</b>&lt;<em>char</em>*&gt;(<a class="ref fn" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPN_MemAlloc" title='NPN_MemAlloc' data-ref="NPN_MemAlloc" data-ref-filename="NPN_MemAlloc">NPN_MemAlloc</a>(<a class="local col5 ref" href="#255password" title='password' data-ref="255password" data-ref-filename="255password">password</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>()));</td></tr>
<tr><th id="1793">1793</th><td>    <span class='ref fn' title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</span>(*<a class="local col2 ref" href="#252passwordStr" title='passwordStr' data-ref="252passwordStr" data-ref-filename="252passwordStr">passwordStr</a>, <a class="local col5 ref" href="#255password" title='password' data-ref="255password" data-ref-filename="255password">password</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString4dataEv" title='WTF::CString::data' data-ref="_ZNK3WTF7CString4dataEv" data-ref-filename="_ZNK3WTF7CString4dataEv">data</a>(), <a class="local col5 ref" href="#255password" title='password' data-ref="255password" data-ref-filename="255password">password</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/CString.h.html#_ZNK3WTF7CString6lengthEv" title='WTF::CString::length' data-ref="_ZNK3WTF7CString6lengthEv" data-ref-filename="_ZNK3WTF7CString6lengthEv">length</a>());</td></tr>
<tr><th id="1794">1794</th><td>    </td></tr>
<tr><th id="1795">1795</th><td>    <b>return</b> <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a>;</td></tr>
<tr><th id="1796">1796</th><td>}</td></tr>
<tr><th id="1797">1797</th><td></td></tr>
<tr><th id="1798">1798</th><td>@end</td></tr>
<tr><th id="1799">1799</th><td></td></tr>
<tr><th id="1800">1800</th><td>@implementation <a class="macro" href="WebNetscapePluginView.h.html#50" title="WebNetscapePluginDocumentView" data-ref="_M/WebNetscapePluginView">WebNetscapePluginView</a> (Internal)</td></tr>
<tr><th id="1801">1801</th><td></td></tr>
<tr><th id="1802">1802</th><td>- (<span class='typedef' title='BOOL' data-type='bool' data-ref="BOOL" data-ref-filename="BOOL">BOOL</span>)_shouldCancelSrcStream</td></tr>
<tr><th id="1803">1803</th><td>{</td></tr>
<tr><th id="1804">1804</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_isStarted)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1804, __PRETTY_FUNCTION__, &quot;_isStarted&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1804, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3064); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_isStarted);</td></tr>
<tr><th id="1805">1805</th><td>    </td></tr>
<tr><th id="1806">1806</th><td>    <i>// Check if we should cancel the load</i></td></tr>
<tr><th id="1807">1807</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPBool" title='NPBool' data-type='unsigned char' data-ref="NPBool" data-ref-filename="NPBool">NPBool</a> <dfn class="local col6 decl" id="256cancelSrcStream" title='cancelSrcStream' data-type='NPBool' data-ref="256cancelSrcStream" data-ref-filename="256cancelSrcStream">cancelSrcStream</dfn> = <var>0</var>;</td></tr>
<tr><th id="1808">1808</th><td>    <b>if</b> ([_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a> &amp;&amp;</td></tr>
<tr><th id="1809">1809</th><td>        [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::getvalue" title='_NPPluginFuncs::getvalue' data-ref="_NPPluginFuncs::getvalue" data-ref-filename="_NPPluginFuncs..getvalue">getvalue</a>(plugin, <a class="enum" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPPVpluginCancelSrcStream" title='NPPVpluginCancelSrcStream' data-ref="NPPVpluginCancelSrcStream" data-ref-filename="NPPVpluginCancelSrcStream">NPPVpluginCancelSrcStream</a>, &amp;<a class="local col6 ref" href="#256cancelSrcStream" title='cancelSrcStream' data-ref="256cancelSrcStream" data-ref-filename="256cancelSrcStream">cancelSrcStream</a>) == <a class="macro" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#691" title="(0 + 0)" data-ref="_M/NPERR_NO_ERROR">NPERR_NO_ERROR</a> &amp;&amp; <a class="local col6 ref" href="#256cancelSrcStream" title='cancelSrcStream' data-ref="256cancelSrcStream" data-ref-filename="256cancelSrcStream">cancelSrcStream</a>)</td></tr>
<tr><th id="1810">1810</th><td>        <b>return</b> <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="1811">1811</th><td>    </td></tr>
<tr><th id="1812">1812</th><td>    <b>return</b> <span class="macro" title="__objc_no" data-ref="_M/NO">NO</span>;</td></tr>
<tr><th id="1813">1813</th><td>}</td></tr>
<tr><th id="1814">1814</th><td></td></tr>
<tr><th id="1815">1815</th><td>- (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a>)_createPlugin</td></tr>
<tr><th id="1816">1816</th><td>{</td></tr>
<tr><th id="1817">1817</th><td>    plugin = (<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP" title='NPP' data-type='NPP_t *' data-ref="NPP" data-ref-filename="NPP">NPP</a>)<span class='ref fn' title='calloc' data-ref="calloc" data-ref-filename="calloc">calloc</span>(<var>1</var>, <b>sizeof</b>(<a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPP_t" title='NPP_t' data-type='struct _NPP' data-ref="NPP_t" data-ref-filename="NPP_t">NPP_t</a>));</td></tr>
<tr><th id="1818">1818</th><td>    plugin-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#_NPP::ndata" title='_NPP::ndata' data-ref="_NPP::ndata" data-ref-filename="_NPP..ndata">ndata</a> = <span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>;</td></tr>
<tr><th id="1819">1819</th><td></td></tr>
<tr><th id="1820">1820</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!([_pluginPackage.get() pluginFuncs]-&gt;newp)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1820, __PRETTY_FUNCTION__, &quot;[_pluginPackage.get() pluginFuncs]-&gt;newp&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1820, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3066); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>([_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::newp" title='_NPPluginFuncs::newp' data-ref="_NPPluginFuncs::newp" data-ref-filename="_NPPluginFuncs..newp">newp</a>);</td></tr>
<tr><th id="1821">1821</th><td></td></tr>
<tr><th id="1822">1822</th><td>    <i>// NPN_New(), which creates the plug-in instance, should never be called while calling a plug-in function for that instance.</i></td></tr>
<tr><th id="1823">1823</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(pluginFunctionCallDepth == 0)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, 1823, __PRETTY_FUNCTION__, &quot;pluginFunctionCallDepth == 0&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(1823, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/Plugins/WebNetscapePluginView.mm&quot;, __PRETTY_FUNCTION__, 3068); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(pluginFunctionCallDepth == <var>0</var>);</td></tr>
<tr><th id="1824">1824</th><td></td></tr>
<tr><th id="1825">1825</th><td>    _isFlash = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() bundleIdentifier] <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZN3WTFeqERKNS_6StringEPKc" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6StringEPKc" data-ref-filename="_ZN3WTFeqERKNS_6StringEPKc">==</a> <q>"com.macromedia.Flash Player.plugin"</q>;</td></tr>
<tr><th id="1826">1826</th><td>    _isSilverlight = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() bundleIdentifier] <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZN3WTFeqERKNS_6StringEPKc" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6StringEPKc" data-ref-filename="_ZN3WTFeqERKNS_6StringEPKc">==</a> <q>"com.microsoft.SilverlightPlugin"</q>;</td></tr>
<tr><th id="1827">1827</th><td></td></tr>
<tr><th id="1828">1828</th><td>    [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> <b>class</b>] setCurrentPluginView:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>];</td></tr>
<tr><th id="1829">1829</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a> <dfn class="local col7 decl" id="257npErr" title='npErr' data-type='NPError' data-ref="257npErr" data-ref-filename="257npErr">npErr</dfn> = [_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::newp" title='_NPPluginFuncs::newp' data-ref="_NPPluginFuncs::newp" data-ref-filename="_NPPluginFuncs..newp">newp</a>(<b>const_cast</b>&lt;<em>char</em>*&gt;([_MIMEType.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() cString]), plugin, _mode, argsCount, cAttributes, cValues, <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1830">1830</th><td>    [[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> <b>class</b>] setCurrentPluginView:<span class="macro" title="nullptr" data-ref="_M/nil">nil</span>];</td></tr>
<tr><th id="1831">1831</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPP_New: %d&quot;, npErr)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPP_New: %d"</q>, <a class="local col7 ref" href="#257npErr" title='npErr' data-ref="257npErr" data-ref-filename="257npErr">npErr</a>);</td></tr>
<tr><th id="1832">1832</th><td>    <b>return</b> <a class="local col7 ref" href="#257npErr" title='npErr' data-ref="257npErr" data-ref-filename="257npErr">npErr</a>;</td></tr>
<tr><th id="1833">1833</th><td>}</td></tr>
<tr><th id="1834">1834</th><td></td></tr>
<tr><th id="1835">1835</th><td>- (<em>void</em>)_destroyPlugin</td></tr>
<tr><th id="1836">1836</th><td>{</td></tr>
<tr><th id="1837">1837</th><td>    <a class="typedef" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npapi.h.html#NPError" title='NPError' data-type='int16_t' data-ref="NPError" data-ref-filename="NPError">NPError</a> <dfn class="local col8 decl" id="258npErr" title='npErr' data-type='NPError' data-ref="258npErr" data-ref-filename="258npErr">npErr</dfn>;</td></tr>
<tr><th id="1838">1838</th><td>    <a class="local col8 ref" href="#258npErr" title='npErr' data-ref="258npErr" data-ref-filename="258npErr">npErr</a> = ![_pluginPackage.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>() pluginFuncs]-&gt;<a class="ref field" href="../../../../WebKitBuild/Debug/WebKitLegacy.framework/Versions/A/PrivateHeaders/npfunctions.h.html#_NPPluginFuncs::destroy" title='_NPPluginFuncs::destroy' data-ref="_NPPluginFuncs::destroy" data-ref-filename="_NPPluginFuncs..destroy">destroy</a>(plugin, <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="1839">1839</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#489" title="WTFLog(&amp;WebKitLogPlugins, &quot;NPP_Destroy: %d&quot;, npErr)" data-ref="_M/LOG">LOG</a>(Plugins, <q>"NPP_Destroy: %d"</q>, <a class="local col8 ref" href="#258npErr" title='npErr' data-ref="258npErr" data-ref-filename="258npErr">npErr</a>);</td></tr>
<tr><th id="1840">1840</th><td></td></tr>
<tr><th id="1841">1841</th><td>    <b>if</b> (_elementNPObject)</td></tr>
<tr><th id="1842">1842</th><td>        <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/npruntime_impl.h.html#_NPN_ReleaseObject" title='_NPN_ReleaseObject' data-ref="_NPN_ReleaseObject" data-ref-filename="_NPN_ReleaseObject">_NPN_ReleaseObject</a>(_elementNPObject);</td></tr>
<tr><th id="1843">1843</th><td></td></tr>
<tr><th id="1844">1844</th><td>    <b>if</b> (<a class="type" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#WebCore::Frame" title='WebCore::Frame' data-ref="WebCore::Frame" data-ref-filename="WebCore..Frame">Frame</a>* <dfn class="local col9 decl" id="259frame" title='frame' data-type='WebCore::Frame *' data-ref="259frame" data-ref-filename="259frame"><a class="local col9 ref" href="#259frame" title='frame' data-ref="259frame" data-ref-filename="259frame">frame</a></dfn> = <a class="ref fn" href="../WebView/WebFrameInternal.h.html#_Z4coreP8WebFrame" title='core' data-ref="_Z4coreP8WebFrame" data-ref-filename="_Z4coreP8WebFrame">core</a>([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> webFrame]))</td></tr>
<tr><th id="1845">1845</th><td>        <a class="local col9 ref" href="#259frame" title='frame' data-ref="259frame" data-ref-filename="259frame">frame</a>-&gt;<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/Frame.h.html#_ZN7WebCore5Frame6scriptEv" title='WebCore::Frame::script' data-ref="_ZN7WebCore5Frame6scriptEv" data-ref-filename="_ZN7WebCore5Frame6scriptEv">script</a>().<a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/ScriptController.h.html#_ZN7WebCore16ScriptController29cleanupScriptObjectsForPluginEPv" title='WebCore::ScriptController::cleanupScriptObjectsForPlugin' data-ref="_ZN7WebCore16ScriptController29cleanupScriptObjectsForPluginEPv" data-ref-filename="_ZN7WebCore16ScriptController29cleanupScriptObjectsForPluginEPv">cleanupScriptObjectsForPlugin</a>(<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>);</td></tr>
<tr><th id="1846">1846</th><td>        </td></tr>
<tr><th id="1847">1847</th><td>    <span class='ref fn' title='free' data-ref="free" data-ref-filename="free">free</span>(plugin);</td></tr>
<tr><th id="1848">1848</th><td>    plugin = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="1849">1849</th><td>}</td></tr>
<tr><th id="1850">1850</th><td></td></tr>
<tr><th id="1851">1851</th><td>- (<em>void</em>)_redeliverStream</td></tr>
<tr><th id="1852">1852</th><td>{</td></tr>
<tr><th id="1853">1853</th><td>    <b>if</b> ([<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] &amp;&amp; _isStarted) {</td></tr>
<tr><th id="1854">1854</th><td>        <i>// Deliver what has not been passed to the plug-in up to this point.</i></td></tr>
<tr><th id="1855">1855</th><td>        <b>if</b> (_dataLengthReceived &gt; <var>0</var>) {</td></tr>
<tr><th id="1856">1856</th><td>            NSData *<dfn class="local col0 decl" id="260data" title='data' data-type='NSData *' data-ref="260data" data-ref-filename="260data">data</dfn> = [[[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] data] subdataWithRange:<span class='ref fn' title='NSMakeRange' data-ref="_ZL11NSMakeRangemm" data-ref-filename="_ZL11NSMakeRangemm">NSMakeRange</span>(<var>0</var>, _dataLengthReceived)];</td></tr>
<tr><th id="1857">1857</th><td>            _dataLengthReceived = <var>0</var>;</td></tr>
<tr><th id="1858">1858</th><td>            [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> pluginView:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> receivedData:<a class="local col0 ref" href="#260data" title='data' data-ref="260data" data-ref-filename="260data">data</a>];</td></tr>
<tr><th id="1859">1859</th><td>            <b>if</b> (![[<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> dataSource] isLoading]) {</td></tr>
<tr><th id="1860">1860</th><td>                <b>if</b> (<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvbEv" title='WTF::RetainPtr::operator bool' data-ref="_ZNK3WTF9RetainPtrcvbEv" data-ref-filename="_ZNK3WTF9RetainPtrcvbEv"></a>_error)</td></tr>
<tr><th id="1861">1861</th><td>                    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> pluginView:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> receivedError:_error.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()];</td></tr>
<tr><th id="1862">1862</th><td>                <b>else</b></td></tr>
<tr><th id="1863">1863</th><td>                    [<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span> pluginViewFinishedLoading:<span class='local col5 ref' title='self' data-ref="15self" data-ref-filename="15self">self</span>];</td></tr>
<tr><th id="1864">1864</th><td>            }</td></tr>
<tr><th id="1865">1865</th><td>        }</td></tr>
<tr><th id="1866">1866</th><td>    }</td></tr>
<tr><th id="1867">1867</th><td>}</td></tr>
<tr><th id="1868">1868</th><td></td></tr>
<tr><th id="1869">1869</th><td>@end</td></tr>
<tr><th id="1870">1870</th><td></td></tr>
<tr><th id="1871">1871</th><td><u>#<span data-ppcond="29">endif</span></u></td></tr>
<tr><th id="1872">1872</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
