<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>WebWindowAnimation.mm source code [webkit/Source/WebKitLegacy/mac/WebView/WebWindowAnimation.mm] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/WebKitLegacy/mac/WebView/WebWindowAnimation.mm'; var root_path = '../../../../..'; var data_path = '../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>webkit</a>/<a href='../../..'>Source</a>/<a href='../..'>WebKitLegacy</a>/<a href='..'>mac</a>/<a href='./'>WebView</a>/<a href='WebWindowAnimation.mm.html'>WebWindowAnimation.mm</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (C) 2009-2017 Apple Inc. All rights reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Redistribution and use in source and binary forms, with or without</i></td></tr>
<tr><th id="5">5</th><td><i> * modification, are permitted provided that the following conditions</i></td></tr>
<tr><th id="6">6</th><td><i> * are met:</i></td></tr>
<tr><th id="7">7</th><td><i> * 1. Redistributions of source code must retain the above copyright</i></td></tr>
<tr><th id="8">8</th><td><i> *    notice, this list of conditions and the following disclaimer.</i></td></tr>
<tr><th id="9">9</th><td><i> * 2. Redistributions in binary form must reproduce the above copyright</i></td></tr>
<tr><th id="10">10</th><td><i> *    notice, this list of conditions and the following disclaimer in the</i></td></tr>
<tr><th id="11">11</th><td><i> *    documentation and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="12">12</th><td><i> *</i></td></tr>
<tr><th id="13">13</th><td><i> * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY</i></td></tr>
<tr><th id="14">14</th><td><i> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</i></td></tr>
<tr><th id="15">15</th><td><i> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</i></td></tr>
<tr><th id="16">16</th><td><i> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR</i></td></tr>
<tr><th id="17">17</th><td><i> * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</i></td></tr>
<tr><th id="18">18</th><td><i> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</i></td></tr>
<tr><th id="19">19</th><td><i> * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</i></td></tr>
<tr><th id="20">20</th><td><i> * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY</i></td></tr>
<tr><th id="21">21</th><td><i> * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</i></td></tr>
<tr><th id="22">22</th><td><i> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</i></td></tr>
<tr><th id="23">23</th><td><i> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </i></td></tr>
<tr><th id="24">24</th><td><i> */</i></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><u>#<span data-ppcond="26">if</span> <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/PlatformLegacy.h.html#38" title="(defined 1 &amp;&amp; 1)" data-ref="_M/PLATFORM">PLATFORM</a>(MAC)</u></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><u>#import <a href="WebWindowAnimation.h.html">"WebWindowAnimation.h"</a></u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#import <a href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FloatConversion.h.html">&lt;WebCore/FloatConversion.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html">&lt;pal/spi/cg/CoreGraphicsSPI.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html">&lt;wtf/Assertions.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/MathExtras.h.html">&lt;wtf/MathExtras.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html">&lt;wtf/RetainPtr.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><em>static</em> <em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="tu decl def" id="slowMotionFactor" title='slowMotionFactor' data-type='const CGFloat' data-ref="slowMotionFactor" data-ref-filename="slowMotionFactor">slowMotionFactor</dfn> = <var>10</var>;</td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><em>static</em> <span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span> <dfn class="tu decl def fn" id="_ZL38WebWindowAnimationDurationFromDurationd" title='WebWindowAnimationDurationFromDuration' data-type='NSTimeInterval WebWindowAnimationDurationFromDuration(NSTimeInterval duration)' data-ref="_ZL38WebWindowAnimationDurationFromDurationd" data-ref-filename="_ZL38WebWindowAnimationDurationFromDurationd">WebWindowAnimationDurationFromDuration</dfn>(<span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span> <dfn class="local col4 decl" id="24duration" title='duration' data-type='NSTimeInterval' data-ref="24duration" data-ref-filename="24duration">duration</dfn>)</td></tr>
<tr><th id="39">39</th><td>{</td></tr>
<tr><th id="40">40</th><td>    <b>return</b> ([[<span class='ref' title='NSApp' data-ref="NSApp" data-ref-filename="NSApp">NSApp</span> currentEvent] modifierFlags] &amp; <span class='enum' title='NSEventModifierFlagShift' data-ref="NSEventModifierFlagShift" data-ref-filename="NSEventModifierFlagShift">NSEventModifierFlagShift</span>) ? <a class="local col4 ref" href="#24duration" title='duration' data-ref="24duration" data-ref-filename="24duration">duration</a> * <a class="tu ref" href="#slowMotionFactor" title='slowMotionFactor' data-use='r' data-ref="slowMotionFactor" data-ref-filename="slowMotionFactor">slowMotionFactor</a> : <a class="local col4 ref" href="#24duration" title='duration' data-ref="24duration" data-ref-filename="24duration">duration</a>;</td></tr>
<tr><th id="41">41</th><td>}</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><em>static</em> <span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="tu decl def fn" id="_ZL10scaledRect6CGRectS_d" title='scaledRect' data-type='NSRect scaledRect(NSRect _initialFrame, NSRect _finalFrame, CGFloat factor)' data-ref="_ZL10scaledRect6CGRectS_d" data-ref-filename="_ZL10scaledRect6CGRectS_d">scaledRect</dfn>(<span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col5 decl" id="25_initialFrame" title='_initialFrame' data-type='NSRect' data-ref="25_initialFrame" data-ref-filename="25_initialFrame">_initialFrame</dfn>, <span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col6 decl" id="26_finalFrame" title='_finalFrame' data-type='NSRect' data-ref="26_finalFrame" data-ref-filename="26_finalFrame">_finalFrame</dfn>, <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col7 decl" id="27factor" title='factor' data-type='CGFloat' data-ref="27factor" data-ref-filename="27factor">factor</dfn>)</td></tr>
<tr><th id="44">44</th><td>{</td></tr>
<tr><th id="45">45</th><td>    <span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col8 decl" id="28currentRect" title='currentRect' data-type='NSRect' data-ref="28currentRect" data-ref-filename="28currentRect">currentRect</dfn> = <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col5 ref" href="#25_initialFrame" title='_initialFrame' data-ref="25_initialFrame" data-ref-filename="25_initialFrame">_initialFrame</a>;</td></tr>
<tr><th id="46">46</th><td>    <a class="local col8 ref" href="#28currentRect" title='currentRect' data-ref="28currentRect" data-ref-filename="28currentRect">currentRect</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::x' data-ref="CGPoint::x" data-ref-filename="CGPoint..x">x</span> += (<span class='ref fn' title='NSMinX' data-ref="_ZL6NSMinX6CGRect" data-ref-filename="_ZL6NSMinX6CGRect">NSMinX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col6 ref" href="#26_finalFrame" title='_finalFrame' data-ref="26_finalFrame" data-ref-filename="26_finalFrame">_finalFrame</a>) - <span class='ref fn' title='NSMinX' data-ref="_ZL6NSMinX6CGRect" data-ref-filename="_ZL6NSMinX6CGRect">NSMinX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col5 ref" href="#25_initialFrame" title='_initialFrame' data-ref="25_initialFrame" data-ref-filename="25_initialFrame">_initialFrame</a>)) * <a class="local col7 ref" href="#27factor" title='factor' data-ref="27factor" data-ref-filename="27factor">factor</a>;</td></tr>
<tr><th id="47">47</th><td>    <a class="local col8 ref" href="#28currentRect" title='currentRect' data-ref="28currentRect" data-ref-filename="28currentRect">currentRect</a>.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span> += (<span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col6 ref" href="#26_finalFrame" title='_finalFrame' data-ref="26_finalFrame" data-ref-filename="26_finalFrame">_finalFrame</a>) - <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col5 ref" href="#25_initialFrame" title='_initialFrame' data-ref="25_initialFrame" data-ref-filename="25_initialFrame">_initialFrame</a>)) * <a class="local col7 ref" href="#27factor" title='factor' data-ref="27factor" data-ref-filename="27factor">factor</a>;</td></tr>
<tr><th id="48">48</th><td>    <a class="local col8 ref" href="#28currentRect" title='currentRect' data-ref="28currentRect" data-ref-filename="28currentRect">currentRect</a>.<span class='ref field' title='CGRect::size' data-ref="CGRect::size" data-ref-filename="CGRect..size">size</span>.<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span> += (<span class='ref fn' title='NSWidth' data-ref="_ZL7NSWidth6CGRect" data-ref-filename="_ZL7NSWidth6CGRect">NSWidth</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col6 ref" href="#26_finalFrame" title='_finalFrame' data-ref="26_finalFrame" data-ref-filename="26_finalFrame">_finalFrame</a>) - <span class='ref fn' title='NSWidth' data-ref="_ZL7NSWidth6CGRect" data-ref-filename="_ZL7NSWidth6CGRect">NSWidth</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col5 ref" href="#25_initialFrame" title='_initialFrame' data-ref="25_initialFrame" data-ref-filename="25_initialFrame">_initialFrame</a>)) * <a class="local col7 ref" href="#27factor" title='factor' data-ref="27factor" data-ref-filename="27factor">factor</a>;</td></tr>
<tr><th id="49">49</th><td>    <a class="local col8 ref" href="#28currentRect" title='currentRect' data-ref="28currentRect" data-ref-filename="28currentRect">currentRect</a>.<span class='ref field' title='CGRect::size' data-ref="CGRect::size" data-ref-filename="CGRect..size">size</span>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span> += (<span class='ref fn' title='NSHeight' data-ref="_ZL8NSHeight6CGRect" data-ref-filename="_ZL8NSHeight6CGRect">NSHeight</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col6 ref" href="#26_finalFrame" title='_finalFrame' data-ref="26_finalFrame" data-ref-filename="26_finalFrame">_finalFrame</a>) - <span class='ref fn' title='NSHeight' data-ref="_ZL8NSHeight6CGRect" data-ref-filename="_ZL8NSHeight6CGRect">NSHeight</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col5 ref" href="#25_initialFrame" title='_initialFrame' data-ref="25_initialFrame" data-ref-filename="25_initialFrame">_initialFrame</a>)) * <a class="local col7 ref" href="#27factor" title='factor' data-ref="27factor" data-ref-filename="27factor">factor</a>;</td></tr>
<tr><th id="50">50</th><td>    <b>return</b> <a class="local col8 ref" href="#28currentRect" title='currentRect' data-ref="28currentRect" data-ref-filename="28currentRect">currentRect</a>;</td></tr>
<tr><th id="51">51</th><td>}</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><em>static</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="tu decl def fn" id="_ZL15squaredDistance7CGPointS_" title='squaredDistance' data-type='CGFloat squaredDistance(NSPoint point1, NSPoint point2)' data-ref="_ZL15squaredDistance7CGPointS_" data-ref-filename="_ZL15squaredDistance7CGPointS_">squaredDistance</dfn>(<span class='typedef' title='NSPoint' data-type='CGPoint' data-ref="NSPoint" data-ref-filename="NSPoint">NSPoint</span> <dfn class="local col9 decl" id="29point1" title='point1' data-type='NSPoint' data-ref="29point1" data-ref-filename="29point1">point1</dfn>, <span class='typedef' title='NSPoint' data-type='CGPoint' data-ref="NSPoint" data-ref-filename="NSPoint">NSPoint</span> <dfn class="local col0 decl" id="30point2" title='point2' data-type='NSPoint' data-ref="30point2" data-ref-filename="30point2">point2</dfn>)</td></tr>
<tr><th id="54">54</th><td>{</td></tr>
<tr><th id="55">55</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col1 decl" id="31deltaX" title='deltaX' data-type='CGFloat' data-ref="31deltaX" data-ref-filename="31deltaX">deltaX</dfn> = <a class="local col9 ref" href="#29point1" title='point1' data-ref="29point1" data-ref-filename="29point1">point1</a>.<span class='ref field' title='CGPoint::x' data-ref="CGPoint::x" data-ref-filename="CGPoint..x">x</span> - <a class="local col0 ref" href="#30point2" title='point2' data-ref="30point2" data-ref-filename="30point2">point2</a>.<span class='ref field' title='CGPoint::x' data-ref="CGPoint::x" data-ref-filename="CGPoint..x">x</span>;</td></tr>
<tr><th id="56">56</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col2 decl" id="32deltaY" title='deltaY' data-type='CGFloat' data-ref="32deltaY" data-ref-filename="32deltaY">deltaY</dfn> = <a class="local col9 ref" href="#29point1" title='point1' data-ref="29point1" data-ref-filename="29point1">point1</a>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span> - <a class="local col0 ref" href="#30point2" title='point2' data-ref="30point2" data-ref-filename="30point2">point2</a>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span>;</td></tr>
<tr><th id="57">57</th><td>    <b>return</b> <a class="local col1 ref" href="#31deltaX" title='deltaX' data-ref="31deltaX" data-ref-filename="31deltaX">deltaX</a> * <a class="local col1 ref" href="#31deltaX" title='deltaX' data-ref="31deltaX" data-ref-filename="31deltaX">deltaX</a> + <a class="local col2 ref" href="#32deltaY" title='deltaY' data-ref="32deltaY" data-ref-filename="32deltaY">deltaY</a> * <a class="local col2 ref" href="#32deltaY" title='deltaY' data-ref="32deltaY" data-ref-filename="32deltaY">deltaY</a>;</td></tr>
<tr><th id="58">58</th><td>}</td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td><b>using</b> <span class="namespace">WebCore::</span>narrowPrecisionToFloat;</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td>@implementation WebWindowScaleAnimation</td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td>- (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)init</td></tr>
<tr><th id="65">65</th><td>{</td></tr>
<tr><th id="66">66</th><td>    <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> = [super init];</td></tr>
<tr><th id="67">67</th><td>    <b>if</b> (!<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>)</td></tr>
<tr><th id="68">68</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="69">69</th><td>    [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setAnimationBlockingMode:<span class='enum' title='NSAnimationNonblockingThreaded' data-ref="NSAnimationNonblockingThreaded" data-ref-filename="NSAnimationNonblockingThreaded">NSAnimationNonblockingThreaded</span>];</td></tr>
<tr><th id="70">70</th><td>    [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setFrameRate:<var>60</var>];</td></tr>
<tr><th id="71">71</th><td>    <b>return</b> <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>;</td></tr>
<tr><th id="72">72</th><td>}</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>- (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)initWithHintedDuration:(<span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span>)<dfn class="local col4 decl" id="34duration" title='duration' data-type='NSTimeInterval' data-ref="34duration" data-ref-filename="34duration">duration</dfn> window:(NSWindow *)<dfn class="local col5 decl" id="35window" title='window' data-type='NSWindow *' data-ref="35window" data-ref-filename="35window">window</dfn> initalFrame:(<span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)<dfn class="local col6 decl" id="36initialFrame" title='initialFrame' data-type='NSRect' data-ref="36initialFrame" data-ref-filename="36initialFrame">initialFrame</dfn> finalFrame:(<span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)<dfn class="local col7 decl" id="37finalFrame" title='finalFrame' data-type='NSRect' data-ref="37finalFrame" data-ref-filename="37finalFrame">finalFrame</dfn></td></tr>
<tr><th id="75">75</th><td>{</td></tr>
<tr><th id="76">76</th><td>    <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> = [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> init];</td></tr>
<tr><th id="77">77</th><td>    <b>if</b> (!<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>)</td></tr>
<tr><th id="78">78</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="79">79</th><td>    _hintedDuration = <a class="local col4 ref" href="#34duration" title='duration' data-ref="34duration" data-ref-filename="34duration">duration</a>;</td></tr>
<tr><th id="80">80</th><td>    _window = <a class="local col5 ref" href="#35window" title='window' data-ref="35window" data-ref-filename="35window">window</a>;</td></tr>
<tr><th id="81">81</th><td>    _initialFrame <span class='ref fn' title='CGRect::operator=' data-ref="_ZN6CGRectaSERKS_" data-ref-filename="_ZN6CGRectaSERKS_">=</span> <a class="local col6 ref" href="#36initialFrame" title='initialFrame' data-ref="36initialFrame" data-ref-filename="36initialFrame">initialFrame</a>;</td></tr>
<tr><th id="82">82</th><td>    _finalFrame <span class='ref fn' title='CGRect::operator=' data-ref="_ZN6CGRectaSERKS_" data-ref-filename="_ZN6CGRectaSERKS_">=</span> <a class="local col7 ref" href="#37finalFrame" title='finalFrame' data-ref="37finalFrame" data-ref-filename="37finalFrame">finalFrame</a>;</td></tr>
<tr><th id="83">83</th><td>    _realFrame <span class='ref fn' title='CGRect::operator=' data-ref="_ZN6CGRectaSEOS_" data-ref-filename="_ZN6CGRectaSEOS_">=</span> [<a class="local col5 ref" href="#35window" title='window' data-ref="35window" data-ref-filename="35window">window</a> frame];</td></tr>
<tr><th id="84">84</th><td>    <b>return</b> <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>;</td></tr>
<tr><th id="85">85</th><td>}</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td>- (<em>void</em>)setDuration:(<span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span>)<dfn class="local col8 decl" id="38duration" title='duration' data-type='NSTimeInterval' data-ref="38duration" data-ref-filename="38duration">duration</dfn></td></tr>
<tr><th id="88">88</th><td>{</td></tr>
<tr><th id="89">89</th><td>    [super setDuration:<a class="tu ref fn" href="#_ZL38WebWindowAnimationDurationFromDurationd" title='WebWindowAnimationDurationFromDuration' data-use='c' data-ref="_ZL38WebWindowAnimationDurationFromDurationd" data-ref-filename="_ZL38WebWindowAnimationDurationFromDurationd">WebWindowAnimationDurationFromDuration</a>(<a class="local col8 ref" href="#38duration" title='duration' data-ref="38duration" data-ref-filename="38duration">duration</a>)];</td></tr>
<tr><th id="90">90</th><td>}</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>- (<em>void</em>)setWindow:(NSWindow *)<dfn class="local col9 decl" id="39window" title='window' data-type='NSWindow *' data-ref="39window" data-ref-filename="39window">window</dfn></td></tr>
<tr><th id="93">93</th><td>{</td></tr>
<tr><th id="94">94</th><td>    _window = <a class="local col9 ref" href="#39window" title='window' data-ref="39window" data-ref-filename="39window">window</a>;</td></tr>
<tr><th id="95">95</th><td>}</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>- (<em>float</em>)currentValue</td></tr>
<tr><th id="98">98</th><td>{</td></tr>
<tr><th id="99">99</th><td>    <b>return</b> <a class="ref fn" href="../../../../WebKitBuild/Debug/WebCore.framework/Versions/A/PrivateHeaders/FloatConversion.h.html#_ZN7WebCore22narrowPrecisionToFloatET_" title='WebCore::narrowPrecisionToFloat' data-ref="_ZN7WebCore22narrowPrecisionToFloatET_" data-ref-filename="_ZN7WebCore22narrowPrecisionToFloatET_">narrowPrecisionToFloat</a>(<var>0.5</var> - <var>0.5</var> * <span class='ref fn' title='cos' data-ref="cos" data-ref-filename="cos">cos</span>(<a class="ref" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/MathExtras.h.html#piDouble" title='piDouble' data-ref="piDouble" data-ref-filename="piDouble">piDouble</a> * (<var>1</var> - [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> currentProgress])));</td></tr>
<tr><th id="100">100</th><td>}</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>- (<span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>)currentFrame</td></tr>
<tr><th id="103">103</th><td>{</td></tr>
<tr><th id="104">104</th><td>    <b>return</b> <a class="tu ref fn" href="#_ZL10scaledRect6CGRectS_d" title='scaledRect' data-use='c' data-ref="_ZL10scaledRect6CGRectS_d" data-ref-filename="_ZL10scaledRect6CGRectS_d">scaledRect</a>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame, <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame, [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> currentValue]);</td></tr>
<tr><th id="105">105</th><td>}</td></tr>
<tr><th id="106">106</th><td></td></tr>
<tr><th id="107">107</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL8flipRectP6CGRect" title='flipRect' data-type='void flipRect(NSRect * rect)' data-ref="_ZL8flipRectP6CGRect" data-ref-filename="_ZL8flipRectP6CGRect">flipRect</dfn>(<span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span>* <dfn class="local col7 decl" id="47rect" title='rect' data-type='NSRect *' data-ref="47rect" data-ref-filename="47rect">rect</dfn>)</td></tr>
<tr><th id="108">108</th><td>{</td></tr>
<tr><th id="109">109</th><td>    <a class="local col7 ref" href="#47rect" title='rect' data-ref="47rect" data-ref-filename="47rect">rect</a>-&gt;<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span> = <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>([(NSScreen *)[[NSScreen screens] objectAtIndex:<var>0</var>] frame]) - <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>*<a class="local col7 ref" href="#47rect" title='rect' data-ref="47rect" data-ref-filename="47rect">rect</a>);</td></tr>
<tr><th id="110">110</th><td>}</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><em>static</em> <a class="typedef" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html#CGSConnectionID" title='CGSConnectionID' data-type='uint32_t' data-ref="CGSConnectionID" data-ref-filename="CGSConnectionID">CGSConnectionID</a> <dfn class="tu decl def fn" id="_ZL28mainWindowServerConnectionIDv" title='mainWindowServerConnectionID' data-type='CGSConnectionID mainWindowServerConnectionID()' data-ref="_ZL28mainWindowServerConnectionIDv" data-ref-filename="_ZL28mainWindowServerConnectionIDv">mainWindowServerConnectionID</dfn>()</td></tr>
<tr><th id="113">113</th><td>{</td></tr>
<tr><th id="114">114</th><td>    <em>static</em> <a class="typedef" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html#CGSConnectionID" title='CGSConnectionID' data-type='uint32_t' data-ref="CGSConnectionID" data-ref-filename="CGSConnectionID">CGSConnectionID</a> <dfn class="local col8 decl" id="48cgsId" title='cgsId' data-type='CGSConnectionID' data-ref="48cgsId" data-ref-filename="48cgsId">cgsId</dfn>;</td></tr>
<tr><th id="115">115</th><td>    <b>if</b> (!<a class="local col8 ref" href="#48cgsId" title='cgsId' data-ref="48cgsId" data-ref-filename="48cgsId">cgsId</a>)</td></tr>
<tr><th id="116">116</th><td>        <a class="local col8 ref" href="#48cgsId" title='cgsId' data-ref="48cgsId" data-ref-filename="48cgsId">cgsId</a> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html#CGSMainConnectionID" title='CGSMainConnectionID' data-ref="CGSMainConnectionID" data-ref-filename="CGSMainConnectionID">CGSMainConnectionID</a>();</td></tr>
<tr><th id="117">117</th><td>    <b>return</b> <a class="local col8 ref" href="#48cgsId" title='cgsId' data-ref="48cgsId" data-ref-filename="48cgsId">cgsId</a>;</td></tr>
<tr><th id="118">118</th><td>}</td></tr>
<tr><th id="119">119</th><td></td></tr>
<tr><th id="120">120</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL23setScaledFrameForWindowP8NSWindow6CGRectS1_" title='setScaledFrameForWindow' data-type='void setScaledFrameForWindow(NSWindow * window, NSRect scaleFrame, NSRect nonScaledFrame)' data-ref="_ZL23setScaledFrameForWindowP8NSWindow6CGRectS1_" data-ref-filename="_ZL23setScaledFrameForWindowP8NSWindow6CGRectS1_">setScaledFrameForWindow</dfn>(NSWindow *<dfn class="local col9 decl" id="49window" title='window' data-type='NSWindow *' data-ref="49window" data-ref-filename="49window">window</dfn>, <span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col0 decl" id="50scaleFrame" title='scaleFrame' data-type='NSRect' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</dfn>, <span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col1 decl" id="51nonScaledFrame" title='nonScaledFrame' data-type='NSRect' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</dfn>)</td></tr>
<tr><th id="121">121</th><td>{</td></tr>
<tr><th id="122">122</th><td>    <b>if</b> (<span class='ref fn' title='NSEqualRects' data-ref="NSEqualRects" data-ref-filename="NSEqualRects">NSEqualRects</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>, <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#51nonScaledFrame" title='nonScaledFrame' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</a>)) {</td></tr>
<tr><th id="123">123</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Compiler.h.html#513" title="" data-ref="_M/IGNORE_NULL_CHECK_WARNINGS_BEGIN">IGNORE_NULL_CHECK_WARNINGS_BEGIN</a></td></tr>
<tr><th id="124">124</th><td>        <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html#CGSSetWindowWarp" title='CGSSetWindowWarp' data-ref="CGSSetWindowWarp" data-ref-filename="CGSSetWindowWarp">CGSSetWindowWarp</a>(<a class="tu ref fn" href="#_ZL28mainWindowServerConnectionIDv" title='mainWindowServerConnectionID' data-use='c' data-ref="_ZL28mainWindowServerConnectionIDv" data-ref-filename="_ZL28mainWindowServerConnectionIDv">mainWindowServerConnectionID</a>(), <a class="local col9 ref" href="#49window" title='window' data-ref="49window" data-ref-filename="49window">window</a>.windowNumber, <var>0</var>, <var>0</var>, <b>nullptr</b>);</td></tr>
<tr><th id="125">125</th><td>        <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Compiler.h.html#514" title="" data-ref="_M/IGNORE_NULL_CHECK_WARNINGS_END">IGNORE_NULL_CHECK_WARNINGS_END</a></td></tr>
<tr><th id="126">126</th><td>        <b>return</b>;</td></tr>
<tr><th id="127">127</th><td>    }</td></tr>
<tr><th id="128">128</th><td>    </td></tr>
<tr><th id="129">129</th><td>    <em>float</em> <dfn class="local col2 decl" id="52mesh" title='mesh' data-type='float [16]' data-ref="52mesh" data-ref-filename="52mesh">mesh</dfn>[<var>16</var>];</td></tr>
<tr><th id="130">130</th><td>    </td></tr>
<tr><th id="131">131</th><td>    <a class="tu ref fn" href="#_ZL8flipRectP6CGRect" title='flipRect' data-use='c' data-ref="_ZL8flipRectP6CGRect" data-ref-filename="_ZL8flipRectP6CGRect">flipRect</a>(&amp;<a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="132">132</th><td>    <a class="tu ref fn" href="#_ZL8flipRectP6CGRect" title='flipRect' data-use='c' data-ref="_ZL8flipRectP6CGRect" data-ref-filename="_ZL8flipRectP6CGRect">flipRect</a>(&amp;<a class="local col1 ref" href="#51nonScaledFrame" title='nonScaledFrame' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</a>);</td></tr>
<tr><th id="133">133</th><td>    </td></tr>
<tr><th id="134">134</th><td>    <i>// top-left point (to and from)</i></td></tr>
<tr><th id="135">135</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>0</var>] = <var>0</var>;</td></tr>
<tr><th id="136">136</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>1</var>] = <var>0</var>;</td></tr>
<tr><th id="137">137</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>2</var>] = <span class='ref fn' title='NSMinX' data-ref="_ZL6NSMinX6CGRect" data-ref-filename="_ZL6NSMinX6CGRect">NSMinX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="138">138</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>3</var>] = <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="139">139</th><td>    </td></tr>
<tr><th id="140">140</th><td>    <i>// top-right point (to and from)</i></td></tr>
<tr><th id="141">141</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>4</var>] = <span class='ref fn' title='NSWidth' data-ref="_ZL7NSWidth6CGRect" data-ref-filename="_ZL7NSWidth6CGRect">NSWidth</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#51nonScaledFrame" title='nonScaledFrame' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</a>);</td></tr>
<tr><th id="142">142</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>5</var>] = <var>0</var>;</td></tr>
<tr><th id="143">143</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>6</var>] = <span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="144">144</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>7</var>] = <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="145">145</th><td>    </td></tr>
<tr><th id="146">146</th><td>    <i>// bottom-left (to and from)</i></td></tr>
<tr><th id="147">147</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>8</var>] = <var>0</var>;</td></tr>
<tr><th id="148">148</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>9</var>] = <span class='ref fn' title='NSHeight' data-ref="_ZL8NSHeight6CGRect" data-ref-filename="_ZL8NSHeight6CGRect">NSHeight</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#51nonScaledFrame" title='nonScaledFrame' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</a>);</td></tr>
<tr><th id="149">149</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>10</var>] = <span class='ref fn' title='NSMinX' data-ref="_ZL6NSMinX6CGRect" data-ref-filename="_ZL6NSMinX6CGRect">NSMinX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="150">150</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>11</var>] = <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="151">151</th><td>    </td></tr>
<tr><th id="152">152</th><td>    <i>// bottom-right (to and from)</i></td></tr>
<tr><th id="153">153</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>12</var>] = <span class='ref fn' title='NSWidth' data-ref="_ZL7NSWidth6CGRect" data-ref-filename="_ZL7NSWidth6CGRect">NSWidth</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#51nonScaledFrame" title='nonScaledFrame' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</a>);</td></tr>
<tr><th id="154">154</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>13</var>] = <span class='ref fn' title='NSHeight' data-ref="_ZL8NSHeight6CGRect" data-ref-filename="_ZL8NSHeight6CGRect">NSHeight</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#51nonScaledFrame" title='nonScaledFrame' data-ref="51nonScaledFrame" data-ref-filename="51nonScaledFrame">nonScaledFrame</a>);</td></tr>
<tr><th id="155">155</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>14</var>] = <span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="156">156</th><td>    <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>[<var>15</var>] = <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col0 ref" href="#50scaleFrame" title='scaleFrame' data-ref="50scaleFrame" data-ref-filename="50scaleFrame">scaleFrame</a>);</td></tr>
<tr><th id="157">157</th><td>    </td></tr>
<tr><th id="158">158</th><td>    <i>// Apply the warp.</i></td></tr>
<tr><th id="159">159</th><td>    <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html#CGSSetWindowWarp" title='CGSSetWindowWarp' data-ref="CGSSetWindowWarp" data-ref-filename="CGSSetWindowWarp">CGSSetWindowWarp</a>(<a class="tu ref fn" href="#_ZL28mainWindowServerConnectionIDv" title='mainWindowServerConnectionID' data-use='c' data-ref="_ZL28mainWindowServerConnectionIDv" data-ref-filename="_ZL28mainWindowServerConnectionIDv">mainWindowServerConnectionID</a>(), <a class="local col9 ref" href="#49window" title='window' data-ref="49window" data-ref-filename="49window">window</a>.windowNumber, <var>2</var>, <var>2</var>, <a class="local col2 ref" href="#52mesh" title='mesh' data-ref="52mesh" data-ref-filename="52mesh">mesh</a>);</td></tr>
<tr><th id="160">160</th><td>}</td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td>- (<em>void</em>)setCurrentProgress:(<span class='typedef' title='NSAnimationProgress' data-type='float' data-ref="NSAnimationProgress" data-ref-filename="NSAnimationProgress">NSAnimationProgress</span>)<dfn class="local col0 decl" id="40progress" title='progress' data-type='NSAnimationProgress' data-ref="40progress" data-ref-filename="40progress">progress</dfn></td></tr>
<tr><th id="163">163</th><td>{</td></tr>
<tr><th id="164">164</th><td>    <b>if</b> (!_window)</td></tr>
<tr><th id="165">165</th><td>        <b>return</b>;</td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td>    [super setCurrentProgress:<a class="local col0 ref" href="#40progress" title='progress' data-ref="40progress" data-ref-filename="40progress">progress</a>];</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td>    <span class='typedef' title='NSRect' data-type='CGRect' data-ref="NSRect" data-ref-filename="NSRect">NSRect</span> <dfn class="local col1 decl" id="41currentRect" title='currentRect' data-type='NSRect' data-ref="41currentRect" data-ref-filename="41currentRect">currentRect</dfn> = [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> currentFrame];</td></tr>
<tr><th id="170">170</th><td>    <a class="tu ref fn" href="#_ZL23setScaledFrameForWindowP8NSWindow6CGRectS1_" title='setScaledFrameForWindow' data-use='c' data-ref="_ZL23setScaledFrameForWindowP8NSWindow6CGRectS1_" data-ref-filename="_ZL23setScaledFrameForWindowP8NSWindow6CGRectS1_">setScaledFrameForWindow</a>(_window, <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span><a class="local col1 ref" href="#41currentRect" title='currentRect' data-ref="41currentRect" data-ref-filename="41currentRect">currentRect</a>, <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_realFrame);</td></tr>
<tr><th id="171">171</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a>_subAnimation setCurrentProgress:<a class="local col0 ref" href="#40progress" title='progress' data-ref="40progress" data-ref-filename="40progress">progress</a>];</td></tr>
<tr><th id="172">172</th><td>}</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td>- (<em>void</em>)setSubAnimation:(NSAnimation *)<dfn class="local col2 decl" id="42animation" title='animation' data-type='NSAnimation *' data-ref="42animation" data-ref-filename="42animation">animation</dfn></td></tr>
<tr><th id="175">175</th><td>{</td></tr>
<tr><th id="176">176</th><td>    _subAnimation <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE" data-ref-filename="_ZN3WTF9RetainPtraSEPNSt3__114remove_pointerIT_E4typeE">=</a> <a class="local col2 ref" href="#42animation" title='animation' data-ref="42animation" data-ref-filename="42animation">animation</a>;</td></tr>
<tr><th id="177">177</th><td>}</td></tr>
<tr><th id="178">178</th><td></td></tr>
<tr><th id="179">179</th><td>- (<span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span>)additionalDurationNeededToReachFinalFrame</td></tr>
<tr><th id="180">180</th><td>{</td></tr>
<tr><th id="181">181</th><td>    <em>static</em> <em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col3 decl" id="43maxAdditionalDuration" title='maxAdditionalDuration' data-type='const CGFloat' data-ref="43maxAdditionalDuration" data-ref-filename="43maxAdditionalDuration">maxAdditionalDuration</dfn> = <var>1</var>;</td></tr>
<tr><th id="182">182</th><td>    <em>static</em> <em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col4 decl" id="44speedFactor" title='speedFactor' data-type='const CGFloat' data-ref="44speedFactor" data-ref-filename="44speedFactor">speedFactor</dfn> = <var>0.0001f</var>;</td></tr>
<tr><th id="183">183</th><td>    </td></tr>
<tr><th id="184">184</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col5 decl" id="45maxDist" title='maxDist' data-type='CGFloat' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</dfn> = <a class="tu ref fn" href="#_ZL15squaredDistance7CGPointS_" title='squaredDistance' data-use='c' data-ref="_ZL15squaredDistance7CGPointS_" data-ref-filename="_ZL15squaredDistance7CGPointS_">squaredDistance</a>(<span class='ref fn fake' title='CGPoint::CGPoint' data-ref="_ZN7CGPointC1ERKS_" data-ref-filename="_ZN7CGPointC1ERKS_"></span>_initialFrame.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>, <span class='ref fn fake' title='CGPoint::CGPoint' data-ref="_ZN7CGPointC1ERKS_" data-ref-filename="_ZN7CGPointC1ERKS_"></span>_finalFrame.<span class='ref field' title='CGRect::origin' data-ref="CGRect::origin" data-ref-filename="CGRect..origin">origin</span>);</td></tr>
<tr><th id="185">185</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col6 decl" id="46dist" title='dist' data-type='CGFloat' data-ref="46dist" data-ref-filename="46dist">dist</dfn>;</td></tr>
<tr><th id="186">186</th><td>    </td></tr>
<tr><th id="187">187</th><td>    <a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a> = <a class="tu ref fn" href="#_ZL15squaredDistance7CGPointS_" title='squaredDistance' data-use='c' data-ref="_ZL15squaredDistance7CGPointS_" data-ref-filename="_ZL15squaredDistance7CGPointS_">squaredDistance</a>(<span class='ref fn' title='NSMakePoint' data-ref="_ZL11NSMakePointdd" data-ref-filename="_ZL11NSMakePointdd">NSMakePoint</span>(<span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame), <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame)), <span class='ref fn' title='NSMakePoint' data-ref="_ZL11NSMakePointdd" data-ref-filename="_ZL11NSMakePointdd">NSMakePoint</span>(<span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame), <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame)));</td></tr>
<tr><th id="188">188</th><td>    <b>if</b> (<a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a> &gt; <a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a>)</td></tr>
<tr><th id="189">189</th><td>        <a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a> = <a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a>;</td></tr>
<tr><th id="190">190</th><td>    </td></tr>
<tr><th id="191">191</th><td>    <a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a> = <a class="tu ref fn" href="#_ZL15squaredDistance7CGPointS_" title='squaredDistance' data-use='c' data-ref="_ZL15squaredDistance7CGPointS_" data-ref-filename="_ZL15squaredDistance7CGPointS_">squaredDistance</a>(<span class='ref fn' title='NSMakePoint' data-ref="_ZL11NSMakePointdd" data-ref-filename="_ZL11NSMakePointdd">NSMakePoint</span>(<span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame), <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame)), <span class='ref fn' title='NSMakePoint' data-ref="_ZL11NSMakePointdd" data-ref-filename="_ZL11NSMakePointdd">NSMakePoint</span>(<span class='ref fn' title='NSMaxX' data-ref="_ZL6NSMaxX6CGRect" data-ref-filename="_ZL6NSMaxX6CGRect">NSMaxX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame), <span class='ref fn' title='NSMaxY' data-ref="_ZL6NSMaxY6CGRect" data-ref-filename="_ZL6NSMaxY6CGRect">NSMaxY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame)));</td></tr>
<tr><th id="192">192</th><td>    <b>if</b> (<a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a> &gt; <a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a>)</td></tr>
<tr><th id="193">193</th><td>        <a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a> = <a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a>;</td></tr>
<tr><th id="194">194</th><td>    </td></tr>
<tr><th id="195">195</th><td>    <a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a> = <a class="tu ref fn" href="#_ZL15squaredDistance7CGPointS_" title='squaredDistance' data-use='c' data-ref="_ZL15squaredDistance7CGPointS_" data-ref-filename="_ZL15squaredDistance7CGPointS_">squaredDistance</a>(<span class='ref fn' title='NSMakePoint' data-ref="_ZL11NSMakePointdd" data-ref-filename="_ZL11NSMakePointdd">NSMakePoint</span>(<span class='ref fn' title='NSMinX' data-ref="_ZL6NSMinX6CGRect" data-ref-filename="_ZL6NSMinX6CGRect">NSMinX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame), <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_initialFrame)), <span class='ref fn' title='NSMakePoint' data-ref="_ZL11NSMakePointdd" data-ref-filename="_ZL11NSMakePointdd">NSMakePoint</span>(<span class='ref fn' title='NSMinX' data-ref="_ZL6NSMinX6CGRect" data-ref-filename="_ZL6NSMinX6CGRect">NSMinX</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame), <span class='ref fn' title='NSMinY' data-ref="_ZL6NSMinY6CGRect" data-ref-filename="_ZL6NSMinY6CGRect">NSMinY</span>(<span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1ERKS_" data-ref-filename="_ZN6CGRectC1ERKS_"></span>_finalFrame)));</td></tr>
<tr><th id="196">196</th><td>    <b>if</b> (<a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a> &gt; <a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a>)</td></tr>
<tr><th id="197">197</th><td>        <a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a> = <a class="local col6 ref" href="#46dist" title='dist' data-ref="46dist" data-ref-filename="46dist">dist</a>;</td></tr>
<tr><th id="198">198</th><td>    </td></tr>
<tr><th id="199">199</th><td>    <b>return</b> <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<b>static_cast</b>&lt;<span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span>&gt;(<span class='ref fn' title='sqrt' data-ref="sqrt" data-ref-filename="sqrt">sqrt</span>(<a class="local col5 ref" href="#45maxDist" title='maxDist' data-ref="45maxDist" data-ref-filename="45maxDist">maxDist</a>) * <a class="local col4 ref" href="#44speedFactor" title='speedFactor' data-ref="44speedFactor" data-ref-filename="44speedFactor">speedFactor</a>), <a class="local col3 ref" href="#43maxAdditionalDuration" title='maxAdditionalDuration' data-ref="43maxAdditionalDuration" data-ref-filename="43maxAdditionalDuration">maxAdditionalDuration</a>);</td></tr>
<tr><th id="200">200</th><td>}</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td>- (<em>void</em>)startAnimation</td></tr>
<tr><th id="203">203</th><td>{</td></tr>
<tr><th id="204">204</th><td>    <i>// Compute extra time</i></td></tr>
<tr><th id="205">205</th><td>    <b>if</b> (_hintedDuration)</td></tr>
<tr><th id="206">206</th><td>        [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setDuration:_hintedDuration + [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> additionalDurationNeededToReachFinalFrame]];</td></tr>
<tr><th id="207">207</th><td>    [super startAnimation];</td></tr>
<tr><th id="208">208</th><td>}</td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td>- (<em>void</em>)stopAnimation</td></tr>
<tr><th id="211">211</th><td>{</td></tr>
<tr><th id="212">212</th><td>    _window = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="213">213</th><td>    [super stopAnimation];</td></tr>
<tr><th id="214">214</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a>_subAnimation stopAnimation];</td></tr>
<tr><th id="215">215</th><td>}</td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td>@end</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>@implementation WebWindowFadeAnimation</td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td>- (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)init</td></tr>
<tr><th id="222">222</th><td>{</td></tr>
<tr><th id="223">223</th><td>    <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> = [super init];</td></tr>
<tr><th id="224">224</th><td>    <b>if</b> (!<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>)</td></tr>
<tr><th id="225">225</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="226">226</th><td>    [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setAnimationBlockingMode:<span class='enum' title='NSAnimationNonblockingThreaded' data-ref="NSAnimationNonblockingThreaded" data-ref-filename="NSAnimationNonblockingThreaded">NSAnimationNonblockingThreaded</span>];</td></tr>
<tr><th id="227">227</th><td>    [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setFrameRate:<var>60</var>];</td></tr>
<tr><th id="228">228</th><td>    [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setAnimationCurve:<span class='enum' title='NSAnimationEaseInOut' data-ref="NSAnimationEaseInOut" data-ref-filename="NSAnimationEaseInOut">NSAnimationEaseInOut</span>];</td></tr>
<tr><th id="229">229</th><td>    <b>return</b> <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>;</td></tr>
<tr><th id="230">230</th><td>}</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td>- (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)initWithDuration:(<span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span>)<dfn class="local col3 decl" id="53duration" title='duration' data-type='NSTimeInterval' data-ref="53duration" data-ref-filename="53duration">duration</dfn> window:(NSWindow *)<dfn class="local col4 decl" id="54window" title='window' data-type='NSWindow *' data-ref="54window" data-ref-filename="54window">window</dfn> initialAlpha:(<span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span>)<dfn class="local col5 decl" id="55initialAlpha" title='initialAlpha' data-type='CGFloat' data-ref="55initialAlpha" data-ref-filename="55initialAlpha">initialAlpha</dfn> finalAlpha:(<span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span>)<dfn class="local col6 decl" id="56finalAlpha" title='finalAlpha' data-type='CGFloat' data-ref="56finalAlpha" data-ref-filename="56finalAlpha">finalAlpha</dfn></td></tr>
<tr><th id="233">233</th><td>{</td></tr>
<tr><th id="234">234</th><td>    <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> = [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> init];</td></tr>
<tr><th id="235">235</th><td>    <b>if</b> (!<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>)</td></tr>
<tr><th id="236">236</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;    </td></tr>
<tr><th id="237">237</th><td>    _window = <a class="local col4 ref" href="#54window" title='window' data-ref="54window" data-ref-filename="54window">window</a>;</td></tr>
<tr><th id="238">238</th><td>    _initialAlpha = <a class="local col5 ref" href="#55initialAlpha" title='initialAlpha' data-ref="55initialAlpha" data-ref-filename="55initialAlpha">initialAlpha</a>;</td></tr>
<tr><th id="239">239</th><td>    _finalAlpha = <a class="local col6 ref" href="#56finalAlpha" title='finalAlpha' data-ref="56finalAlpha" data-ref-filename="56finalAlpha">finalAlpha</a>;</td></tr>
<tr><th id="240">240</th><td>    [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> setDuration:<a class="local col3 ref" href="#53duration" title='duration' data-ref="53duration" data-ref-filename="53duration">duration</a>];</td></tr>
<tr><th id="241">241</th><td>    <b>return</b> <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>;</td></tr>
<tr><th id="242">242</th><td>}</td></tr>
<tr><th id="243">243</th><td></td></tr>
<tr><th id="244">244</th><td>- (<em>void</em>)setDuration:(<span class='typedef' title='NSTimeInterval' data-type='double' data-ref="NSTimeInterval" data-ref-filename="NSTimeInterval">NSTimeInterval</span>)<dfn class="local col7 decl" id="57duration" title='duration' data-type='NSTimeInterval' data-ref="57duration" data-ref-filename="57duration">duration</dfn></td></tr>
<tr><th id="245">245</th><td>{</td></tr>
<tr><th id="246">246</th><td>    [super setDuration:<a class="tu ref fn" href="#_ZL38WebWindowAnimationDurationFromDurationd" title='WebWindowAnimationDurationFromDuration' data-use='c' data-ref="_ZL38WebWindowAnimationDurationFromDurationd" data-ref-filename="_ZL38WebWindowAnimationDurationFromDurationd">WebWindowAnimationDurationFromDuration</a>(<a class="local col7 ref" href="#57duration" title='duration' data-ref="57duration" data-ref-filename="57duration">duration</a>)];</td></tr>
<tr><th id="247">247</th><td>}</td></tr>
<tr><th id="248">248</th><td></td></tr>
<tr><th id="249">249</th><td>- (<span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span>)currentAlpha</td></tr>
<tr><th id="250">250</th><td>{</td></tr>
<tr><th id="251">251</th><td>    <b>return</b> <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<b>static_cast</b>&lt;<span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span>&gt;(<var>0</var>), <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<b>static_cast</b>&lt;<span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span>&gt;(<var>1</var>), _initialAlpha + [<span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span> currentValue] * (_finalAlpha - _initialAlpha)));</td></tr>
<tr><th id="252">252</th><td>}</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td>- (<em>void</em>)setCurrentProgress:(<span class='typedef' title='NSAnimationProgress' data-type='float' data-ref="NSAnimationProgress" data-ref-filename="NSAnimationProgress">NSAnimationProgress</span>)<dfn class="local col8 decl" id="58progress" title='progress' data-type='NSAnimationProgress' data-ref="58progress" data-ref-filename="58progress">progress</dfn></td></tr>
<tr><th id="255">255</th><td>{</td></tr>
<tr><th id="256">256</th><td>    <b>if</b> (_isStopped)</td></tr>
<tr><th id="257">257</th><td>        <b>return</b>;</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(_window)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/WebView/WebWindowAnimation.mm&quot;, 259, __PRETTY_FUNCTION__, &quot;_window&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(259, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebKitLegacy/mac/WebView/WebWindowAnimation.mm&quot;, __PRETTY_FUNCTION__, 34); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(_window);</td></tr>
<tr><th id="260">260</th><td>    [super setCurrentProgress:<a class="local col8 ref" href="#58progress" title='progress' data-ref="58progress" data-ref-filename="58progress">progress</a>];</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>    <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html#CGSSetWindowAlpha" title='CGSSetWindowAlpha' data-ref="CGSSetWindowAlpha" data-ref-filename="CGSSetWindowAlpha">CGSSetWindowAlpha</a>(<a class="tu ref fn" href="#_ZL28mainWindowServerConnectionIDv" title='mainWindowServerConnectionID' data-use='c' data-ref="_ZL28mainWindowServerConnectionIDv" data-ref-filename="_ZL28mainWindowServerConnectionIDv">mainWindowServerConnectionID</a>(), _window.windowNumber, <span class='local col3 ref' title='self' data-ref="33self" data-ref-filename="33self">self</span>.currentAlpha);</td></tr>
<tr><th id="263">263</th><td>}</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>- (<em>void</em>)setWindow:(NSWindow*)<dfn class="local col9 decl" id="59window" title='window' data-type='NSWindow *' data-ref="59window" data-ref-filename="59window">window</dfn></td></tr>
<tr><th id="266">266</th><td>{</td></tr>
<tr><th id="267">267</th><td>    _window = <a class="local col9 ref" href="#59window" title='window' data-ref="59window" data-ref-filename="59window">window</a>;</td></tr>
<tr><th id="268">268</th><td>}</td></tr>
<tr><th id="269">269</th><td></td></tr>
<tr><th id="270">270</th><td>- (<em>void</em>)stopAnimation</td></tr>
<tr><th id="271">271</th><td>{</td></tr>
<tr><th id="272">272</th><td>    <i>// This is relevant when we are a sub animation of a scale animation.</i></td></tr>
<tr><th id="273">273</th><td><i>    // In this case we are hosted in the animated thread of the parent</i></td></tr>
<tr><th id="274">274</th><td><i>    // and even after [super stopAnimation], the parent might call</i></td></tr>
<tr><th id="275">275</th><td><i>    // setCurrrentProgress.</i></td></tr>
<tr><th id="276">276</th><td>    _isStopped = <span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>;</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>    [super stopAnimation];</td></tr>
<tr><th id="279">279</th><td>}</td></tr>
<tr><th id="280">280</th><td></td></tr>
<tr><th id="281">281</th><td>@end</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td><u>#<span data-ppcond="26">endif</span> // PLATFORM(MAC)</u></td></tr>
<tr><th id="284">284</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
