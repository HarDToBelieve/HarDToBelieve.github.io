<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>suppression_gain.cc source code [webkit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc'; var root_path = '../../../../../../../../..'; var data_path = '../../../../../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../../../..'>webkit</a>/<a href='../../../../../../..'>Source</a>/<a href='../../../../../..'>ThirdParty</a>/<a href='../../../../..'>libwebrtc</a>/<a href='../../../..'>Source</a>/<a href='../../..'>webrtc</a>/<a href='../..'>modules</a>/<a href='..'>audio_processing</a>/<a href='./'>aec3</a>/<a href='suppression_gain.cc.html'>suppression_gain.cc</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> *  Use of this source code is governed by a BSD-style license</i></td></tr>
<tr><th id="5">5</th><td><i> *  that can be found in the LICENSE file in the root of the source</i></td></tr>
<tr><th id="6">6</th><td><i> *  tree. An additional intellectual property rights grant can be found</i></td></tr>
<tr><th id="7">7</th><td><i> *  in the file PATENTS.  All contributing project authors may</i></td></tr>
<tr><th id="8">8</th><td><i> *  be found in the AUTHORS file in the root of the source tree.</i></td></tr>
<tr><th id="9">9</th><td><i> */</i></td></tr>
<tr><th id="10">10</th><td></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="suppression_gain.h.html">"modules/audio_processing/aec3/suppression_gain.h"</a></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><u>#include &lt;math.h&gt;</u></td></tr>
<tr><th id="14">14</th><td><u>#include &lt;stddef.h&gt;</u></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#include &lt;algorithm&gt;</u></td></tr>
<tr><th id="17">17</th><td><u>#include &lt;numeric&gt;</u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="dominant_nearend_detector.h.html">"modules/audio_processing/aec3/dominant_nearend_detector.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="moving_average.h.html">"modules/audio_processing/aec3/moving_average.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="subband_nearend_detector.h.html">"modules/audio_processing/aec3/subband_nearend_detector.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="vector_math.h.html">"modules/audio_processing/aec3/vector_math.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../logging/apm_data_dumper.h.html">"modules/audio_processing/logging/apm_data_dumper.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../../rtc_base/atomic_ops.h.html">"rtc_base/atomic_ops.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../../rtc_base/checks.h.html">"rtc_base/checks.h"</a></u></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><b>namespace</b> <span class="namespace">webrtc</span> {</td></tr>
<tr><th id="28">28</th><td><b>namespace</b> {</td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN6webrtc12_GLOBAL__N_122LimitLowFrequencyGainsEPNSt3__15arrayIfLm65EEE" title='webrtc::(anonymous namespace)::LimitLowFrequencyGains' data-type='void webrtc::(anonymous namespace)::LimitLowFrequencyGains(std::array&lt;float, kFftLengthBy2Plus1&gt; * gain)' data-ref="_ZN6webrtc12_GLOBAL__N_122LimitLowFrequencyGainsEPNSt3__15arrayIfLm65EEE" data-ref-filename="_ZN6webrtc12_GLOBAL__N_122LimitLowFrequencyGainsEPNSt3__15arrayIfLm65EEE">LimitLowFrequencyGains</dfn>(<span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;* <dfn class="local col1 decl" id="1gain" title='gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt; *' data-ref="1gain" data-ref-filename="1gain">gain</dfn>) {</td></tr>
<tr><th id="31">31</th><td>  <i>// Limit the low frequency gains to avoid the impact of the high-pass filter</i></td></tr>
<tr><th id="32">32</th><td><i>  // on the lower-frequency gain influencing the overall achieved gain.</i></td></tr>
<tr><th id="33">33</th><td>  (*<a class="local col1 ref" href="#1gain" title='gain' data-ref="1gain" data-ref-filename="1gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<var>0</var>]</span> = (*<a class="local col1 ref" href="#1gain" title='gain' data-ref="1gain" data-ref-filename="1gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<var>1</var>]</span> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>((*<a class="local col1 ref" href="#1gain" title='gain' data-ref="1gain" data-ref-filename="1gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<var>1</var>]</span>, (*<a class="local col1 ref" href="#1gain" title='gain' data-ref="1gain" data-ref-filename="1gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<var>2</var>]</span>);</td></tr>
<tr><th id="34">34</th><td>}</td></tr>
<tr><th id="35">35</th><td></td></tr>
<tr><th id="36">36</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN6webrtc12_GLOBAL__N_123LimitHighFrequencyGainsEbPNSt3__15arrayIfLm65EEE" title='webrtc::(anonymous namespace)::LimitHighFrequencyGains' data-type='void webrtc::(anonymous namespace)::LimitHighFrequencyGains(bool conservative_hf_suppression, std::array&lt;float, kFftLengthBy2Plus1&gt; * gain)' data-ref="_ZN6webrtc12_GLOBAL__N_123LimitHighFrequencyGainsEbPNSt3__15arrayIfLm65EEE" data-ref-filename="_ZN6webrtc12_GLOBAL__N_123LimitHighFrequencyGainsEbPNSt3__15arrayIfLm65EEE">LimitHighFrequencyGains</dfn>(<em>bool</em> <dfn class="local col2 decl" id="2conservative_hf_suppression" title='conservative_hf_suppression' data-type='bool' data-ref="2conservative_hf_suppression" data-ref-filename="2conservative_hf_suppression">conservative_hf_suppression</dfn>,</td></tr>
<tr><th id="37">37</th><td>                             <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;* <dfn class="local col3 decl" id="3gain" title='gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt; *' data-ref="3gain" data-ref-filename="3gain">gain</dfn>) {</td></tr>
<tr><th id="38">38</th><td>  <i>// Limit the high frequency gains to avoid echo leakage due to an imperfect</i></td></tr>
<tr><th id="39">39</th><td><i>  // filter.</i></td></tr>
<tr><th id="40">40</th><td>  <b>constexpr</b> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col4 decl" id="4kFirstBandToLimit" title='kFirstBandToLimit' data-type='const size_t' data-ref="4kFirstBandToLimit" data-ref-filename="4kFirstBandToLimit">kFirstBandToLimit</dfn> = (<var>64</var> * <var>2000</var>) / <var>8000</var>;</td></tr>
<tr><th id="41">41</th><td>  <em>const</em> <em>float</em> <dfn class="local col5 decl" id="5min_upper_gain" title='min_upper_gain' data-type='const float' data-ref="5min_upper_gain" data-ref-filename="5min_upper_gain">min_upper_gain</dfn> = (*<a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col4 ref" href="#4kFirstBandToLimit" title='kFirstBandToLimit' data-ref="4kFirstBandToLimit" data-ref-filename="4kFirstBandToLimit">kFirstBandToLimit</a>]</span>;</td></tr>
<tr><th id="42">42</th><td>  <span class="namespace">std::</span><span class='ref fn' title='std::__1::for_each' data-ref="_ZNSt3__1L8for_eachET_S0_T0_" data-ref-filename="_ZNSt3__1L8for_eachET_S0_T0_">for_each</span>(</td></tr>
<tr><th id="43">43</th><td>      <a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>() + <a class="local col4 ref" href="#4kFirstBandToLimit" title='kFirstBandToLimit' data-ref="4kFirstBandToLimit" data-ref-filename="4kFirstBandToLimit">kFirstBandToLimit</a> + <var>1</var>, <a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::end' data-ref="_ZNSt3__15array3endEv" data-ref-filename="_ZNSt3__15array3endEv">end</span>(),</td></tr>
<tr><th id="44">44</th><td>      [<a class="local col5 ref" href="#5min_upper_gain" title='min_upper_gain' data-ref="5min_upper_gain" data-ref-filename="5min_upper_gain">min_upper_gain</a>](<em>float</em>&amp; <dfn class="local col6 decl" id="6a" title='a' data-type='float &amp;' data-ref="6a" data-ref-filename="6a">a</dfn>) { <a class="local col6 ref" href="#6a" title='a' data-ref="6a" data-ref-filename="6a">a</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<a class="local col6 ref" href="#6a" title='a' data-ref="6a" data-ref-filename="6a">a</a>, <a class="local col5 ref" href="#5min_upper_gain" title='min_upper_gain' data-ref="5min_upper_gain" data-ref-filename="5min_upper_gain">min_upper_gain</a>); });</td></tr>
<tr><th id="45">45</th><td>  (*<a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2" title='webrtc::kFftLengthBy2' data-ref="webrtc::kFftLengthBy2" data-ref-filename="webrtc..kFftLengthBy2">kFftLengthBy2</a>]</span> = (*<a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Minus1" title='webrtc::kFftLengthBy2Minus1' data-ref="webrtc::kFftLengthBy2Minus1" data-ref-filename="webrtc..kFftLengthBy2Minus1">kFftLengthBy2Minus1</a>]</span>;</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td>  <b>if</b> (<a class="local col2 ref" href="#2conservative_hf_suppression" title='conservative_hf_suppression' data-ref="2conservative_hf_suppression" data-ref-filename="2conservative_hf_suppression">conservative_hf_suppression</a>) {</td></tr>
<tr><th id="48">48</th><td>    <i>// Limits the gain in the frequencies for which the adaptive filter has not</i></td></tr>
<tr><th id="49">49</th><td><i>    // converged.</i></td></tr>
<tr><th id="50">50</th><td><i>    // TODO(peah): Make adaptive to take the actual filter error into account.</i></td></tr>
<tr><th id="51">51</th><td>    <b>constexpr</b> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col7 decl" id="7kUpperAccurateBandPlus1" title='kUpperAccurateBandPlus1' data-type='const size_t' data-ref="7kUpperAccurateBandPlus1" data-ref-filename="7kUpperAccurateBandPlus1">kUpperAccurateBandPlus1</dfn> = <var>29</var>;</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td>    <b>constexpr</b> <em>float</em> <dfn class="local col8 decl" id="8oneByBandsInSum" title='oneByBandsInSum' data-type='const float' data-ref="8oneByBandsInSum" data-ref-filename="8oneByBandsInSum">oneByBandsInSum</dfn> =</td></tr>
<tr><th id="54">54</th><td>        <var>1</var> / <b>static_cast</b>&lt;<em>float</em>&gt;(<a class="local col7 ref" href="#7kUpperAccurateBandPlus1" title='kUpperAccurateBandPlus1' data-ref="7kUpperAccurateBandPlus1" data-ref-filename="7kUpperAccurateBandPlus1">kUpperAccurateBandPlus1</a> - <var>20</var>);</td></tr>
<tr><th id="55">55</th><td>    <em>const</em> <em>float</em> <dfn class="local col9 decl" id="9hf_gain_bound" title='hf_gain_bound' data-type='const float' data-ref="9hf_gain_bound" data-ref-filename="9hf_gain_bound">hf_gain_bound</dfn> =</td></tr>
<tr><th id="56">56</th><td>        <span class="namespace">std::</span><span class='ref fn' title='std::__1::accumulate' data-ref="_ZNSt3__1L10accumulateET_S0_T0_" data-ref-filename="_ZNSt3__1L10accumulateET_S0_T0_">accumulate</span>(<a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>() + <var>20</var>,</td></tr>
<tr><th id="57">57</th><td>                        <a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>() + <a class="local col7 ref" href="#7kUpperAccurateBandPlus1" title='kUpperAccurateBandPlus1' data-ref="7kUpperAccurateBandPlus1" data-ref-filename="7kUpperAccurateBandPlus1">kUpperAccurateBandPlus1</a>, <var>0.f</var>) *</td></tr>
<tr><th id="58">58</th><td>        <a class="local col8 ref" href="#8oneByBandsInSum" title='oneByBandsInSum' data-ref="8oneByBandsInSum" data-ref-filename="8oneByBandsInSum">oneByBandsInSum</a>;</td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::__1::for_each' data-ref="_ZNSt3__1L8for_eachET_S0_T0_" data-ref-filename="_ZNSt3__1L8for_eachET_S0_T0_">for_each</span>(</td></tr>
<tr><th id="61">61</th><td>        <a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>() + <a class="local col7 ref" href="#7kUpperAccurateBandPlus1" title='kUpperAccurateBandPlus1' data-ref="7kUpperAccurateBandPlus1" data-ref-filename="7kUpperAccurateBandPlus1">kUpperAccurateBandPlus1</a>, <a class="local col3 ref" href="#3gain" title='gain' data-ref="3gain" data-ref-filename="3gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::end' data-ref="_ZNSt3__15array3endEv" data-ref-filename="_ZNSt3__15array3endEv">end</span>(),</td></tr>
<tr><th id="62">62</th><td>        [<a class="local col9 ref" href="#9hf_gain_bound" title='hf_gain_bound' data-ref="9hf_gain_bound" data-ref-filename="9hf_gain_bound">hf_gain_bound</a>](<em>float</em>&amp; <dfn class="local col0 decl" id="10a" title='a' data-type='float &amp;' data-ref="10a" data-ref-filename="10a">a</dfn>) { <a class="local col0 ref" href="#10a" title='a' data-ref="10a" data-ref-filename="10a">a</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<a class="local col0 ref" href="#10a" title='a' data-ref="10a" data-ref-filename="10a">a</a>, <a class="local col9 ref" href="#9hf_gain_bound" title='hf_gain_bound' data-ref="9hf_gain_bound" data-ref-filename="9hf_gain_bound">hf_gain_bound</a>); });</td></tr>
<tr><th id="63">63</th><td>  }</td></tr>
<tr><th id="64">64</th><td>}</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><i  data-doc="_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE">// Scales the echo according to assessed audibility at the other end.</i></td></tr>
<tr><th id="67">67</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE" title='webrtc::(anonymous namespace)::WeightEchoForAudibility' data-type='void webrtc::(anonymous namespace)::WeightEchoForAudibility(const webrtc::EchoCanceller3Config &amp; config, rtc::ArrayView&lt;const float&gt; echo, rtc::ArrayView&lt;float&gt; weighted_echo)' data-ref="_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE" data-ref-filename="_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE">WeightEchoForAudibility</dfn>(<em>const</em> <a class="type" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config" title='webrtc::EchoCanceller3Config' data-ref="webrtc::EchoCanceller3Config" data-ref-filename="webrtc..EchoCanceller3Config">EchoCanceller3Config</a>&amp; <dfn class="local col1 decl" id="11config" title='config' data-type='const webrtc::EchoCanceller3Config &amp;' data-ref="11config" data-ref-filename="11config">config</dfn>,</td></tr>
<tr><th id="68">68</th><td>                             <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <em>float</em>&gt; <dfn class="local col2 decl" id="12echo" title='echo' data-type='rtc::ArrayView&lt;const float&gt;' data-ref="12echo" data-ref-filename="12echo">echo</dfn>,</td></tr>
<tr><th id="69">69</th><td>                             <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>float</em>&gt; <dfn class="local col3 decl" id="13weighted_echo" title='weighted_echo' data-type='rtc::ArrayView&lt;float&gt;' data-ref="13weighted_echo" data-ref-filename="13weighted_echo">weighted_echo</dfn>) {</td></tr>
<tr><th id="70">70</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#430" title="::rtc::SafeEq((kFftLengthBy2Plus1), (echo.size())) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 70, &quot;kFftLengthBy2Plus1&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;echo.size()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (kFftLengthBy2Plus1) &lt;&lt; (echo.size())" data-ref="_M/RTC_DCHECK_EQ">RTC_DCHECK_EQ</a>(<a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>, <a class="local col2 ref" href="#12echo" title='echo' data-ref="12echo" data-ref-filename="12echo">echo</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" title='rtc::impl::ArrayViewBase&lt;type-parameter-0-0, -4711&gt;::size' data-ref="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" data-ref-filename="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv">size</a>());</td></tr>
<tr><th id="71">71</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#430" title="::rtc::SafeEq((kFftLengthBy2Plus1), (weighted_echo.size())) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 71, &quot;kFftLengthBy2Plus1&quot; &quot; &quot; &quot;==&quot; &quot; &quot; &quot;weighted_echo.size()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (kFftLengthBy2Plus1) &lt;&lt; (weighted_echo.size())" data-ref="_M/RTC_DCHECK_EQ">RTC_DCHECK_EQ</a>(<a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>, <a class="local col3 ref" href="#13weighted_echo" title='weighted_echo' data-ref="13weighted_echo" data-ref-filename="13weighted_echo">weighted_echo</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" title='rtc::impl::ArrayViewBase&lt;type-parameter-0-0, -4711&gt;::size' data-ref="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" data-ref-filename="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv">size</a>());</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>  <em>auto</em> <dfn class="local col4 decl" id="14weigh" title='weigh' data-type='(lambda at /Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc:73:16)' data-ref="14weigh" data-ref-filename="14weigh">weigh</dfn> = [](<em>float</em> <dfn class="local col5 decl" id="15threshold" title='threshold' data-type='float' data-ref="15threshold" data-ref-filename="15threshold">threshold</dfn>, <em>float</em> <dfn class="local col6 decl" id="16normalizer" title='normalizer' data-type='float' data-ref="16normalizer" data-ref-filename="16normalizer">normalizer</dfn>, <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col7 decl" id="17begin" title='begin' data-type='size_t' data-ref="17begin" data-ref-filename="17begin">begin</dfn>, <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col8 decl" id="18end" title='end' data-type='size_t' data-ref="18end" data-ref-filename="18end">end</dfn>,</td></tr>
<tr><th id="74">74</th><td>                  <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <em>float</em>&gt; <dfn class="local col9 decl" id="19echo" title='echo' data-type='rtc::ArrayView&lt;const float&gt;' data-ref="19echo" data-ref-filename="19echo">echo</dfn>,</td></tr>
<tr><th id="75">75</th><td>                  <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>float</em>&gt; <dfn class="local col0 decl" id="20weighted_echo" title='weighted_echo' data-type='rtc::ArrayView&lt;float&gt;' data-ref="20weighted_echo" data-ref-filename="20weighted_echo">weighted_echo</dfn>) {</td></tr>
<tr><th id="76">76</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="21k" title='k' data-type='size_t' data-ref="21k" data-ref-filename="21k">k</dfn> = <a class="local col7 ref" href="#17begin" title='begin' data-ref="17begin" data-ref-filename="17begin">begin</a>; <a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a> &lt; <a class="local col8 ref" href="#18end" title='end' data-ref="18end" data-ref-filename="18end">end</a>; ++<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>) {</td></tr>
<tr><th id="77">77</th><td>      <b>if</b> (<a class="local col9 ref" href="#19echo" title='echo' data-ref="19echo" data-ref-filename="19echo">echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>]</a> &lt; <a class="local col5 ref" href="#15threshold" title='threshold' data-ref="15threshold" data-ref-filename="15threshold">threshold</a>) {</td></tr>
<tr><th id="78">78</th><td>        <em>float</em> <dfn class="local col2 decl" id="22tmp" title='tmp' data-type='float' data-ref="22tmp" data-ref-filename="22tmp">tmp</dfn> = (<a class="local col5 ref" href="#15threshold" title='threshold' data-ref="15threshold" data-ref-filename="15threshold">threshold</a> - <a class="local col9 ref" href="#19echo" title='echo' data-ref="19echo" data-ref-filename="19echo">echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>]</a>) * <a class="local col6 ref" href="#16normalizer" title='normalizer' data-ref="16normalizer" data-ref-filename="16normalizer">normalizer</a>;</td></tr>
<tr><th id="79">79</th><td>        <a class="local col0 ref" href="#20weighted_echo" title='weighted_echo' data-ref="20weighted_echo" data-ref-filename="20weighted_echo">weighted_echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>]</a> = <a class="local col9 ref" href="#19echo" title='echo' data-ref="19echo" data-ref-filename="19echo">echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>]</a> * <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<var>0.f</var>, <var>1.f</var> - <a class="local col2 ref" href="#22tmp" title='tmp' data-ref="22tmp" data-ref-filename="22tmp">tmp</a> * <a class="local col2 ref" href="#22tmp" title='tmp' data-ref="22tmp" data-ref-filename="22tmp">tmp</a>);</td></tr>
<tr><th id="80">80</th><td>      } <b>else</b> {</td></tr>
<tr><th id="81">81</th><td>        <a class="local col0 ref" href="#20weighted_echo" title='weighted_echo' data-ref="20weighted_echo" data-ref-filename="20weighted_echo">weighted_echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>]</a> = <a class="local col9 ref" href="#19echo" title='echo' data-ref="19echo" data-ref-filename="19echo">echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#21k" title='k' data-ref="21k" data-ref-filename="21k">k</a>]</a>;</td></tr>
<tr><th id="82">82</th><td>      }</td></tr>
<tr><th id="83">83</th><td>    }</td></tr>
<tr><th id="84">84</th><td>  };</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>  <em>float</em> <dfn class="local col3 decl" id="23threshold" title='threshold' data-type='float' data-ref="23threshold" data-ref-filename="23threshold">threshold</dfn> = <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::floor_power" title='webrtc::EchoCanceller3Config::EchoAudibility::floor_power' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::floor_power" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..floor_power">floor_power</a> *</td></tr>
<tr><th id="87">87</th><td>                    <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_lf" title='webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_lf' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_lf" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..audibility_threshold_lf">audibility_threshold_lf</a>;</td></tr>
<tr><th id="88">88</th><td>  <em>float</em> <dfn class="local col4 decl" id="24normalizer" title='normalizer' data-type='float' data-ref="24normalizer" data-ref-filename="24normalizer">normalizer</dfn> = <var>1.f</var> / (<a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a> - <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::floor_power" title='webrtc::EchoCanceller3Config::EchoAudibility::floor_power' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::floor_power" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..floor_power">floor_power</a>);</td></tr>
<tr><th id="89">89</th><td>  <a class="local col4 ref" href="#14weigh" title='weigh' data-ref="14weigh" data-ref-filename="14weigh">weigh</a><a class="tu ref fn" href="#_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_" title='webrtc::(anonymous namespace)::WeightEchoForAudibility(const webrtc::EchoCanceller3Config &amp;, rtc::ArrayView&lt;const float&gt;, rtc::ArrayView&lt;float&gt;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_" data-ref-filename="_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_">(<a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a>, <a class="local col4 ref" href="#24normalizer" title='normalizer' data-ref="24normalizer" data-ref-filename="24normalizer">normalizer</a>, <var>0</var>, <var>3</var>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col2 ref" href="#12echo" title='echo' data-ref="12echo" data-ref-filename="12echo">echo</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col3 ref" href="#13weighted_echo" title='weighted_echo' data-ref="13weighted_echo" data-ref-filename="13weighted_echo">weighted_echo</a>)</a>;</td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td>  <a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a> = <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::floor_power" title='webrtc::EchoCanceller3Config::EchoAudibility::floor_power' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::floor_power" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..floor_power">floor_power</a> *</td></tr>
<tr><th id="92">92</th><td>              <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_mf" title='webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_mf' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_mf" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..audibility_threshold_mf">audibility_threshold_mf</a>;</td></tr>
<tr><th id="93">93</th><td>  <a class="local col4 ref" href="#24normalizer" title='normalizer' data-ref="24normalizer" data-ref-filename="24normalizer">normalizer</a> = <var>1.f</var> / (<a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a> - <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::floor_power" title='webrtc::EchoCanceller3Config::EchoAudibility::floor_power' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::floor_power" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..floor_power">floor_power</a>);</td></tr>
<tr><th id="94">94</th><td>  <a class="local col4 ref" href="#14weigh" title='weigh' data-ref="14weigh" data-ref-filename="14weigh">weigh</a><a class="tu ref fn" href="#_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_" title='webrtc::(anonymous namespace)::WeightEchoForAudibility(const webrtc::EchoCanceller3Config &amp;, rtc::ArrayView&lt;const float&gt;, rtc::ArrayView&lt;float&gt;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_" data-ref-filename="_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_">(<a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a>, <a class="local col4 ref" href="#24normalizer" title='normalizer' data-ref="24normalizer" data-ref-filename="24normalizer">normalizer</a>, <var>3</var>, <var>7</var>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col2 ref" href="#12echo" title='echo' data-ref="12echo" data-ref-filename="12echo">echo</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col3 ref" href="#13weighted_echo" title='weighted_echo' data-ref="13weighted_echo" data-ref-filename="13weighted_echo">weighted_echo</a>)</a>;</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td>  <a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a> = <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::floor_power" title='webrtc::EchoCanceller3Config::EchoAudibility::floor_power' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::floor_power" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..floor_power">floor_power</a> *</td></tr>
<tr><th id="97">97</th><td>              <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_hf" title='webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_hf' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::audibility_threshold_hf" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..audibility_threshold_hf">audibility_threshold_hf</a>;</td></tr>
<tr><th id="98">98</th><td>  <a class="local col4 ref" href="#24normalizer" title='normalizer' data-ref="24normalizer" data-ref-filename="24normalizer">normalizer</a> = <var>1.f</var> / (<a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a> - <a class="local col1 ref" href="#11config" title='config' data-ref="11config" data-ref-filename="11config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::floor_power" title='webrtc::EchoCanceller3Config::EchoAudibility::floor_power' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::floor_power" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..floor_power">floor_power</a>);</td></tr>
<tr><th id="99">99</th><td>  <a class="local col4 ref" href="#14weigh" title='weigh' data-ref="14weigh" data-ref-filename="14weigh">weigh</a><a class="tu ref fn" href="#_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_" title='webrtc::(anonymous namespace)::WeightEchoForAudibility(const webrtc::EchoCanceller3Config &amp;, rtc::ArrayView&lt;const float&gt;, rtc::ArrayView&lt;float&gt;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_" data-ref-filename="_ZZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEEENK3$_0clEffmmS7_S8_">(<a class="local col3 ref" href="#23threshold" title='threshold' data-ref="23threshold" data-ref-filename="23threshold">threshold</a>, <a class="local col4 ref" href="#24normalizer" title='normalizer' data-ref="24normalizer" data-ref-filename="24normalizer">normalizer</a>, <var>7</var>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col2 ref" href="#12echo" title='echo' data-ref="12echo" data-ref-filename="12echo">echo</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col3 ref" href="#13weighted_echo" title='weighted_echo' data-ref="13weighted_echo" data-ref-filename="13weighted_echo">weighted_echo</a>)</a>;</td></tr>
<tr><th id="100">100</th><td>}</td></tr>
<tr><th id="101">101</th><td></td></tr>
<tr><th id="102">102</th><td>}  <i>// namespace</i></td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td><em>int</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def" id="webrtc::SuppressionGain::instance_count_" title='webrtc::SuppressionGain::instance_count_' data-ref="webrtc::SuppressionGain::instance_count_" data-ref-filename="webrtc..SuppressionGain..instance_count_">instance_count_</dfn> = <var>0</var>;</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td><em>float</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9all1183418" title='webrtc::SuppressionGain::UpperBandsGain' data-ref="_ZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9all1183418" data-ref-filename="_ZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9all1183418">UpperBandsGain</dfn>(</td></tr>
<tr><th id="107">107</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt; <dfn class="local col5 decl" id="25echo_spectrum" title='echo_spectrum' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="25echo_spectrum" data-ref-filename="25echo_spectrum">echo_spectrum</dfn>,</td></tr>
<tr><th id="108">108</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt;</td></tr>
<tr><th id="109">109</th><td>        <dfn class="local col6 decl" id="26comfort_noise_spectrum" title='comfort_noise_spectrum' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="26comfort_noise_spectrum" data-ref-filename="26comfort_noise_spectrum">comfort_noise_spectrum</dfn>,</td></tr>
<tr><th id="110">110</th><td>    <em>const</em> <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<em>int</em>&gt;&amp; <dfn class="local col7 decl" id="27narrow_peak_band" title='narrow_peak_band' data-type='const absl::optional&lt;int&gt; &amp;' data-ref="27narrow_peak_band" data-ref-filename="27narrow_peak_band">narrow_peak_band</dfn>,</td></tr>
<tr><th id="111">111</th><td>    <em>bool</em> <dfn class="local col8 decl" id="28saturated_echo" title='saturated_echo' data-type='bool' data-ref="28saturated_echo" data-ref-filename="28saturated_echo">saturated_echo</dfn>,</td></tr>
<tr><th id="112">112</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<em>float</em>&gt;&gt;&gt;&amp; <dfn class="local col9 decl" id="29render" title='render' data-type='const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;' data-ref="29render" data-ref-filename="29render">render</dfn>,</td></tr>
<tr><th id="113">113</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&amp; <dfn class="local col0 decl" id="30low_band_gain" title='low_band_gain' data-type='const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;' data-ref="30low_band_gain" data-ref-filename="30low_band_gain">low_band_gain</dfn>) <em>const</em> {</td></tr>
<tr><th id="114">114</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#433" title="::rtc::SafeLt((0), (render.size())) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 114, &quot;0&quot; &quot; &quot; &quot;&lt;&quot; &quot; &quot; &quot;render.size()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (0) &lt;&lt; (render.size())" data-ref="_M/RTC_DCHECK_LT">RTC_DCHECK_LT</a>(<var>0</var>, <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a>.<span class='ref fn' title='std::__1::vector::size' data-ref="_ZNKSt3__16vector4sizeEv" data-ref-filename="_ZNKSt3__16vector4sizeEv">size</span>());</td></tr>
<tr><th id="115">115</th><td>  <b>if</b> (<a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a>.<span class='ref fn' title='std::__1::vector::size' data-ref="_ZNKSt3__16vector4sizeEv" data-ref-filename="_ZNKSt3__16vector4sizeEv">size</span>() == <var>1</var>) {</td></tr>
<tr><th id="116">116</th><td>    <b>return</b> <var>1.f</var>;</td></tr>
<tr><th id="117">117</th><td>  }</td></tr>
<tr><th id="118">118</th><td>  <em>const</em> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="31num_render_channels" title='num_render_channels' data-type='const size_t' data-ref="31num_render_channels" data-ref-filename="31num_render_channels">num_render_channels</dfn> = <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span>.<span class='ref fn' title='std::__1::vector::size' data-ref="_ZNKSt3__16vector4sizeEv" data-ref-filename="_ZNKSt3__16vector4sizeEv">size</span>();</td></tr>
<tr><th id="119">119</th><td></td></tr>
<tr><th id="120">120</th><td>  <b>if</b> (<span class='ref fn fake' title='std::__1::optional::operator bool' data-ref="_ZNKSt3__18optionalcvbEv" data-ref-filename="_ZNKSt3__18optionalcvbEv"></span><a class="local col7 ref" href="#27narrow_peak_band" title='narrow_peak_band' data-ref="27narrow_peak_band" data-ref-filename="27narrow_peak_band">narrow_peak_band</a> &amp;&amp;</td></tr>
<tr><th id="121">121</th><td>      (<span class='ref fn' title='std::__1::optional::operator*' data-ref="_ZNKRSt3__18optionaldeEv" data-ref-filename="_ZNKRSt3__18optionaldeEv">*</span><a class="local col7 ref" href="#27narrow_peak_band" title='narrow_peak_band' data-ref="27narrow_peak_band" data-ref-filename="27narrow_peak_band">narrow_peak_band</a> &gt; <b>static_cast</b>&lt;<em>int</em>&gt;(<a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a> - <var>10</var>))) {</td></tr>
<tr><th id="122">122</th><td>    <b>return</b> <var>0.001f</var>;</td></tr>
<tr><th id="123">123</th><td>  }</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td>  <b>constexpr</b> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col2 decl" id="32kLowBandGainLimit" title='kLowBandGainLimit' data-type='const size_t' data-ref="32kLowBandGainLimit" data-ref-filename="32kLowBandGainLimit">kLowBandGainLimit</dfn> = <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2" title='webrtc::kFftLengthBy2' data-ref="webrtc::kFftLengthBy2" data-ref-filename="webrtc..kFftLengthBy2">kFftLengthBy2</a> / <var>2</var>;</td></tr>
<tr><th id="126">126</th><td>  <em>const</em> <em>float</em> <dfn class="local col3 decl" id="33gain_below_8_khz" title='gain_below_8_khz' data-type='const float' data-ref="33gain_below_8_khz" data-ref-filename="33gain_below_8_khz">gain_below_8_khz</dfn> = *<span class="namespace">std::</span><span class='ref fn' title='std::__1::min_element' data-ref="_ZNSt3__1L11min_elementET_S0_" data-ref-filename="_ZNSt3__1L11min_elementET_S0_">min_element</span>(</td></tr>
<tr><th id="127">127</th><td>      <a class="local col0 ref" href="#30low_band_gain" title='low_band_gain' data-ref="30low_band_gain" data-ref-filename="30low_band_gain">low_band_gain</a>.<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNKSt3__15array5beginEv" data-ref-filename="_ZNKSt3__15array5beginEv">begin</span>() + <a class="local col2 ref" href="#32kLowBandGainLimit" title='kLowBandGainLimit' data-ref="32kLowBandGainLimit" data-ref-filename="32kLowBandGainLimit">kLowBandGainLimit</a>, <a class="local col0 ref" href="#30low_band_gain" title='low_band_gain' data-ref="30low_band_gain" data-ref-filename="30low_band_gain">low_band_gain</a>.<span class='ref fn' title='std::__1::array::end' data-ref="_ZNKSt3__15array3endEv" data-ref-filename="_ZNKSt3__15array3endEv">end</span>());</td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td>  <i>// Always attenuate the upper bands when there is saturated echo.</i></td></tr>
<tr><th id="130">130</th><td>  <b>if</b> (<a class="local col8 ref" href="#28saturated_echo" title='saturated_echo' data-ref="28saturated_echo" data-ref-filename="28saturated_echo">saturated_echo</a>) {</td></tr>
<tr><th id="131">131</th><td>    <b>return</b> <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<var>0.001f</var>, <a class="local col3 ref" href="#33gain_below_8_khz" title='gain_below_8_khz' data-ref="33gain_below_8_khz" data-ref-filename="33gain_below_8_khz">gain_below_8_khz</a>);</td></tr>
<tr><th id="132">132</th><td>  }</td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td>  <i>// Compute the upper and lower band energies.</i></td></tr>
<tr><th id="135">135</th><td>  <em>const</em> <em>auto</em> <dfn class="local col4 decl" id="34sum_of_squares" title='sum_of_squares' data-type='const (lambda at /Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc:135:31)' data-ref="34sum_of_squares" data-ref-filename="34sum_of_squares">sum_of_squares</dfn> = [](<em>float</em> <dfn class="local col5 decl" id="35a" title='a' data-type='float' data-ref="35a" data-ref-filename="35a">a</dfn>, <em>float</em> <dfn class="local col6 decl" id="36b" title='b' data-type='float' data-ref="36b" data-ref-filename="36b">b</dfn>) { <b>return</b> <a class="local col5 ref" href="#35a" title='a' data-ref="35a" data-ref-filename="35a">a</a> + <a class="local col6 ref" href="#36b" title='b' data-ref="36b" data-ref-filename="36b">b</a> * <a class="local col6 ref" href="#36b" title='b' data-ref="36b" data-ref-filename="36b">b</a>; };</td></tr>
<tr><th id="136">136</th><td>  <em>float</em> <dfn class="local col7 decl" id="37low_band_energy" title='low_band_energy' data-type='float' data-ref="37low_band_energy" data-ref-filename="37low_band_energy">low_band_energy</dfn> = <var>0.f</var>;</td></tr>
<tr><th id="137">137</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col8 decl" id="38ch" title='ch' data-type='size_t' data-ref="38ch" data-ref-filename="38ch">ch</dfn> = <var>0</var>; <a class="local col8 ref" href="#38ch" title='ch' data-ref="38ch" data-ref-filename="38ch">ch</a> &lt; <a class="local col1 ref" href="#31num_render_channels" title='num_render_channels' data-ref="31num_render_channels" data-ref-filename="31num_render_channels">num_render_channels</a>; ++<a class="local col8 ref" href="#38ch" title='ch' data-ref="38ch" data-ref-filename="38ch">ch</a>) {</td></tr>
<tr><th id="138">138</th><td>    <em>const</em> <em>float</em> <dfn class="local col9 decl" id="39channel_energy" title='channel_energy' data-type='const float' data-ref="39channel_energy" data-ref-filename="39channel_energy">channel_energy</dfn> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::accumulate' data-ref="_ZNSt3__1L10accumulateET_S0_T0_T1_" data-ref-filename="_ZNSt3__1L10accumulateET_S0_T0_T1_">accumulate</span>(</td></tr>
<tr><th id="139">139</th><td>        <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span>.<span class='ref fn' title='std::__1::vector::begin' data-ref="_ZNKSt3__16vector5beginEv" data-ref-filename="_ZNKSt3__16vector5beginEv">begin</span>(), <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span>.<span class='ref fn' title='std::__1::vector::end' data-ref="_ZNKSt3__16vector3endEv" data-ref-filename="_ZNKSt3__16vector3endEv">end</span>(), <var>0.f</var>, <a class="tu ref fn fake" href="#135" title='webrtc::SuppressionGain::UpperBandsGain(rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, const absl::optional&lt;int&gt; &amp;, bool, const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;, const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;)::(anonymous class)::' data-use='c' data-ref="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al13358922" data-ref-filename="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al13358922"></a><a class="local col4 ref" href="#34sum_of_squares" title='sum_of_squares' data-ref="34sum_of_squares" data-ref-filename="34sum_of_squares">sum_of_squares</a>);</td></tr>
<tr><th id="140">140</th><td>    <a class="local col7 ref" href="#37low_band_energy" title='low_band_energy' data-ref="37low_band_energy" data-ref-filename="37low_band_energy">low_band_energy</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col7 ref" href="#37low_band_energy" title='low_band_energy' data-ref="37low_band_energy" data-ref-filename="37low_band_energy">low_band_energy</a>, <a class="local col9 ref" href="#39channel_energy" title='channel_energy' data-ref="39channel_energy" data-ref-filename="39channel_energy">channel_energy</a>);</td></tr>
<tr><th id="141">141</th><td>  }</td></tr>
<tr><th id="142">142</th><td>  <em>float</em> <dfn class="local col0 decl" id="40high_band_energy" title='high_band_energy' data-type='float' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</dfn> = <var>0.f</var>;</td></tr>
<tr><th id="143">143</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="41k" title='k' data-type='size_t' data-ref="41k" data-ref-filename="41k">k</dfn> = <var>1</var>; <a class="local col1 ref" href="#41k" title='k' data-ref="41k" data-ref-filename="41k">k</a> &lt; <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a>.<span class='ref fn' title='std::__1::vector::size' data-ref="_ZNKSt3__16vector4sizeEv" data-ref-filename="_ZNKSt3__16vector4sizeEv">size</span>(); ++<a class="local col1 ref" href="#41k" title='k' data-ref="41k" data-ref-filename="41k">k</a>) {</td></tr>
<tr><th id="144">144</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col2 decl" id="42ch" title='ch' data-type='size_t' data-ref="42ch" data-ref-filename="42ch">ch</dfn> = <var>0</var>; <a class="local col2 ref" href="#42ch" title='ch' data-ref="42ch" data-ref-filename="42ch">ch</a> &lt; <a class="local col1 ref" href="#31num_render_channels" title='num_render_channels' data-ref="31num_render_channels" data-ref-filename="31num_render_channels">num_render_channels</a>; ++<a class="local col2 ref" href="#42ch" title='ch' data-ref="42ch" data-ref-filename="42ch">ch</a>) {</td></tr>
<tr><th id="145">145</th><td>      <em>const</em> <em>float</em> <dfn class="local col3 decl" id="43energy" title='energy' data-type='const float' data-ref="43energy" data-ref-filename="43energy">energy</dfn> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::accumulate' data-ref="_ZNSt3__1L10accumulateET_S0_T0_T1_" data-ref-filename="_ZNSt3__1L10accumulateET_S0_T0_T1_">accumulate</span>(</td></tr>
<tr><th id="146">146</th><td>          <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col1 ref" href="#41k" title='k' data-ref="41k" data-ref-filename="41k">k</a>]</span><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col2 ref" href="#42ch" title='ch' data-ref="42ch" data-ref-filename="42ch">ch</a>]</span>.<span class='ref fn' title='std::__1::vector::begin' data-ref="_ZNKSt3__16vector5beginEv" data-ref-filename="_ZNKSt3__16vector5beginEv">begin</span>(), <a class="local col9 ref" href="#29render" title='render' data-ref="29render" data-ref-filename="29render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col1 ref" href="#41k" title='k' data-ref="41k" data-ref-filename="41k">k</a>]</span><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col2 ref" href="#42ch" title='ch' data-ref="42ch" data-ref-filename="42ch">ch</a>]</span>.<span class='ref fn' title='std::__1::vector::end' data-ref="_ZNKSt3__16vector3endEv" data-ref-filename="_ZNKSt3__16vector3endEv">end</span>(), <var>0.f</var>, <a class="tu ref fn fake" href="#135" title='webrtc::SuppressionGain::UpperBandsGain(rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, const absl::optional&lt;int&gt; &amp;, bool, const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;, const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;)::(anonymous class)::' data-use='c' data-ref="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al13358922" data-ref-filename="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al13358922"></a><a class="local col4 ref" href="#34sum_of_squares" title='sum_of_squares' data-ref="34sum_of_squares" data-ref-filename="34sum_of_squares">sum_of_squares</a>);</td></tr>
<tr><th id="147">147</th><td>      <a class="local col0 ref" href="#40high_band_energy" title='high_band_energy' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col0 ref" href="#40high_band_energy" title='high_band_energy' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</a>, <a class="local col3 ref" href="#43energy" title='energy' data-ref="43energy" data-ref-filename="43energy">energy</a>);</td></tr>
<tr><th id="148">148</th><td>    }</td></tr>
<tr><th id="149">149</th><td>  }</td></tr>
<tr><th id="150">150</th><td></td></tr>
<tr><th id="151">151</th><td>  <i>// If there is more power in the lower frequencies than the upper frequencies,</i></td></tr>
<tr><th id="152">152</th><td><i>  // or if the power in upper frequencies is low, do not bound the gain in the</i></td></tr>
<tr><th id="153">153</th><td><i>  // upper bands.</i></td></tr>
<tr><th id="154">154</th><td>  <em>float</em> <dfn class="local col4 decl" id="44anti_howling_gain" title='anti_howling_gain' data-type='float' data-ref="44anti_howling_gain" data-ref-filename="44anti_howling_gain">anti_howling_gain</dfn>;</td></tr>
<tr><th id="155">155</th><td>  <em>const</em> <em>float</em> <dfn class="local col5 decl" id="45activation_threshold" title='activation_threshold' data-type='const float' data-ref="45activation_threshold" data-ref-filename="45activation_threshold">activation_threshold</dfn> =</td></tr>
<tr><th id="156">156</th><td>      <a class="ref" href="aec3_common.h.html#webrtc::kBlockSize" title='webrtc::kBlockSize' data-ref="webrtc::kBlockSize" data-ref-filename="webrtc..kBlockSize">kBlockSize</a> * <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression" title='webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression' data-ref="webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..high_bands_suppression">high_bands_suppression</a></td></tr>
<tr><th id="157">157</th><td>                       .<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::anti_howling_activation_threshold" title='webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::anti_howling_activation_threshold' data-ref="webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::anti_howling_activation_threshold" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..HighBandsSuppression..anti_howling_activation_threshold">anti_howling_activation_threshold</a>;</td></tr>
<tr><th id="158">158</th><td>  <b>if</b> (<a class="local col0 ref" href="#40high_band_energy" title='high_band_energy' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</a> &lt; <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col7 ref" href="#37low_band_energy" title='low_band_energy' data-ref="37low_band_energy" data-ref-filename="37low_band_energy">low_band_energy</a>, <a class="local col5 ref" href="#45activation_threshold" title='activation_threshold' data-ref="45activation_threshold" data-ref-filename="45activation_threshold">activation_threshold</a>)) {</td></tr>
<tr><th id="159">159</th><td>    <a class="local col4 ref" href="#44anti_howling_gain" title='anti_howling_gain' data-ref="44anti_howling_gain" data-ref-filename="44anti_howling_gain">anti_howling_gain</a> = <var>1.f</var>;</td></tr>
<tr><th id="160">160</th><td>  } <b>else</b> {</td></tr>
<tr><th id="161">161</th><td>    <i>// In all other cases, bound the gain for upper frequencies.</i></td></tr>
<tr><th id="162">162</th><td>    <a class="macro" href="../../../rtc_base/checks.h.html#432" title="::rtc::SafeLe((low_band_energy), (high_band_energy)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 162, &quot;low_band_energy&quot; &quot; &quot; &quot;&lt;=&quot; &quot; &quot; &quot;high_band_energy&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (low_band_energy) &lt;&lt; (high_band_energy)" data-ref="_M/RTC_DCHECK_LE">RTC_DCHECK_LE</a>(<a class="local col7 ref" href="#37low_band_energy" title='low_band_energy' data-ref="37low_band_energy" data-ref-filename="37low_band_energy">low_band_energy</a>, <a class="local col0 ref" href="#40high_band_energy" title='high_band_energy' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</a>);</td></tr>
<tr><th id="163">163</th><td>    <a class="macro" href="../../../rtc_base/checks.h.html#431" title="::rtc::SafeNe((0.f), (high_band_energy)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 163, &quot;0.f&quot; &quot; &quot; &quot;!=&quot; &quot; &quot; &quot;high_band_energy&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (0.f) &lt;&lt; (high_band_energy)" data-ref="_M/RTC_DCHECK_NE">RTC_DCHECK_NE</a>(<var>0.f</var>, <a class="local col0 ref" href="#40high_band_energy" title='high_band_energy' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</a>);</td></tr>
<tr><th id="164">164</th><td>    <a class="local col4 ref" href="#44anti_howling_gain" title='anti_howling_gain' data-ref="44anti_howling_gain" data-ref-filename="44anti_howling_gain">anti_howling_gain</a> =</td></tr>
<tr><th id="165">165</th><td>        <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression" title='webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression' data-ref="webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..high_bands_suppression">high_bands_suppression</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::anti_howling_gain" title='webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::anti_howling_gain' data-ref="webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::anti_howling_gain" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..HighBandsSuppression..anti_howling_gain">anti_howling_gain</a> *</td></tr>
<tr><th id="166">166</th><td>        <span class='ref fn' title='sqrtf' data-ref="sqrtf" data-ref-filename="sqrtf">sqrtf</span>(<a class="local col7 ref" href="#37low_band_energy" title='low_band_energy' data-ref="37low_band_energy" data-ref-filename="37low_band_energy">low_band_energy</a> / <a class="local col0 ref" href="#40high_band_energy" title='high_band_energy' data-ref="40high_band_energy" data-ref-filename="40high_band_energy">high_band_energy</a>);</td></tr>
<tr><th id="167">167</th><td>  }</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td>  <em>float</em> <dfn class="local col6 decl" id="46gain_bound" title='gain_bound' data-type='float' data-ref="46gain_bound" data-ref-filename="46gain_bound">gain_bound</dfn> = <var>1.f</var>;</td></tr>
<tr><th id="170">170</th><td>  <b>if</b> (!<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="nearend_detector.h.html#_ZNK6webrtc15NearendDetector14IsNearendStateEv" title='webrtc::NearendDetector::IsNearendState' data-ref="_ZNK6webrtc15NearendDetector14IsNearendStateEv" data-ref-filename="_ZNK6webrtc15NearendDetector14IsNearendStateEv">IsNearendState</a>()) {</td></tr>
<tr><th id="171">171</th><td>    <i>// Bound the upper gain during significant echo activity.</i></td></tr>
<tr><th id="172">172</th><td>    <em>const</em> <em>auto</em>&amp; <dfn class="local col7 decl" id="47cfg" title='cfg' data-type='const webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression &amp;' data-ref="47cfg" data-ref-filename="47cfg">cfg</dfn> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression" title='webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression' data-ref="webrtc::EchoCanceller3Config::Suppressor::high_bands_suppression" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..high_bands_suppression">high_bands_suppression</a>;</td></tr>
<tr><th id="173">173</th><td>    <em>auto</em> <dfn class="local col8 decl" id="48low_frequency_energy" title='low_frequency_energy' data-type='(lambda at /Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc:173:33)' data-ref="48low_frequency_energy" data-ref-filename="48low_frequency_energy">low_frequency_energy</dfn> = [](<span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <em>float</em>&gt; <dfn class="local col9 decl" id="49spectrum" title='spectrum' data-type='rtc::ArrayView&lt;const float&gt;' data-ref="49spectrum" data-ref-filename="49spectrum">spectrum</dfn>) {</td></tr>
<tr><th id="174">174</th><td>      <a class="macro" href="../../../rtc_base/checks.h.html#432" title="::rtc::SafeLe((16), (spectrum.size())) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 174, &quot;16&quot; &quot; &quot; &quot;&lt;=&quot; &quot; &quot; &quot;spectrum.size()&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (16) &lt;&lt; (spectrum.size())" data-ref="_M/RTC_DCHECK_LE">RTC_DCHECK_LE</a>(<var>16</var>, <a class="local col9 ref" href="#49spectrum" title='spectrum' data-ref="49spectrum" data-ref-filename="49spectrum">spectrum</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" title='rtc::impl::ArrayViewBase&lt;type-parameter-0-0, -4711&gt;::size' data-ref="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" data-ref-filename="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv">size</a>());</td></tr>
<tr><th id="175">175</th><td>      <b>return</b> <span class="namespace">std::</span><span class='ref fn' title='std::__1::accumulate' data-ref="_ZNSt3__1L10accumulateET_S0_T0_" data-ref-filename="_ZNSt3__1L10accumulateET_S0_T0_">accumulate</span>(<a class="local col9 ref" href="#49spectrum" title='spectrum' data-ref="49spectrum" data-ref-filename="49spectrum">spectrum</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayView5beginEv" title='rtc::ArrayView::begin' data-ref="_ZNK3rtc9ArrayView5beginEv" data-ref-filename="_ZNK3rtc9ArrayView5beginEv">begin</a>() + <var>1</var>, <a class="local col9 ref" href="#49spectrum" title='spectrum' data-ref="49spectrum" data-ref-filename="49spectrum">spectrum</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayView5beginEv" title='rtc::ArrayView::begin' data-ref="_ZNK3rtc9ArrayView5beginEv" data-ref-filename="_ZNK3rtc9ArrayView5beginEv">begin</a>() + <var>16</var>, <var>0.f</var>);</td></tr>
<tr><th id="176">176</th><td>    };</td></tr>
<tr><th id="177">177</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col0 decl" id="50ch" title='ch' data-type='size_t' data-ref="50ch" data-ref-filename="50ch">ch</dfn> = <var>0</var>; <a class="local col0 ref" href="#50ch" title='ch' data-ref="50ch" data-ref-filename="50ch">ch</a> &lt; <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>; ++<a class="local col0 ref" href="#50ch" title='ch' data-ref="50ch" data-ref-filename="50ch">ch</a>) {</td></tr>
<tr><th id="178">178</th><td>      <em>const</em> <em>float</em> <dfn class="local col1 decl" id="51echo_sum" title='echo_sum' data-type='const float' data-ref="51echo_sum" data-ref-filename="51echo_sum">echo_sum</dfn> = <a class="local col8 ref" href="#48low_frequency_energy" title='low_frequency_energy' data-ref="48low_frequency_energy" data-ref-filename="48low_frequency_energy">low_frequency_energy</a><a class="tu ref fn" href="#_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al2383519" title='webrtc::SuppressionGain::UpperBandsGain(rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, const absl::optional&lt;int&gt; &amp;, bool, const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;, const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al2383519" data-ref-filename="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al2383519">(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERKTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERKTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERKTL0__"></a><a class="local col5 ref" href="#25echo_spectrum" title='echo_spectrum' data-ref="25echo_spectrum" data-ref-filename="25echo_spectrum">echo_spectrum</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col0 ref" href="#50ch" title='ch' data-ref="50ch" data-ref-filename="50ch">ch</a>]</a>)</a>;</td></tr>
<tr><th id="179">179</th><td>      <em>const</em> <em>float</em> <dfn class="local col2 decl" id="52noise_sum" title='noise_sum' data-type='const float' data-ref="52noise_sum" data-ref-filename="52noise_sum">noise_sum</dfn> = <a class="local col8 ref" href="#48low_frequency_energy" title='low_frequency_energy' data-ref="48low_frequency_energy" data-ref-filename="48low_frequency_energy">low_frequency_energy</a><a class="tu ref fn" href="#_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al2383519" title='webrtc::SuppressionGain::UpperBandsGain(rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;, const absl::optional&lt;int&gt; &amp;, bool, const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;, const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al2383519" data-ref-filename="_ZZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9al2383519">(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERKTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERKTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERKTL0__"></a><a class="local col6 ref" href="#26comfort_noise_spectrum" title='comfort_noise_spectrum' data-ref="26comfort_noise_spectrum" data-ref-filename="26comfort_noise_spectrum">comfort_noise_spectrum</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col0 ref" href="#50ch" title='ch' data-ref="50ch" data-ref-filename="50ch">ch</a>]</a>)</a>;</td></tr>
<tr><th id="180">180</th><td>      <b>if</b> (<a class="local col1 ref" href="#51echo_sum" title='echo_sum' data-ref="51echo_sum" data-ref-filename="51echo_sum">echo_sum</a> &gt; <a class="local col7 ref" href="#47cfg" title='cfg' data-ref="47cfg" data-ref-filename="47cfg">cfg</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::enr_threshold" title='webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::enr_threshold' data-ref="webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::enr_threshold" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..HighBandsSuppression..enr_threshold">enr_threshold</a> * <a class="local col2 ref" href="#52noise_sum" title='noise_sum' data-ref="52noise_sum" data-ref-filename="52noise_sum">noise_sum</a>) {</td></tr>
<tr><th id="181">181</th><td>        <a class="local col6 ref" href="#46gain_bound" title='gain_bound' data-ref="46gain_bound" data-ref-filename="46gain_bound">gain_bound</a> = <a class="local col7 ref" href="#47cfg" title='cfg' data-ref="47cfg" data-ref-filename="47cfg">cfg</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::max_gain_during_echo" title='webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::max_gain_during_echo' data-ref="webrtc::EchoCanceller3Config::Suppressor::HighBandsSuppression::max_gain_during_echo" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..HighBandsSuppression..max_gain_during_echo">max_gain_during_echo</a>;</td></tr>
<tr><th id="182">182</th><td>        <b>break</b>;</td></tr>
<tr><th id="183">183</th><td>      }</td></tr>
<tr><th id="184">184</th><td>    }</td></tr>
<tr><th id="185">185</th><td>  }</td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td>  <i>// Choose the gain as the minimum of the lower and upper gains.</i></td></tr>
<tr><th id="188">188</th><td>  <b>return</b> <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<a class="local col3 ref" href="#33gain_below_8_khz" title='gain_below_8_khz' data-ref="33gain_below_8_khz" data-ref-filename="33gain_below_8_khz">gain_below_8_khz</a>, <a class="local col4 ref" href="#44anti_howling_gain" title='anti_howling_gain' data-ref="44anti_howling_gain" data-ref-filename="44anti_howling_gain">anti_howling_gain</a>), <a class="local col6 ref" href="#46gain_bound" title='gain_bound' data-ref="46gain_bound" data-ref-filename="46gain_bound">gain_bound</a>);</td></tr>
<tr><th id="189">189</th><td>}</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td><i>// Computes the gain to reduce the echo to a non audible level.</i></td></tr>
<tr><th id="192">192</th><td><em>void</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZNK6webrtc15SuppressionGain19GainToNoAudibleEchoERKNSt3__15arrayIfLm65EEES5_S5_PS3_" title='webrtc::SuppressionGain::GainToNoAudibleEcho' data-ref="_ZNK6webrtc15SuppressionGain19GainToNoAudibleEchoERKNSt3__15arrayIfLm65EEES5_S5_PS3_" data-ref-filename="_ZNK6webrtc15SuppressionGain19GainToNoAudibleEchoERKNSt3__15arrayIfLm65EEES5_S5_PS3_">GainToNoAudibleEcho</dfn>(</td></tr>
<tr><th id="193">193</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&amp; <dfn class="local col3 decl" id="53nearend" title='nearend' data-type='const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;' data-ref="53nearend" data-ref-filename="53nearend">nearend</dfn>,</td></tr>
<tr><th id="194">194</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&amp; <dfn class="local col4 decl" id="54echo" title='echo' data-type='const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;' data-ref="54echo" data-ref-filename="54echo">echo</dfn>,</td></tr>
<tr><th id="195">195</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&amp; <dfn class="local col5 decl" id="55masker" title='masker' data-type='const std::array&lt;float, kFftLengthBy2Plus1&gt; &amp;' data-ref="55masker" data-ref-filename="55masker">masker</dfn>,</td></tr>
<tr><th id="196">196</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;* <dfn class="local col6 decl" id="56gain" title='gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt; *' data-ref="56gain" data-ref-filename="56gain">gain</dfn>) <em>const</em> {</td></tr>
<tr><th id="197">197</th><td>  <em>const</em> <em>auto</em>&amp; <dfn class="local col7 decl" id="57p" title='p' data-type='const webrtc::SuppressionGain::GainParameters &amp;' data-ref="57p" data-ref-filename="57p">p</dfn> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="nearend_detector.h.html#_ZNK6webrtc15NearendDetector14IsNearendStateEv" title='webrtc::NearendDetector::IsNearendState' data-ref="_ZNK6webrtc15NearendDetector14IsNearendStateEv" data-ref-filename="_ZNK6webrtc15NearendDetector14IsNearendStateEv">IsNearendState</a>() ? <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::nearend_params_" title='webrtc::SuppressionGain::nearend_params_' data-ref="webrtc::SuppressionGain::nearend_params_" data-ref-filename="webrtc..SuppressionGain..nearend_params_">nearend_params_</a></td></tr>
<tr><th id="198">198</th><td>                                                               : <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::normal_params_" title='webrtc::SuppressionGain::normal_params_' data-ref="webrtc::SuppressionGain::normal_params_" data-ref-filename="webrtc..SuppressionGain..normal_params_">normal_params_</a>;</td></tr>
<tr><th id="199">199</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col8 decl" id="58k" title='k' data-type='size_t' data-ref="58k" data-ref-filename="58k">k</dfn> = <var>0</var>; <a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a> &lt; <a class="local col6 ref" href="#56gain" title='gain' data-ref="56gain" data-ref-filename="56gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::size' data-ref="_ZNKSt3__15array4sizeEv" data-ref-filename="_ZNKSt3__15array4sizeEv">size</span>(); ++<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>) {</td></tr>
<tr><th id="200">200</th><td>    <em>float</em> <dfn class="local col9 decl" id="59enr" title='enr' data-type='float' data-ref="59enr" data-ref-filename="59enr">enr</dfn> = <a class="local col4 ref" href="#54echo" title='echo' data-ref="54echo" data-ref-filename="54echo">echo</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> / (<a class="local col3 ref" href="#53nearend" title='nearend' data-ref="53nearend" data-ref-filename="53nearend">nearend</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> + <var>1.f</var>);  <i>// Echo-to-nearend ratio.</i></td></tr>
<tr><th id="201">201</th><td>    <em>float</em> <dfn class="local col0 decl" id="60emr" title='emr' data-type='float' data-ref="60emr" data-ref-filename="60emr">emr</dfn> = <a class="local col4 ref" href="#54echo" title='echo' data-ref="54echo" data-ref-filename="54echo">echo</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> / (<a class="local col5 ref" href="#55masker" title='masker' data-ref="55masker" data-ref-filename="55masker">masker</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> + <var>1.f</var>);   <i>// Echo-to-masker (noise) ratio.</i></td></tr>
<tr><th id="202">202</th><td>    <em>float</em> <dfn class="local col1 decl" id="61g" title='g' data-type='float' data-ref="61g" data-ref-filename="61g">g</dfn> = <var>1.0f</var>;</td></tr>
<tr><th id="203">203</th><td>    <b>if</b> (<a class="local col9 ref" href="#59enr" title='enr' data-ref="59enr" data-ref-filename="59enr">enr</a> &gt; <a class="local col7 ref" href="#57p" title='p' data-ref="57p" data-ref-filename="57p">p</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::enr_transparent_" title='webrtc::SuppressionGain::GainParameters::enr_transparent_' data-ref="webrtc::SuppressionGain::GainParameters::enr_transparent_" data-ref-filename="webrtc..SuppressionGain..GainParameters..enr_transparent_">enr_transparent_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> &amp;&amp; <a class="local col0 ref" href="#60emr" title='emr' data-ref="60emr" data-ref-filename="60emr">emr</a> &gt; <a class="local col7 ref" href="#57p" title='p' data-ref="57p" data-ref-filename="57p">p</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::emr_transparent_" title='webrtc::SuppressionGain::GainParameters::emr_transparent_' data-ref="webrtc::SuppressionGain::GainParameters::emr_transparent_" data-ref-filename="webrtc..SuppressionGain..GainParameters..emr_transparent_">emr_transparent_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span>) {</td></tr>
<tr><th id="204">204</th><td>      <a class="local col1 ref" href="#61g" title='g' data-ref="61g" data-ref-filename="61g">g</a> = (<a class="local col7 ref" href="#57p" title='p' data-ref="57p" data-ref-filename="57p">p</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::enr_suppress_" title='webrtc::SuppressionGain::GainParameters::enr_suppress_' data-ref="webrtc::SuppressionGain::GainParameters::enr_suppress_" data-ref-filename="webrtc..SuppressionGain..GainParameters..enr_suppress_">enr_suppress_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> - <a class="local col9 ref" href="#59enr" title='enr' data-ref="59enr" data-ref-filename="59enr">enr</a>) /</td></tr>
<tr><th id="205">205</th><td>          (<a class="local col7 ref" href="#57p" title='p' data-ref="57p" data-ref-filename="57p">p</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::enr_suppress_" title='webrtc::SuppressionGain::GainParameters::enr_suppress_' data-ref="webrtc::SuppressionGain::GainParameters::enr_suppress_" data-ref-filename="webrtc..SuppressionGain..GainParameters..enr_suppress_">enr_suppress_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> - <a class="local col7 ref" href="#57p" title='p' data-ref="57p" data-ref-filename="57p">p</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::enr_transparent_" title='webrtc::SuppressionGain::GainParameters::enr_transparent_' data-ref="webrtc::SuppressionGain::GainParameters::enr_transparent_" data-ref-filename="webrtc..SuppressionGain..GainParameters..enr_transparent_">enr_transparent_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span>);</td></tr>
<tr><th id="206">206</th><td>      <a class="local col1 ref" href="#61g" title='g' data-ref="61g" data-ref-filename="61g">g</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col1 ref" href="#61g" title='g' data-ref="61g" data-ref-filename="61g">g</a>, <a class="local col7 ref" href="#57p" title='p' data-ref="57p" data-ref-filename="57p">p</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::emr_transparent_" title='webrtc::SuppressionGain::GainParameters::emr_transparent_' data-ref="webrtc::SuppressionGain::GainParameters::emr_transparent_" data-ref-filename="webrtc..SuppressionGain..GainParameters..emr_transparent_">emr_transparent_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> / <a class="local col0 ref" href="#60emr" title='emr' data-ref="60emr" data-ref-filename="60emr">emr</a>);</td></tr>
<tr><th id="207">207</th><td>    }</td></tr>
<tr><th id="208">208</th><td>    (*<a class="local col6 ref" href="#56gain" title='gain' data-ref="56gain" data-ref-filename="56gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col8 ref" href="#58k" title='k' data-ref="58k" data-ref-filename="58k">k</a>]</span> = <a class="local col1 ref" href="#61g" title='g' data-ref="61g" data-ref-filename="61g">g</a>;</td></tr>
<tr><th id="209">209</th><td>  }</td></tr>
<tr><th id="210">210</th><td>}</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td><i>// Compute the minimum gain as the attenuating gain to put the signal just</i></td></tr>
<tr><th id="213">213</th><td><i>// above the zero sample values.</i></td></tr>
<tr><th id="214">214</th><td><em>void</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZNK6webrtc15SuppressionGain10GetMinGainEN3rtc9ArrayViewIKfLln4711EEES4_S4_bbNS2_IfLln4711EEE" title='webrtc::SuppressionGain::GetMinGain' data-ref="_ZNK6webrtc15SuppressionGain10GetMinGainEN3rtc9ArrayViewIKfLln4711EEES4_S4_bbNS2_IfLln4711EEE" data-ref-filename="_ZNK6webrtc15SuppressionGain10GetMinGainEN3rtc9ArrayViewIKfLln4711EEES4_S4_bbNS2_IfLln4711EEE">GetMinGain</dfn>(</td></tr>
<tr><th id="215">215</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <em>float</em>&gt; <dfn class="local col2 decl" id="62weighted_residual_echo" title='weighted_residual_echo' data-type='rtc::ArrayView&lt;const float&gt;' data-ref="62weighted_residual_echo" data-ref-filename="62weighted_residual_echo">weighted_residual_echo</dfn>,</td></tr>
<tr><th id="216">216</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <em>float</em>&gt; <dfn class="local col3 decl" id="63last_nearend" title='last_nearend' data-type='rtc::ArrayView&lt;const float&gt;' data-ref="63last_nearend" data-ref-filename="63last_nearend">last_nearend</dfn>,</td></tr>
<tr><th id="217">217</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <em>float</em>&gt; <dfn class="local col4 decl" id="64last_echo" title='last_echo' data-type='rtc::ArrayView&lt;const float&gt;' data-ref="64last_echo" data-ref-filename="64last_echo">last_echo</dfn>,</td></tr>
<tr><th id="218">218</th><td>    <em>bool</em> <dfn class="local col5 decl" id="65low_noise_render" title='low_noise_render' data-type='bool' data-ref="65low_noise_render" data-ref-filename="65low_noise_render">low_noise_render</dfn>,</td></tr>
<tr><th id="219">219</th><td>    <em>bool</em> <dfn class="local col6 decl" id="66saturated_echo" title='saturated_echo' data-type='bool' data-ref="66saturated_echo" data-ref-filename="66saturated_echo">saturated_echo</dfn>,</td></tr>
<tr><th id="220">220</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>float</em>&gt; <dfn class="local col7 decl" id="67min_gain" title='min_gain' data-type='rtc::ArrayView&lt;float&gt;' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</dfn>) <em>const</em> {</td></tr>
<tr><th id="221">221</th><td>  <b>if</b> (!<a class="local col6 ref" href="#66saturated_echo" title='saturated_echo' data-ref="66saturated_echo" data-ref-filename="66saturated_echo">saturated_echo</a>) {</td></tr>
<tr><th id="222">222</th><td>    <em>const</em> <em>float</em> <dfn class="local col8 decl" id="68min_echo_power" title='min_echo_power' data-type='const float' data-ref="68min_echo_power" data-ref-filename="68min_echo_power">min_echo_power</dfn> =</td></tr>
<tr><th id="223">223</th><td>        <a class="local col5 ref" href="#65low_noise_render" title='low_noise_render' data-ref="65low_noise_render" data-ref-filename="65low_noise_render">low_noise_render</a> ? <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::low_render_limit" title='webrtc::EchoCanceller3Config::EchoAudibility::low_render_limit' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::low_render_limit" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..low_render_limit">low_render_limit</a></td></tr>
<tr><th id="224">224</th><td>                         : <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::echo_audibility" title='webrtc::EchoCanceller3Config::echo_audibility' data-ref="webrtc::EchoCanceller3Config::echo_audibility" data-ref-filename="webrtc..EchoCanceller3Config..echo_audibility">echo_audibility</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::EchoAudibility::normal_render_limit" title='webrtc::EchoCanceller3Config::EchoAudibility::normal_render_limit' data-ref="webrtc::EchoCanceller3Config::EchoAudibility::normal_render_limit" data-ref-filename="webrtc..EchoCanceller3Config..EchoAudibility..normal_render_limit">normal_render_limit</a>;</td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col9 decl" id="69k" title='k' data-type='size_t' data-ref="69k" data-ref-filename="69k">k</dfn> = <var>0</var>; <a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a> &lt; <a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" title='rtc::impl::ArrayViewBase&lt;type-parameter-0-0, -4711&gt;::size' data-ref="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" data-ref-filename="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv">size</a>(); ++<a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a>) {</td></tr>
<tr><th id="227">227</th><td>      <a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a>]</a> = <a class="local col2 ref" href="#62weighted_residual_echo" title='weighted_residual_echo' data-ref="62weighted_residual_echo" data-ref-filename="62weighted_residual_echo">weighted_residual_echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a>]</a> &gt; <var>0.f</var></td></tr>
<tr><th id="228">228</th><td>                        ? <a class="local col8 ref" href="#68min_echo_power" title='min_echo_power' data-ref="68min_echo_power" data-ref-filename="68min_echo_power">min_echo_power</a> / <a class="local col2 ref" href="#62weighted_residual_echo" title='weighted_residual_echo' data-ref="62weighted_residual_echo" data-ref-filename="62weighted_residual_echo">weighted_residual_echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a>]</a></td></tr>
<tr><th id="229">229</th><td>                        : <var>1.f</var>;</td></tr>
<tr><th id="230">230</th><td>      <a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a>]</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col9 ref" href="#69k" title='k' data-ref="69k" data-ref-filename="69k">k</a>]</a>, <var>1.f</var>);</td></tr>
<tr><th id="231">231</th><td>    }</td></tr>
<tr><th id="232">232</th><td></td></tr>
<tr><th id="233">233</th><td>    <em>const</em> <em>bool</em> <dfn class="local col0 decl" id="70is_nearend_state" title='is_nearend_state' data-type='const bool' data-ref="70is_nearend_state" data-ref-filename="70is_nearend_state">is_nearend_state</dfn> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="nearend_detector.h.html#_ZNK6webrtc15NearendDetector14IsNearendStateEv" title='webrtc::NearendDetector::IsNearendState' data-ref="_ZNK6webrtc15NearendDetector14IsNearendStateEv" data-ref-filename="_ZNK6webrtc15NearendDetector14IsNearendStateEv">IsNearendState</a>();</td></tr>
<tr><th id="234">234</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="71k" title='k' data-type='size_t' data-ref="71k" data-ref-filename="71k">k</dfn> = <var>0</var>; <a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a> &lt; <var>6</var>; ++<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>) {</td></tr>
<tr><th id="235">235</th><td>      <em>const</em> <em>auto</em>&amp; <dfn class="local col2 decl" id="72dec" title='dec' data-type='const float &amp;' data-ref="72dec" data-ref-filename="72dec">dec</dfn> = <a class="local col0 ref" href="#70is_nearend_state" title='is_nearend_state' data-ref="70is_nearend_state" data-ref-filename="70is_nearend_state">is_nearend_state</a> ? <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::nearend_params_" title='webrtc::SuppressionGain::nearend_params_' data-ref="webrtc::SuppressionGain::nearend_params_" data-ref-filename="webrtc..SuppressionGain..nearend_params_">nearend_params_</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::max_dec_factor_lf" title='webrtc::SuppressionGain::GainParameters::max_dec_factor_lf' data-ref="webrtc::SuppressionGain::GainParameters::max_dec_factor_lf" data-ref-filename="webrtc..SuppressionGain..GainParameters..max_dec_factor_lf">max_dec_factor_lf</a></td></tr>
<tr><th id="236">236</th><td>                                         : <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::normal_params_" title='webrtc::SuppressionGain::normal_params_' data-ref="webrtc::SuppressionGain::normal_params_" data-ref-filename="webrtc..SuppressionGain..normal_params_">normal_params_</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::max_dec_factor_lf" title='webrtc::SuppressionGain::GainParameters::max_dec_factor_lf' data-ref="webrtc::SuppressionGain::GainParameters::max_dec_factor_lf" data-ref-filename="webrtc..SuppressionGain..GainParameters..max_dec_factor_lf">max_dec_factor_lf</a>;</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td>      <i>// Make sure the gains of the low frequencies do not decrease too</i></td></tr>
<tr><th id="239">239</th><td><i>      // quickly after strong nearend.</i></td></tr>
<tr><th id="240">240</th><td>      <b>if</b> (<a class="local col3 ref" href="#63last_nearend" title='last_nearend' data-ref="63last_nearend" data-ref-filename="63last_nearend">last_nearend</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</a> &gt; <a class="local col4 ref" href="#64last_echo" title='last_echo' data-ref="64last_echo" data-ref-filename="64last_echo">last_echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</a>) {</td></tr>
<tr><th id="241">241</th><td>        <a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</a>, <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_gain_" title='webrtc::SuppressionGain::last_gain_' data-ref="webrtc::SuppressionGain::last_gain_" data-ref-filename="webrtc..SuppressionGain..last_gain_">last_gain_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</span> * <a class="local col2 ref" href="#72dec" title='dec' data-ref="72dec" data-ref-filename="72dec">dec</a>);</td></tr>
<tr><th id="242">242</th><td>        <a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col1 ref" href="#71k" title='k' data-ref="71k" data-ref-filename="71k">k</a>]</a>, <var>1.f</var>);</td></tr>
<tr><th id="243">243</th><td>      }</td></tr>
<tr><th id="244">244</th><td>    }</td></tr>
<tr><th id="245">245</th><td>  } <b>else</b> {</td></tr>
<tr><th id="246">246</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::__1::fill' data-ref="_ZNSt3__1L4fillET_S0_RKT0_" data-ref-filename="_ZNSt3__1L4fillET_S0_RKT0_">fill</span>(<a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayView5beginEv" title='rtc::ArrayView::begin' data-ref="_ZNK3rtc9ArrayView5beginEv" data-ref-filename="_ZNK3rtc9ArrayView5beginEv">begin</a>(), <a class="local col7 ref" href="#67min_gain" title='min_gain' data-ref="67min_gain" data-ref-filename="67min_gain">min_gain</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayView3endEv" title='rtc::ArrayView::end' data-ref="_ZNK3rtc9ArrayView3endEv" data-ref-filename="_ZNK3rtc9ArrayView3endEv">end</a>(), <var>0.f</var>);</td></tr>
<tr><th id="247">247</th><td>  }</td></tr>
<tr><th id="248">248</th><td>}</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td><i>// Compute the maximum gain by limiting the gain increase from the previous</i></td></tr>
<tr><th id="251">251</th><td><i>// gain.</i></td></tr>
<tr><th id="252">252</th><td><em>void</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZNK6webrtc15SuppressionGain10GetMaxGainEN3rtc9ArrayViewIfLln4711EEE" title='webrtc::SuppressionGain::GetMaxGain' data-ref="_ZNK6webrtc15SuppressionGain10GetMaxGainEN3rtc9ArrayViewIfLln4711EEE" data-ref-filename="_ZNK6webrtc15SuppressionGain10GetMaxGainEN3rtc9ArrayViewIfLln4711EEE">GetMaxGain</dfn>(<span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>float</em>&gt; <dfn class="local col3 decl" id="73max_gain" title='max_gain' data-type='rtc::ArrayView&lt;float&gt;' data-ref="73max_gain" data-ref-filename="73max_gain">max_gain</dfn>) <em>const</em> {</td></tr>
<tr><th id="253">253</th><td>  <em>const</em> <em>auto</em>&amp; <dfn class="local col4 decl" id="74inc" title='inc' data-type='const float &amp;' data-ref="74inc" data-ref-filename="74inc">inc</dfn> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="nearend_detector.h.html#_ZNK6webrtc15NearendDetector14IsNearendStateEv" title='webrtc::NearendDetector::IsNearendState' data-ref="_ZNK6webrtc15NearendDetector14IsNearendStateEv" data-ref-filename="_ZNK6webrtc15NearendDetector14IsNearendStateEv">IsNearendState</a>()</td></tr>
<tr><th id="254">254</th><td>                        ? <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::nearend_params_" title='webrtc::SuppressionGain::nearend_params_' data-ref="webrtc::SuppressionGain::nearend_params_" data-ref-filename="webrtc..SuppressionGain..nearend_params_">nearend_params_</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::max_inc_factor" title='webrtc::SuppressionGain::GainParameters::max_inc_factor' data-ref="webrtc::SuppressionGain::GainParameters::max_inc_factor" data-ref-filename="webrtc..SuppressionGain..GainParameters..max_inc_factor">max_inc_factor</a></td></tr>
<tr><th id="255">255</th><td>                        : <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::normal_params_" title='webrtc::SuppressionGain::normal_params_' data-ref="webrtc::SuppressionGain::normal_params_" data-ref-filename="webrtc..SuppressionGain..normal_params_">normal_params_</a>.<a class="ref field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::max_inc_factor" title='webrtc::SuppressionGain::GainParameters::max_inc_factor' data-ref="webrtc::SuppressionGain::GainParameters::max_inc_factor" data-ref-filename="webrtc..SuppressionGain..GainParameters..max_inc_factor">max_inc_factor</a>;</td></tr>
<tr><th id="256">256</th><td>  <em>const</em> <em>auto</em>&amp; <dfn class="local col5 decl" id="75floor" title='floor' data-type='const float &amp;' data-ref="75floor" data-ref-filename="75floor">floor</dfn> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::floor_first_increase" title='webrtc::EchoCanceller3Config::Suppressor::floor_first_increase' data-ref="webrtc::EchoCanceller3Config::Suppressor::floor_first_increase" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..floor_first_increase">floor_first_increase</a>;</td></tr>
<tr><th id="257">257</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col6 decl" id="76k" title='k' data-type='size_t' data-ref="76k" data-ref-filename="76k">k</dfn> = <var>0</var>; <a class="local col6 ref" href="#76k" title='k' data-ref="76k" data-ref-filename="76k">k</a> &lt; <a class="local col3 ref" href="#73max_gain" title='max_gain' data-ref="73max_gain" data-ref-filename="73max_gain">max_gain</a>.<a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" title='rtc::impl::ArrayViewBase&lt;type-parameter-0-0, -4711&gt;::size' data-ref="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv" data-ref-filename="_ZNK3rtc4impl13ArrayViewBaseIT_Lln4711EE4sizeEv">size</a>(); ++<a class="local col6 ref" href="#76k" title='k' data-ref="76k" data-ref-filename="76k">k</a>) {</td></tr>
<tr><th id="258">258</th><td>    <a class="local col3 ref" href="#73max_gain" title='max_gain' data-ref="73max_gain" data-ref-filename="73max_gain">max_gain</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col6 ref" href="#76k" title='k' data-ref="76k" data-ref-filename="76k">k</a>]</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_gain_" title='webrtc::SuppressionGain::last_gain_' data-ref="webrtc::SuppressionGain::last_gain_" data-ref-filename="webrtc..SuppressionGain..last_gain_">last_gain_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNKSt3__15arrayixEm" data-ref-filename="_ZNKSt3__15arrayixEm">[<a class="local col6 ref" href="#76k" title='k' data-ref="76k" data-ref-filename="76k">k</a>]</span> * <a class="local col4 ref" href="#74inc" title='inc' data-ref="74inc" data-ref-filename="74inc">inc</a>, <a class="local col5 ref" href="#75floor" title='floor' data-ref="75floor" data-ref-filename="75floor">floor</a>), <var>1.f</var>);</td></tr>
<tr><th id="259">259</th><td>  }</td></tr>
<tr><th id="260">260</th><td>}</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td><em>void</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGain13LowerBandGainEbRKNS_8AecStateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEESA_SA_bPS8_" title='webrtc::SuppressionGain::LowerBandGain' data-ref="_ZN6webrtc15SuppressionGain13LowerBandGainEbRKNS_8AecStateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEESA_SA_bPS8_" data-ref-filename="_ZN6webrtc15SuppressionGain13LowerBandGainEbRKNS_8AecStateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEESA_SA_bPS8_">LowerBandGain</dfn>(</td></tr>
<tr><th id="263">263</th><td>    <em>bool</em> <dfn class="local col7 decl" id="77low_noise_render" title='low_noise_render' data-type='bool' data-ref="77low_noise_render" data-ref-filename="77low_noise_render">low_noise_render</dfn>,</td></tr>
<tr><th id="264">264</th><td>    <em>const</em> <a class="type" href="aec_state.h.html#webrtc::AecState" title='webrtc::AecState' data-ref="webrtc::AecState" data-ref-filename="webrtc..AecState">AecState</a>&amp; <dfn class="local col8 decl" id="78aec_state" title='aec_state' data-type='const webrtc::AecState &amp;' data-ref="78aec_state" data-ref-filename="78aec_state">aec_state</dfn>,</td></tr>
<tr><th id="265">265</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt;</td></tr>
<tr><th id="266">266</th><td>        <dfn class="local col9 decl" id="79suppressor_input" title='suppressor_input' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="79suppressor_input" data-ref-filename="79suppressor_input">suppressor_input</dfn>,</td></tr>
<tr><th id="267">267</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt; <dfn class="local col0 decl" id="80residual_echo" title='residual_echo' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="80residual_echo" data-ref-filename="80residual_echo">residual_echo</dfn>,</td></tr>
<tr><th id="268">268</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt; <dfn class="local col1 decl" id="81comfort_noise" title='comfort_noise' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="81comfort_noise" data-ref-filename="81comfort_noise">comfort_noise</dfn>,</td></tr>
<tr><th id="269">269</th><td>    <em>bool</em> <dfn class="local col2 decl" id="82clock_drift" title='clock_drift' data-type='bool' data-ref="82clock_drift" data-ref-filename="82clock_drift">clock_drift</dfn>,</td></tr>
<tr><th id="270">270</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;* <dfn class="local col3 decl" id="83gain" title='gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt; *' data-ref="83gain" data-ref-filename="83gain">gain</dfn>) {</td></tr>
<tr><th id="271">271</th><td>  <a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::fill' data-ref="_ZNSt3__15array4fillERKT_" data-ref-filename="_ZNSt3__15array4fillERKT_">fill</span>(<var>1.f</var>);</td></tr>
<tr><th id="272">272</th><td>  <em>const</em> <em>bool</em> <dfn class="local col4 decl" id="84saturated_echo" title='saturated_echo' data-type='const bool' data-ref="84saturated_echo" data-ref-filename="84saturated_echo">saturated_echo</dfn> = <a class="local col8 ref" href="#78aec_state" title='aec_state' data-ref="78aec_state" data-ref-filename="78aec_state">aec_state</a>.<a class="ref fn" href="aec_state.h.html#_ZNK6webrtc8AecState13SaturatedEchoEv" title='webrtc::AecState::SaturatedEcho' data-ref="_ZNK6webrtc8AecState13SaturatedEchoEv" data-ref-filename="_ZNK6webrtc8AecState13SaturatedEchoEv">SaturatedEcho</a>();</td></tr>
<tr><th id="273">273</th><td>  <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt; <span class='ref fn fake' title='std::__1::array&lt;float, 65&gt;::array' data-ref="_ZNSt3__15arrayIfLm65EEC1Ev" data-ref-filename="_ZNSt3__15arrayIfLm65EEC1Ev"></span><dfn class="local col5 decl" id="85max_gain" title='max_gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt;' data-ref="85max_gain" data-ref-filename="85max_gain">max_gain</dfn>;</td></tr>
<tr><th id="274">274</th><td>  <a class="member fn" href="#_ZNK6webrtc15SuppressionGain10GetMaxGainEN3rtc9ArrayViewIfLln4711EEE" title='webrtc::SuppressionGain::GetMaxGain' data-ref="_ZNK6webrtc15SuppressionGain10GetMaxGainEN3rtc9ArrayViewIfLln4711EEE" data-ref-filename="_ZNK6webrtc15SuppressionGain10GetMaxGainEN3rtc9ArrayViewIfLln4711EEE">GetMaxGain</a>(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col5 ref" href="#85max_gain" title='max_gain' data-ref="85max_gain" data-ref-filename="85max_gain">max_gain</a>);</td></tr>
<tr><th id="275">275</th><td></td></tr>
<tr><th id="276">276</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col6 decl" id="86ch" title='ch' data-type='size_t' data-ref="86ch" data-ref-filename="86ch">ch</dfn> = <var>0</var>; <a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a> &lt; <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>; ++<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>) {</td></tr>
<tr><th id="277">277</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt; <span class='ref fn fake' title='std::__1::array&lt;float, 65&gt;::array' data-ref="_ZNSt3__15arrayIfLm65EEC1Ev" data-ref-filename="_ZNSt3__15arrayIfLm65EEC1Ev"></span><dfn class="local col7 decl" id="87G" title='G' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt;' data-ref="87G" data-ref-filename="87G">G</dfn>;</td></tr>
<tr><th id="278">278</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt; <span class='ref fn fake' title='std::__1::array&lt;float, 65&gt;::array' data-ref="_ZNSt3__15arrayIfLm65EEC1Ev" data-ref-filename="_ZNSt3__15arrayIfLm65EEC1Ev"></span><dfn class="local col8 decl" id="88nearend" title='nearend' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt;' data-ref="88nearend" data-ref-filename="88nearend">nearend</dfn>;</td></tr>
<tr><th id="279">279</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::nearend_smoothers_" title='webrtc::SuppressionGain::nearend_smoothers_' data-ref="webrtc::SuppressionGain::nearend_smoothers_" data-ref-filename="webrtc..SuppressionGain..nearend_smoothers_">nearend_smoothers_</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</span>.<a class="ref fn" href="moving_average.h.html#_ZN6webrtc4aec313MovingAverage7AverageEN3rtc9ArrayViewIKfLln4711EEENS3_IfLln4711EEE" title='webrtc::aec3::MovingAverage::Average' data-ref="_ZN6webrtc4aec313MovingAverage7AverageEN3rtc9ArrayViewIKfLln4711EEENS3_IfLln4711EEE" data-ref-filename="_ZN6webrtc4aec313MovingAverage7AverageEN3rtc9ArrayViewIKfLln4711EEENS3_IfLln4711EEE">Average</a>(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERKTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERKTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERKTL0__"></a><a class="local col9 ref" href="#79suppressor_input" title='suppressor_input' data-ref="79suppressor_input" data-ref-filename="79suppressor_input">suppressor_input</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col8 ref" href="#88nearend" title='nearend' data-ref="88nearend" data-ref-filename="88nearend">nearend</a>);</td></tr>
<tr><th id="280">280</th><td></td></tr>
<tr><th id="281">281</th><td>    <i>// Weight echo power in terms of audibility.</i></td></tr>
<tr><th id="282">282</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt; <span class='ref fn fake' title='std::__1::array&lt;float, 65&gt;::array' data-ref="_ZNSt3__15arrayIfLm65EEC1Ev" data-ref-filename="_ZNSt3__15arrayIfLm65EEC1Ev"></span><dfn class="local col9 decl" id="89weighted_residual_echo" title='weighted_residual_echo' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt;' data-ref="89weighted_residual_echo" data-ref-filename="89weighted_residual_echo">weighted_residual_echo</dfn>;</td></tr>
<tr><th id="283">283</th><td>    <a class="tu ref fn" href="#_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE" title='webrtc::(anonymous namespace)::WeightEchoForAudibility' data-use='c' data-ref="_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE" data-ref-filename="_ZN6webrtc12_GLOBAL__N_123WeightEchoForAudibilityERKNS_20EchoCanceller3ConfigEN3rtc9ArrayViewIKfLln4711EEENS5_IfLln4711EEE">WeightEchoForAudibility</a>(<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERKTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERKTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERKTL0__"></a><a class="local col0 ref" href="#80residual_echo" title='residual_echo' data-ref="80residual_echo" data-ref-filename="80residual_echo">residual_echo</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col9 ref" href="#89weighted_residual_echo" title='weighted_residual_echo' data-ref="89weighted_residual_echo" data-ref-filename="89weighted_residual_echo">weighted_residual_echo</a>);</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt; <span class='ref fn fake' title='std::__1::array&lt;float, 65&gt;::array' data-ref="_ZNSt3__15arrayIfLm65EEC1Ev" data-ref-filename="_ZNSt3__15arrayIfLm65EEC1Ev"></span><dfn class="local col0 decl" id="90min_gain" title='min_gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt;' data-ref="90min_gain" data-ref-filename="90min_gain">min_gain</dfn>;</td></tr>
<tr><th id="286">286</th><td>    <a class="member fn" href="#_ZNK6webrtc15SuppressionGain10GetMinGainEN3rtc9ArrayViewIKfLln4711EEES4_S4_bbNS2_IfLln4711EEE" title='webrtc::SuppressionGain::GetMinGain' data-ref="_ZNK6webrtc15SuppressionGain10GetMinGainEN3rtc9ArrayViewIKfLln4711EEES4_S4_bbNS2_IfLln4711EEE" data-ref-filename="_ZNK6webrtc15SuppressionGain10GetMinGainEN3rtc9ArrayViewIKfLln4711EEES4_S4_bbNS2_IfLln4711EEE">GetMinGain</a>(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col9 ref" href="#89weighted_residual_echo" title='weighted_residual_echo' data-ref="89weighted_residual_echo" data-ref-filename="89weighted_residual_echo">weighted_residual_echo</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_nearend_" title='webrtc::SuppressionGain::last_nearend_' data-ref="webrtc::SuppressionGain::last_nearend_" data-ref-filename="webrtc..SuppressionGain..last_nearend_">last_nearend_</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</span>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_echo_" title='webrtc::SuppressionGain::last_echo_' data-ref="webrtc::SuppressionGain::last_echo_" data-ref-filename="webrtc..SuppressionGain..last_echo_">last_echo_</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</span>,</td></tr>
<tr><th id="287">287</th><td>               <a class="local col7 ref" href="#77low_noise_render" title='low_noise_render' data-ref="77low_noise_render" data-ref-filename="77low_noise_render">low_noise_render</a>, <a class="local col4 ref" href="#84saturated_echo" title='saturated_echo' data-ref="84saturated_echo" data-ref-filename="84saturated_echo">saturated_echo</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col0 ref" href="#90min_gain" title='min_gain' data-ref="90min_gain" data-ref-filename="90min_gain">min_gain</a>);</td></tr>
<tr><th id="288">288</th><td></td></tr>
<tr><th id="289">289</th><td>    <a class="member fn" href="#_ZNK6webrtc15SuppressionGain19GainToNoAudibleEchoERKNSt3__15arrayIfLm65EEES5_S5_PS3_" title='webrtc::SuppressionGain::GainToNoAudibleEcho' data-ref="_ZNK6webrtc15SuppressionGain19GainToNoAudibleEchoERKNSt3__15arrayIfLm65EEES5_S5_PS3_" data-ref-filename="_ZNK6webrtc15SuppressionGain19GainToNoAudibleEchoERKNSt3__15arrayIfLm65EEES5_S5_PS3_">GainToNoAudibleEcho</a>(<a class="local col8 ref" href="#88nearend" title='nearend' data-ref="88nearend" data-ref-filename="88nearend">nearend</a>, <a class="local col9 ref" href="#89weighted_residual_echo" title='weighted_residual_echo' data-ref="89weighted_residual_echo" data-ref-filename="89weighted_residual_echo">weighted_residual_echo</a>, <a class="local col1 ref" href="#81comfort_noise" title='comfort_noise' data-ref="81comfort_noise" data-ref-filename="81comfort_noise">comfort_noise</a><a class="ref fn" href="../../../api/array_view.h.html#_ZNK3rtc9ArrayViewixEm" title='rtc::ArrayView::operator[]' data-ref="_ZNK3rtc9ArrayViewixEm" data-ref-filename="_ZNK3rtc9ArrayViewixEm">[<var>0</var>]</a>, &amp;<a class="local col7 ref" href="#87G" title='G' data-ref="87G" data-ref-filename="87G">G</a>);</td></tr>
<tr><th id="290">290</th><td></td></tr>
<tr><th id="291">291</th><td>    <i>// Clamp gains.</i></td></tr>
<tr><th id="292">292</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col1 decl" id="91k" title='k' data-type='size_t' data-ref="91k" data-ref-filename="91k">k</dfn> = <var>0</var>; <a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a> &lt; <a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::size' data-ref="_ZNKSt3__15array4sizeEv" data-ref-filename="_ZNKSt3__15array4sizeEv">size</span>(); ++<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>) {</td></tr>
<tr><th id="293">293</th><td>      <a class="local col7 ref" href="#87G" title='G' data-ref="87G" data-ref-filename="87G">G</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>(<a class="local col7 ref" href="#87G" title='G' data-ref="87G" data-ref-filename="87G">G</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span>, <a class="local col5 ref" href="#85max_gain" title='max_gain' data-ref="85max_gain" data-ref-filename="85max_gain">max_gain</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span>), <a class="local col0 ref" href="#90min_gain" title='min_gain' data-ref="90min_gain" data-ref-filename="90min_gain">min_gain</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span>);</td></tr>
<tr><th id="294">294</th><td>      (*<a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::min' data-ref="_ZNSt3__1L3minERKT_S2_" data-ref-filename="_ZNSt3__1L3minERKT_S2_">min</span>((*<a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>)<span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span>, <a class="local col7 ref" href="#87G" title='G' data-ref="87G" data-ref-filename="87G">G</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col1 ref" href="#91k" title='k' data-ref="91k" data-ref-filename="91k">k</a>]</span>);</td></tr>
<tr><th id="295">295</th><td>    }</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td>    <i>// Store data required for the gain computation of the next block.</i></td></tr>
<tr><th id="298">298</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::__1::copy' data-ref="_ZNSt3__1L4copyET_S0_T0_" data-ref-filename="_ZNSt3__1L4copyET_S0_T0_">copy</span>(<a class="local col8 ref" href="#88nearend" title='nearend' data-ref="88nearend" data-ref-filename="88nearend">nearend</a>.<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>(), <a class="local col8 ref" href="#88nearend" title='nearend' data-ref="88nearend" data-ref-filename="88nearend">nearend</a>.<span class='ref fn' title='std::__1::array::end' data-ref="_ZNSt3__15array3endEv" data-ref-filename="_ZNSt3__15array3endEv">end</span>(), <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_nearend_" title='webrtc::SuppressionGain::last_nearend_' data-ref="webrtc::SuppressionGain::last_nearend_" data-ref-filename="webrtc..SuppressionGain..last_nearend_">last_nearend_</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</span>.<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>());</td></tr>
<tr><th id="299">299</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::__1::copy' data-ref="_ZNSt3__1L4copyET_S0_T0_" data-ref-filename="_ZNSt3__1L4copyET_S0_T0_">copy</span>(<a class="local col9 ref" href="#89weighted_residual_echo" title='weighted_residual_echo' data-ref="89weighted_residual_echo" data-ref-filename="89weighted_residual_echo">weighted_residual_echo</a>.<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>(), <a class="local col9 ref" href="#89weighted_residual_echo" title='weighted_residual_echo' data-ref="89weighted_residual_echo" data-ref-filename="89weighted_residual_echo">weighted_residual_echo</a>.<span class='ref fn' title='std::__1::array::end' data-ref="_ZNSt3__15array3endEv" data-ref-filename="_ZNSt3__15array3endEv">end</span>(),</td></tr>
<tr><th id="300">300</th><td>              <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_echo_" title='webrtc::SuppressionGain::last_echo_' data-ref="webrtc::SuppressionGain::last_echo_" data-ref-filename="webrtc..SuppressionGain..last_echo_">last_echo_</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<a class="local col6 ref" href="#86ch" title='ch' data-ref="86ch" data-ref-filename="86ch">ch</a>]</span>.<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>());</td></tr>
<tr><th id="301">301</th><td>  }</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td>  <a class="tu ref fn" href="#_ZN6webrtc12_GLOBAL__N_122LimitLowFrequencyGainsEPNSt3__15arrayIfLm65EEE" title='webrtc::(anonymous namespace)::LimitLowFrequencyGains' data-use='c' data-ref="_ZN6webrtc12_GLOBAL__N_122LimitLowFrequencyGainsEPNSt3__15arrayIfLm65EEE" data-ref-filename="_ZN6webrtc12_GLOBAL__N_122LimitLowFrequencyGainsEPNSt3__15arrayIfLm65EEE">LimitLowFrequencyGains</a>(<a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>);</td></tr>
<tr><th id="304">304</th><td>  <i>// Use conservative high-frequency gains during clock-drift or when not in</i></td></tr>
<tr><th id="305">305</th><td><i>  // dominant nearend.</i></td></tr>
<tr><th id="306">306</th><td>  <b>if</b> (!<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="nearend_detector.h.html#_ZNK6webrtc15NearendDetector14IsNearendStateEv" title='webrtc::NearendDetector::IsNearendState' data-ref="_ZNK6webrtc15NearendDetector14IsNearendStateEv" data-ref-filename="_ZNK6webrtc15NearendDetector14IsNearendStateEv">IsNearendState</a>() || <a class="local col2 ref" href="#82clock_drift" title='clock_drift' data-ref="82clock_drift" data-ref-filename="82clock_drift">clock_drift</a> ||</td></tr>
<tr><th id="307">307</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::conservative_hf_suppression" title='webrtc::EchoCanceller3Config::Suppressor::conservative_hf_suppression' data-ref="webrtc::EchoCanceller3Config::Suppressor::conservative_hf_suppression" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..conservative_hf_suppression">conservative_hf_suppression</a>) {</td></tr>
<tr><th id="308">308</th><td>    <a class="tu ref fn" href="#_ZN6webrtc12_GLOBAL__N_123LimitHighFrequencyGainsEbPNSt3__15arrayIfLm65EEE" title='webrtc::(anonymous namespace)::LimitHighFrequencyGains' data-use='c' data-ref="_ZN6webrtc12_GLOBAL__N_123LimitHighFrequencyGainsEbPNSt3__15arrayIfLm65EEE" data-ref-filename="_ZN6webrtc12_GLOBAL__N_123LimitHighFrequencyGainsEbPNSt3__15arrayIfLm65EEE">LimitHighFrequencyGains</a>(<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::conservative_hf_suppression" title='webrtc::EchoCanceller3Config::Suppressor::conservative_hf_suppression' data-ref="webrtc::EchoCanceller3Config::Suppressor::conservative_hf_suppression" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..conservative_hf_suppression">conservative_hf_suppression</a>,</td></tr>
<tr><th id="309">309</th><td>                            <a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>);</td></tr>
<tr><th id="310">310</th><td>  }</td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td>  <i>// Store computed gains.</i></td></tr>
<tr><th id="313">313</th><td>  <span class="namespace">std::</span><span class='ref fn' title='std::__1::copy' data-ref="_ZNSt3__1L4copyET_S0_T0_" data-ref-filename="_ZNSt3__1L4copyET_S0_T0_">copy</span>(<a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>(), <a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>-&gt;<span class='ref fn' title='std::__1::array::end' data-ref="_ZNSt3__15array3endEv" data-ref-filename="_ZNSt3__15array3endEv">end</span>(), <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_gain_" title='webrtc::SuppressionGain::last_gain_' data-ref="webrtc::SuppressionGain::last_gain_" data-ref-filename="webrtc..SuppressionGain..last_gain_">last_gain_</a>.<span class='ref fn' title='std::__1::array::begin' data-ref="_ZNSt3__15array5beginEv" data-ref-filename="_ZNSt3__15array5beginEv">begin</span>());</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>  <i>// Transform gains to amplitude domain.</i></td></tr>
<tr><th id="316">316</th><td>  <span class="namespace">aec3::</span><a class="type" href="vector_math.h.html#webrtc::aec3::VectorMath" title='webrtc::aec3::VectorMath' data-ref="webrtc::aec3::VectorMath" data-ref-filename="webrtc..aec3..VectorMath">VectorMath</a><a class="ref fn" href="vector_math.h.html#_ZN6webrtc4aec310VectorMathC1ENS_16Aec3OptimizationE" title='webrtc::aec3::VectorMath::VectorMath' data-ref="_ZN6webrtc4aec310VectorMathC1ENS_16Aec3OptimizationE" data-ref-filename="_ZN6webrtc4aec310VectorMathC1ENS_16Aec3OptimizationE">(</a><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::optimization_" title='webrtc::SuppressionGain::optimization_' data-ref="webrtc::SuppressionGain::optimization_" data-ref-filename="webrtc..SuppressionGain..optimization_">optimization_</a>).<a class="ref fn" href="vector_math.h.html#_ZN6webrtc4aec310VectorMath4SqrtEN3rtc9ArrayViewIfLln4711EEE" title='webrtc::aec3::VectorMath::Sqrt' data-ref="_ZN6webrtc4aec310VectorMath4SqrtEN3rtc9ArrayViewIfLln4711EEE" data-ref-filename="_ZN6webrtc4aec310VectorMath4SqrtEN3rtc9ArrayViewIfLln4711EEE">Sqrt</a>(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a>*<a class="local col3 ref" href="#83gain" title='gain' data-ref="83gain" data-ref-filename="83gain">gain</a>);</td></tr>
<tr><th id="317">317</th><td>}</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td><a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGainC1ERKNS_20EchoCanceller3ConfigENS_16Aec3OptimizationEim" title='webrtc::SuppressionGain::SuppressionGain' data-ref="_ZN6webrtc15SuppressionGainC1ERKNS_20EchoCanceller3ConfigENS_16Aec3OptimizationEim" data-ref-filename="_ZN6webrtc15SuppressionGainC1ERKNS_20EchoCanceller3ConfigENS_16Aec3OptimizationEim">SuppressionGain</dfn>(<em>const</em> <a class="type" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config" title='webrtc::EchoCanceller3Config' data-ref="webrtc::EchoCanceller3Config" data-ref-filename="webrtc..EchoCanceller3Config">EchoCanceller3Config</a>&amp; <dfn class="local col2 decl" id="92config" title='config' data-type='const webrtc::EchoCanceller3Config &amp;' data-ref="92config" data-ref-filename="92config">config</dfn>,</td></tr>
<tr><th id="320">320</th><td>                                 <a class="type" href="aec3_common.h.html#webrtc::Aec3Optimization" title='webrtc::Aec3Optimization' data-ref="webrtc::Aec3Optimization" data-ref-filename="webrtc..Aec3Optimization">Aec3Optimization</a> <dfn class="local col3 decl" id="93optimization" title='optimization' data-type='webrtc::Aec3Optimization' data-ref="93optimization" data-ref-filename="93optimization">optimization</dfn>,</td></tr>
<tr><th id="321">321</th><td>                                 <em>int</em> <dfn class="local col4 decl" id="94sample_rate_hz" title='sample_rate_hz' data-type='int' data-ref="94sample_rate_hz" data-ref-filename="94sample_rate_hz">sample_rate_hz</dfn>,</td></tr>
<tr><th id="322">322</th><td>                                 <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="95num_capture_channels" title='num_capture_channels' data-type='size_t' data-ref="95num_capture_channels" data-ref-filename="95num_capture_channels">num_capture_channels</dfn>)</td></tr>
<tr><th id="323">323</th><td>    : <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::data_dumper_" title='webrtc::SuppressionGain::data_dumper_' data-ref="webrtc::SuppressionGain::data_dumper_" data-ref-filename="webrtc..SuppressionGain..data_dumper_">data_dumper_</a><span class='ref fn' title='std::__1::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt3__110unique_ptrC1ENS_14__pointer_typeIT_T0_E4typeE" data-ref-filename="_ZNSt3__110unique_ptrC1ENS_14__pointer_typeIT_T0_E4typeE">(</span></td></tr>
<tr><th id="324">324</th><td>          <b>new</b> <a class="type" href="../logging/apm_data_dumper.h.html#webrtc::ApmDataDumper" title='webrtc::ApmDataDumper' data-ref="webrtc::ApmDataDumper" data-ref-filename="webrtc..ApmDataDumper">ApmDataDumper</a><a class="ref fn" href="../logging/apm_data_dumper.h.html#_ZN6webrtc13ApmDataDumperC1Ei" title='webrtc::ApmDataDumper::ApmDataDumper' data-ref="_ZN6webrtc13ApmDataDumperC1Ei" data-ref-filename="_ZN6webrtc13ApmDataDumperC1Ei">(</a><span class="namespace">rtc::</span><a class="type" href="../../../rtc_base/atomic_ops.h.html#rtc::AtomicOps" title='rtc::AtomicOps' data-ref="rtc::AtomicOps" data-ref-filename="rtc..AtomicOps">AtomicOps</a>::<a class="ref fn" href="../../../rtc_base/atomic_ops.h.html#_ZN3rtc9AtomicOps9IncrementEPVi" title='rtc::AtomicOps::Increment' data-ref="_ZN3rtc9AtomicOps9IncrementEPVi" data-ref-filename="_ZN3rtc9AtomicOps9IncrementEPVi">Increment</a>(&amp;<a class="member" href="suppression_gain.h.html#webrtc::SuppressionGain::instance_count_" title='webrtc::SuppressionGain::instance_count_' data-ref="webrtc::SuppressionGain::instance_count_" data-ref-filename="webrtc..SuppressionGain..instance_count_">instance_count_</a>))),</td></tr>
<tr><th id="325">325</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::optimization_" title='webrtc::SuppressionGain::optimization_' data-ref="webrtc::SuppressionGain::optimization_" data-ref-filename="webrtc..SuppressionGain..optimization_">optimization_</a>(<a class="local col3 ref" href="#93optimization" title='optimization' data-ref="93optimization" data-ref-filename="93optimization">optimization</a>),</td></tr>
<tr><th id="326">326</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a><a class="ref fn" href="../../../api/audio/echo_canceller3_config.h.html#_ZN6webrtc20EchoCanceller3ConfigC1ERKS0_" title='webrtc::EchoCanceller3Config::EchoCanceller3Config' data-ref="_ZN6webrtc20EchoCanceller3ConfigC1ERKS0_" data-ref-filename="_ZN6webrtc20EchoCanceller3ConfigC1ERKS0_">(</a><a class="local col2 ref" href="#92config" title='config' data-ref="92config" data-ref-filename="92config">config</a>),</td></tr>
<tr><th id="327">327</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>(<a class="local col5 ref" href="#95num_capture_channels" title='num_capture_channels' data-ref="95num_capture_channels" data-ref-filename="95num_capture_channels">num_capture_channels</a>),</td></tr>
<tr><th id="328">328</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::state_change_duration_blocks_" title='webrtc::SuppressionGain::state_change_duration_blocks_' data-ref="webrtc::SuppressionGain::state_change_duration_blocks_" data-ref-filename="webrtc..SuppressionGain..state_change_duration_blocks_">state_change_duration_blocks_</a>(</td></tr>
<tr><th id="329">329</th><td>          <b>static_cast</b>&lt;<em>int</em>&gt;(<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::filter" title='webrtc::EchoCanceller3Config::filter' data-ref="webrtc::EchoCanceller3Config::filter" data-ref-filename="webrtc..EchoCanceller3Config..filter">filter</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Filter::config_change_duration_blocks" title='webrtc::EchoCanceller3Config::Filter::config_change_duration_blocks' data-ref="webrtc::EchoCanceller3Config::Filter::config_change_duration_blocks" data-ref-filename="webrtc..EchoCanceller3Config..Filter..config_change_duration_blocks">config_change_duration_blocks</a>)),</td></tr>
<tr><th id="330">330</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_nearend_" title='webrtc::SuppressionGain::last_nearend_' data-ref="webrtc::SuppressionGain::last_nearend_" data-ref-filename="webrtc..SuppressionGain..last_nearend_">last_nearend_</a><span class='ref fn' title='std::__1::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_" data-ref-filename="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_">(</span><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>, {<var>0</var>}),</td></tr>
<tr><th id="331">331</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_echo_" title='webrtc::SuppressionGain::last_echo_' data-ref="webrtc::SuppressionGain::last_echo_" data-ref-filename="webrtc..SuppressionGain..last_echo_">last_echo_</a><span class='ref fn' title='std::__1::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_" data-ref-filename="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_">(</span><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>, {<var>0</var>}),</td></tr>
<tr><th id="332">332</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::nearend_smoothers_" title='webrtc::SuppressionGain::nearend_smoothers_' data-ref="webrtc::SuppressionGain::nearend_smoothers_" data-ref-filename="webrtc..SuppressionGain..nearend_smoothers_">nearend_smoothers_</a><span class='ref fn' title='std::__1::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_" data-ref-filename="_ZNSt3__16vectorC1ENS_13__vector_baseIT_T0_E9size_typeERKS2_">(</span></td></tr>
<tr><th id="333">333</th><td>          <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>,</td></tr>
<tr><th id="334">334</th><td>          <span class="namespace">aec3::</span><a class="type" href="moving_average.h.html#webrtc::aec3::MovingAverage" title='webrtc::aec3::MovingAverage' data-ref="webrtc::aec3::MovingAverage" data-ref-filename="webrtc..aec3..MovingAverage">MovingAverage</a><a class="ref fn" href="moving_average.h.html#_ZN6webrtc4aec313MovingAverageC1Emm" title='webrtc::aec3::MovingAverage::MovingAverage' data-ref="_ZN6webrtc4aec313MovingAverageC1Emm" data-ref-filename="_ZN6webrtc4aec313MovingAverageC1Emm">(</a><a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>,</td></tr>
<tr><th id="335">335</th><td>                              <a class="local col2 ref" href="#92config" title='config' data-ref="92config" data-ref-filename="92config">config</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::nearend_average_blocks" title='webrtc::EchoCanceller3Config::Suppressor::nearend_average_blocks' data-ref="webrtc::EchoCanceller3Config::Suppressor::nearend_average_blocks" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..nearend_average_blocks">nearend_average_blocks</a>)),</td></tr>
<tr><th id="336">336</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::nearend_params_" title='webrtc::SuppressionGain::nearend_params_' data-ref="webrtc::SuppressionGain::nearend_params_" data-ref-filename="webrtc..SuppressionGain..nearend_params_">nearend_params_</a><a class="ref fn" href="#_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE" title='webrtc::SuppressionGain::GainParameters::GainParameters' data-ref="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE" data-ref-filename="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE">(</a><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::nearend_tuning" title='webrtc::EchoCanceller3Config::Suppressor::nearend_tuning' data-ref="webrtc::EchoCanceller3Config::Suppressor::nearend_tuning" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..nearend_tuning">nearend_tuning</a>),</td></tr>
<tr><th id="337">337</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::normal_params_" title='webrtc::SuppressionGain::normal_params_' data-ref="webrtc::SuppressionGain::normal_params_" data-ref-filename="webrtc..SuppressionGain..normal_params_">normal_params_</a><a class="ref fn" href="#_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE" title='webrtc::SuppressionGain::GainParameters::GainParameters' data-ref="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE" data-ref-filename="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE">(</a><a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::normal_tuning" title='webrtc::EchoCanceller3Config::Suppressor::normal_tuning' data-ref="webrtc::EchoCanceller3Config::Suppressor::normal_tuning" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..normal_tuning">normal_tuning</a>) {</td></tr>
<tr><th id="338">338</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#433" title="::rtc::SafeLt((0), (state_change_duration_blocks_)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 338, &quot;0&quot; &quot; &quot; &quot;&lt;&quot; &quot; &quot; &quot;state_change_duration_blocks_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (0) &lt;&lt; (state_change_duration_blocks_)" data-ref="_M/RTC_DCHECK_LT">RTC_DCHECK_LT</a>(<var>0</var>, <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::state_change_duration_blocks_" title='webrtc::SuppressionGain::state_change_duration_blocks_' data-ref="webrtc::SuppressionGain::state_change_duration_blocks_" data-ref-filename="webrtc..SuppressionGain..state_change_duration_blocks_">state_change_duration_blocks_</a>);</td></tr>
<tr><th id="339">339</th><td>  <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::last_gain_" title='webrtc::SuppressionGain::last_gain_' data-ref="webrtc::SuppressionGain::last_gain_" data-ref-filename="webrtc..SuppressionGain..last_gain_">last_gain_</a>.<span class='ref fn' title='std::__1::array::fill' data-ref="_ZNSt3__15array4fillERKT_" data-ref-filename="_ZNSt3__15array4fillERKT_">fill</span>(<var>1.f</var>);</td></tr>
<tr><th id="340">340</th><td>  <b>if</b> (<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::use_subband_nearend_detection" title='webrtc::EchoCanceller3Config::Suppressor::use_subband_nearend_detection' data-ref="webrtc::EchoCanceller3Config::Suppressor::use_subband_nearend_detection" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..use_subband_nearend_detection">use_subband_nearend_detection</a>) {</td></tr>
<tr><th id="341">341</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a> <span class='ref fn' title='std::__1::unique_ptr::operator=' data-ref="_ZNSt3__110unique_ptraSEONS_10unique_ptrITL0__TL0_0_EE" data-ref-filename="_ZNSt3__110unique_ptraSEONS_10unique_ptrITL0__TL0_0_EE">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::__1::make_unique' data-ref="_ZNSt3__1L11make_uniqueEDpOT0_" data-ref-filename="_ZNSt3__1L11make_uniqueEDpOT0_">make_unique</span>&lt;<a class="type" href="subband_nearend_detector.h.html#webrtc::SubbandNearendDetector" title='webrtc::SubbandNearendDetector' data-ref="webrtc::SubbandNearendDetector" data-ref-filename="webrtc..SubbandNearendDetector">SubbandNearendDetector</a>&gt;(</td></tr>
<tr><th id="342">342</th><td>        <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::subband_nearend_detection" title='webrtc::EchoCanceller3Config::Suppressor::subband_nearend_detection' data-ref="webrtc::EchoCanceller3Config::Suppressor::subband_nearend_detection" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..subband_nearend_detection">subband_nearend_detection</a>, <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>);</td></tr>
<tr><th id="343">343</th><td>  } <b>else</b> {</td></tr>
<tr><th id="344">344</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a> <span class='ref fn' title='std::__1::unique_ptr::operator=' data-ref="_ZNSt3__110unique_ptraSEONS_10unique_ptrITL0__TL0_0_EE" data-ref-filename="_ZNSt3__110unique_ptraSEONS_10unique_ptrITL0__TL0_0_EE">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::__1::make_unique' data-ref="_ZNSt3__1L11make_uniqueEDpOT0_" data-ref-filename="_ZNSt3__1L11make_uniqueEDpOT0_">make_unique</span>&lt;<a class="type" href="dominant_nearend_detector.h.html#webrtc::DominantNearendDetector" title='webrtc::DominantNearendDetector' data-ref="webrtc::DominantNearendDetector" data-ref-filename="webrtc..DominantNearendDetector">DominantNearendDetector</a>&gt;(</td></tr>
<tr><th id="345">345</th><td>        <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::config_" title='webrtc::SuppressionGain::config_' data-ref="webrtc::SuppressionGain::config_" data-ref-filename="webrtc..SuppressionGain..config_">config_</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::suppressor" title='webrtc::EchoCanceller3Config::suppressor' data-ref="webrtc::EchoCanceller3Config::suppressor" data-ref-filename="webrtc..EchoCanceller3Config..suppressor">suppressor</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::dominant_nearend_detection" title='webrtc::EchoCanceller3Config::Suppressor::dominant_nearend_detection' data-ref="webrtc::EchoCanceller3Config::Suppressor::dominant_nearend_detection" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..dominant_nearend_detection">dominant_nearend_detection</a>, <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::num_capture_channels_" title='webrtc::SuppressionGain::num_capture_channels_' data-ref="webrtc::SuppressionGain::num_capture_channels_" data-ref-filename="webrtc..SuppressionGain..num_capture_channels_">num_capture_channels_</a>);</td></tr>
<tr><th id="346">346</th><td>  }</td></tr>
<tr><th id="347">347</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#429" title="(dominant_nearend_detector_) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 347, &quot;dominant_nearend_detector_&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a>);</td></tr>
<tr><th id="348">348</th><td>}</td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td><a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGainD1Ev" title='webrtc::SuppressionGain::~SuppressionGain' data-ref="_ZN6webrtc15SuppressionGainD1Ev" data-ref-filename="_ZN6webrtc15SuppressionGainD1Ev">~SuppressionGain</dfn>() = <b>default</b>;</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td><em>void</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGain7GetGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_S7_S7_RKNS_20RenderSignalAnalyzerERKNS_8AecStateERKNS3_6vector1323240" title='webrtc::SuppressionGain::GetGain' data-ref="_ZN6webrtc15SuppressionGain7GetGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_S7_S7_RKNS_20RenderSignalAnalyzerERKNS_8AecStateERKNS3_6vector1323240" data-ref-filename="_ZN6webrtc15SuppressionGain7GetGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_S7_S7_RKNS_20RenderSignalAnalyzerERKNS_8AecStateERKNS3_6vector1323240">GetGain</dfn>(</td></tr>
<tr><th id="353">353</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt;</td></tr>
<tr><th id="354">354</th><td>        <dfn class="local col6 decl" id="96nearend_spectrum" title='nearend_spectrum' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="96nearend_spectrum" data-ref-filename="96nearend_spectrum">nearend_spectrum</dfn>,</td></tr>
<tr><th id="355">355</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt; <dfn class="local col7 decl" id="97echo_spectrum" title='echo_spectrum' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="97echo_spectrum" data-ref-filename="97echo_spectrum">echo_spectrum</dfn>,</td></tr>
<tr><th id="356">356</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt;</td></tr>
<tr><th id="357">357</th><td>        <dfn class="local col8 decl" id="98residual_echo_spectrum" title='residual_echo_spectrum' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="98residual_echo_spectrum" data-ref-filename="98residual_echo_spectrum">residual_echo_spectrum</dfn>,</td></tr>
<tr><th id="358">358</th><td>    <span class="namespace">rtc::</span><a class="type" href="../../../api/array_view.h.html#rtc::ArrayView" title='rtc::ArrayView' data-ref="rtc::ArrayView" data-ref-filename="rtc..ArrayView">ArrayView</a>&lt;<em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;&gt;</td></tr>
<tr><th id="359">359</th><td>        <dfn class="local col9 decl" id="99comfort_noise_spectrum" title='comfort_noise_spectrum' data-type='rtc::ArrayView&lt;const std::array&lt;float, kFftLengthBy2Plus1&gt;&gt;' data-ref="99comfort_noise_spectrum" data-ref-filename="99comfort_noise_spectrum">comfort_noise_spectrum</dfn>,</td></tr>
<tr><th id="360">360</th><td>    <em>const</em> <a class="type" href="render_signal_analyzer.h.html#webrtc::RenderSignalAnalyzer" title='webrtc::RenderSignalAnalyzer' data-ref="webrtc::RenderSignalAnalyzer" data-ref-filename="webrtc..RenderSignalAnalyzer">RenderSignalAnalyzer</a>&amp; <dfn class="local col0 decl" id="100render_signal_analyzer" title='render_signal_analyzer' data-type='const webrtc::RenderSignalAnalyzer &amp;' data-ref="100render_signal_analyzer" data-ref-filename="100render_signal_analyzer">render_signal_analyzer</dfn>,</td></tr>
<tr><th id="361">361</th><td>    <em>const</em> <a class="type" href="aec_state.h.html#webrtc::AecState" title='webrtc::AecState' data-ref="webrtc::AecState" data-ref-filename="webrtc..AecState">AecState</a>&amp; <dfn class="local col1 decl" id="101aec_state" title='aec_state' data-type='const webrtc::AecState &amp;' data-ref="101aec_state" data-ref-filename="101aec_state">aec_state</dfn>,</td></tr>
<tr><th id="362">362</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<em>float</em>&gt;&gt;&gt;&amp; <dfn class="local col2 decl" id="102render" title='render' data-type='const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;' data-ref="102render" data-ref-filename="102render">render</dfn>,</td></tr>
<tr><th id="363">363</th><td>    <em>bool</em> <dfn class="local col3 decl" id="103clock_drift" title='clock_drift' data-type='bool' data-ref="103clock_drift" data-ref-filename="103clock_drift">clock_drift</dfn>,</td></tr>
<tr><th id="364">364</th><td>    <em>float</em>* <dfn class="local col4 decl" id="104high_bands_gain" title='high_bands_gain' data-type='float *' data-ref="104high_bands_gain" data-ref-filename="104high_bands_gain">high_bands_gain</dfn>,</td></tr>
<tr><th id="365">365</th><td>    <span class="namespace">std::</span><span class='type' title='std::__1::array' data-ref="std::__1::array" data-ref-filename="std..__1..array">array</span>&lt;<em>float</em>, <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>&gt;* <dfn class="local col5 decl" id="105low_band_gain" title='low_band_gain' data-type='std::array&lt;float, kFftLengthBy2Plus1&gt; *' data-ref="105low_band_gain" data-ref-filename="105low_band_gain">low_band_gain</dfn>) {</td></tr>
<tr><th id="366">366</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#429" title="(high_bands_gain) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 366, &quot;high_bands_gain&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="local col4 ref" href="#104high_bands_gain" title='high_bands_gain' data-ref="104high_bands_gain" data-ref-filename="104high_bands_gain">high_bands_gain</a>);</td></tr>
<tr><th id="367">367</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#429" title="(low_band_gain) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;false&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 367, &quot;low_band_gain&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;()" data-ref="_M/RTC_DCHECK">RTC_DCHECK</a>(<a class="local col5 ref" href="#105low_band_gain" title='low_band_gain' data-ref="105low_band_gain" data-ref-filename="105low_band_gain">low_band_gain</a>);</td></tr>
<tr><th id="368">368</th><td></td></tr>
<tr><th id="369">369</th><td>  <i>// Update the nearend state selection.</i></td></tr>
<tr><th id="370">370</th><td>  <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::dominant_nearend_detector_" title='webrtc::SuppressionGain::dominant_nearend_detector_' data-ref="webrtc::SuppressionGain::dominant_nearend_detector_" data-ref-filename="webrtc..SuppressionGain..dominant_nearend_detector_">dominant_nearend_detector_</a><span class='ref fn' title='std::__1::unique_ptr::operator-&gt;' data-ref="_ZNKSt3__110unique_ptrptEv" data-ref-filename="_ZNKSt3__110unique_ptrptEv">-&gt;</span><a class="virtual ref fn" href="nearend_detector.h.html#_ZN6webrtc15NearendDetector6UpdateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_S7_b" title='webrtc::NearendDetector::Update' data-ref="_ZN6webrtc15NearendDetector6UpdateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_S7_b" data-ref-filename="_ZN6webrtc15NearendDetector6UpdateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_S7_b">Update</a>(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col6 ref" href="#96nearend_spectrum" title='nearend_spectrum' data-ref="96nearend_spectrum" data-ref-filename="96nearend_spectrum">nearend_spectrum</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col8 ref" href="#98residual_echo_spectrum" title='residual_echo_spectrum' data-ref="98residual_echo_spectrum" data-ref-filename="98residual_echo_spectrum">residual_echo_spectrum</a>,</td></tr>
<tr><th id="371">371</th><td>                                     <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col9 ref" href="#99comfort_noise_spectrum" title='comfort_noise_spectrum' data-ref="99comfort_noise_spectrum" data-ref-filename="99comfort_noise_spectrum">comfort_noise_spectrum</a>, <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::initial_state_" title='webrtc::SuppressionGain::initial_state_' data-ref="webrtc::SuppressionGain::initial_state_" data-ref-filename="webrtc..SuppressionGain..initial_state_">initial_state_</a>);</td></tr>
<tr><th id="372">372</th><td></td></tr>
<tr><th id="373">373</th><td>  <i>// Compute gain for the lower band.</i></td></tr>
<tr><th id="374">374</th><td>  <em>bool</em> <dfn class="local col6 decl" id="106low_noise_render" title='low_noise_render' data-type='bool' data-ref="106low_noise_render" data-ref-filename="106low_noise_render">low_noise_render</dfn> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::low_render_detector_" title='webrtc::SuppressionGain::low_render_detector_' data-ref="webrtc::SuppressionGain::low_render_detector_" data-ref-filename="webrtc..SuppressionGain..low_render_detector_">low_render_detector_</a>.<a class="ref fn" href="#_ZN6webrtc15SuppressionGain22LowNoiseRenderDetector6DetectERKNSt3__16vectorINS3_INS3_IfNS2_9allocatorIfEEEENS4_IS6_EEEENS4_IS8_EEEE" title='webrtc::SuppressionGain::LowNoiseRenderDetector::Detect' data-ref="_ZN6webrtc15SuppressionGain22LowNoiseRenderDetector6DetectERKNSt3__16vectorINS3_INS3_IfNS2_9allocatorIfEEEENS4_IS6_EEEENS4_IS8_EEEE" data-ref-filename="_ZN6webrtc15SuppressionGain22LowNoiseRenderDetector6DetectERKNSt3__16vectorINS3_INS3_IfNS2_9allocatorIfEEEENS4_IS6_EEEENS4_IS8_EEEE">Detect</a>(<a class="local col2 ref" href="#102render" title='render' data-ref="102render" data-ref-filename="102render">render</a>);</td></tr>
<tr><th id="375">375</th><td>  <a class="member fn" href="#_ZN6webrtc15SuppressionGain13LowerBandGainEbRKNS_8AecStateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEESA_SA_bPS8_" title='webrtc::SuppressionGain::LowerBandGain' data-ref="_ZN6webrtc15SuppressionGain13LowerBandGainEbRKNS_8AecStateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEESA_SA_bPS8_" data-ref-filename="_ZN6webrtc15SuppressionGain13LowerBandGainEbRKNS_8AecStateEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEESA_SA_bPS8_">LowerBandGain</a>(<a class="local col6 ref" href="#106low_noise_render" title='low_noise_render' data-ref="106low_noise_render" data-ref-filename="106low_noise_render">low_noise_render</a>, <a class="local col1 ref" href="#101aec_state" title='aec_state' data-ref="101aec_state" data-ref-filename="101aec_state">aec_state</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col6 ref" href="#96nearend_spectrum" title='nearend_spectrum' data-ref="96nearend_spectrum" data-ref-filename="96nearend_spectrum">nearend_spectrum</a>,</td></tr>
<tr><th id="376">376</th><td>                <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col8 ref" href="#98residual_echo_spectrum" title='residual_echo_spectrum' data-ref="98residual_echo_spectrum" data-ref-filename="98residual_echo_spectrum">residual_echo_spectrum</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col9 ref" href="#99comfort_noise_spectrum" title='comfort_noise_spectrum' data-ref="99comfort_noise_spectrum" data-ref-filename="99comfort_noise_spectrum">comfort_noise_spectrum</a>, <a class="local col3 ref" href="#103clock_drift" title='clock_drift' data-ref="103clock_drift" data-ref-filename="103clock_drift">clock_drift</a>,</td></tr>
<tr><th id="377">377</th><td>                <a class="local col5 ref" href="#105low_band_gain" title='low_band_gain' data-ref="105low_band_gain" data-ref-filename="105low_band_gain">low_band_gain</a>);</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td>  <i>// Compute the gain for the upper bands.</i></td></tr>
<tr><th id="380">380</th><td>  <em>const</em> <span class="namespace">absl::</span><span class='type' title='std::__1::optional' data-ref="std::__1::optional" data-ref-filename="std..__1..optional">optional</span>&lt;<em>int</em>&gt; <dfn class="local col7 decl" id="107narrow_peak_band" title='narrow_peak_band' data-type='const absl::optional&lt;int&gt;' data-ref="107narrow_peak_band" data-ref-filename="107narrow_peak_band">narrow_peak_band</dfn> =</td></tr>
<tr><th id="381">381</th><td>      <a class="local col0 ref" href="#100render_signal_analyzer" title='render_signal_analyzer' data-ref="100render_signal_analyzer" data-ref-filename="100render_signal_analyzer">render_signal_analyzer</a>.<a class="ref fn" href="render_signal_analyzer.h.html#_ZNK6webrtc20RenderSignalAnalyzer14NarrowPeakBandEv" title='webrtc::RenderSignalAnalyzer::NarrowPeakBand' data-ref="_ZNK6webrtc20RenderSignalAnalyzer14NarrowPeakBandEv" data-ref-filename="_ZNK6webrtc20RenderSignalAnalyzer14NarrowPeakBandEv">NarrowPeakBand</a>();</td></tr>
<tr><th id="382">382</th><td></td></tr>
<tr><th id="383">383</th><td>  *<a class="local col4 ref" href="#104high_bands_gain" title='high_bands_gain' data-ref="104high_bands_gain" data-ref-filename="104high_bands_gain">high_bands_gain</a> =</td></tr>
<tr><th id="384">384</th><td>      <a class="member fn" href="#_ZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9all1183418" title='webrtc::SuppressionGain::UpperBandsGain' data-ref="_ZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9all1183418" data-ref-filename="_ZNK6webrtc15SuppressionGain14UpperBandsGainEN3rtc9ArrayViewIKNSt3__15arrayIfLm65EEELln4711EEES7_RKNS3_8optionalIiEEbRKNS3_6vectorINSC_INSC_IfNS3_9all1183418">UpperBandsGain</a>(<a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col7 ref" href="#97echo_spectrum" title='echo_spectrum' data-ref="97echo_spectrum" data-ref-filename="97echo_spectrum">echo_spectrum</a>, <a class="ref fn fake" href="../../../api/array_view.h.html#_ZN3rtc9ArrayViewC1ERTL0__" title='rtc::ArrayView::ArrayView&lt;T, Size&gt;' data-ref="_ZN3rtc9ArrayViewC1ERTL0__" data-ref-filename="_ZN3rtc9ArrayViewC1ERTL0__"></a><a class="local col9 ref" href="#99comfort_noise_spectrum" title='comfort_noise_spectrum' data-ref="99comfort_noise_spectrum" data-ref-filename="99comfort_noise_spectrum">comfort_noise_spectrum</a>, <a class="local col7 ref" href="#107narrow_peak_band" title='narrow_peak_band' data-ref="107narrow_peak_band" data-ref-filename="107narrow_peak_band">narrow_peak_band</a>,</td></tr>
<tr><th id="385">385</th><td>                     <a class="local col1 ref" href="#101aec_state" title='aec_state' data-ref="101aec_state" data-ref-filename="101aec_state">aec_state</a>.<a class="ref fn" href="aec_state.h.html#_ZNK6webrtc8AecState13SaturatedEchoEv" title='webrtc::AecState::SaturatedEcho' data-ref="_ZNK6webrtc8AecState13SaturatedEchoEv" data-ref-filename="_ZNK6webrtc8AecState13SaturatedEchoEv">SaturatedEcho</a>(), <a class="local col2 ref" href="#102render" title='render' data-ref="102render" data-ref-filename="102render">render</a>, *<a class="local col5 ref" href="#105low_band_gain" title='low_band_gain' data-ref="105low_band_gain" data-ref-filename="105low_band_gain">low_band_gain</a>);</td></tr>
<tr><th id="386">386</th><td>}</td></tr>
<tr><th id="387">387</th><td></td></tr>
<tr><th id="388">388</th><td><em>void</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGain15SetInitialStateEb" title='webrtc::SuppressionGain::SetInitialState' data-ref="_ZN6webrtc15SuppressionGain15SetInitialStateEb" data-ref-filename="_ZN6webrtc15SuppressionGain15SetInitialStateEb">SetInitialState</dfn>(<em>bool</em> <dfn class="local col8 decl" id="108state" title='state' data-type='bool' data-ref="108state" data-ref-filename="108state">state</dfn>) {</td></tr>
<tr><th id="389">389</th><td>  <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::initial_state_" title='webrtc::SuppressionGain::initial_state_' data-ref="webrtc::SuppressionGain::initial_state_" data-ref-filename="webrtc..SuppressionGain..initial_state_">initial_state_</a> = <a class="local col8 ref" href="#108state" title='state' data-ref="108state" data-ref-filename="108state">state</a>;</td></tr>
<tr><th id="390">390</th><td>  <b>if</b> (<a class="local col8 ref" href="#108state" title='state' data-ref="108state" data-ref-filename="108state">state</a>) {</td></tr>
<tr><th id="391">391</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::initial_state_change_counter_" title='webrtc::SuppressionGain::initial_state_change_counter_' data-ref="webrtc::SuppressionGain::initial_state_change_counter_" data-ref-filename="webrtc..SuppressionGain..initial_state_change_counter_">initial_state_change_counter_</a> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::state_change_duration_blocks_" title='webrtc::SuppressionGain::state_change_duration_blocks_' data-ref="webrtc::SuppressionGain::state_change_duration_blocks_" data-ref-filename="webrtc..SuppressionGain..state_change_duration_blocks_">state_change_duration_blocks_</a>;</td></tr>
<tr><th id="392">392</th><td>  } <b>else</b> {</td></tr>
<tr><th id="393">393</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::initial_state_change_counter_" title='webrtc::SuppressionGain::initial_state_change_counter_' data-ref="webrtc::SuppressionGain::initial_state_change_counter_" data-ref-filename="webrtc..SuppressionGain..initial_state_change_counter_">initial_state_change_counter_</a> = <var>0</var>;</td></tr>
<tr><th id="394">394</th><td>  }</td></tr>
<tr><th id="395">395</th><td>}</td></tr>
<tr><th id="396">396</th><td></td></tr>
<tr><th id="397">397</th><td><i>// Detects when the render signal can be considered to have low power and</i></td></tr>
<tr><th id="398">398</th><td><i>// consist of stationary noise.</i></td></tr>
<tr><th id="399">399</th><td><em>bool</em> <a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain::LowNoiseRenderDetector" title='webrtc::SuppressionGain::LowNoiseRenderDetector' data-ref="webrtc::SuppressionGain::LowNoiseRenderDetector" data-ref-filename="webrtc..SuppressionGain..LowNoiseRenderDetector">LowNoiseRenderDetector</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGain22LowNoiseRenderDetector6DetectERKNSt3__16vectorINS3_INS3_IfNS2_9allocatorIfEEEENS4_IS6_EEEENS4_IS8_EEEE" title='webrtc::SuppressionGain::LowNoiseRenderDetector::Detect' data-ref="_ZN6webrtc15SuppressionGain22LowNoiseRenderDetector6DetectERKNSt3__16vectorINS3_INS3_IfNS2_9allocatorIfEEEENS4_IS6_EEEENS4_IS8_EEEE" data-ref-filename="_ZN6webrtc15SuppressionGain22LowNoiseRenderDetector6DetectERKNSt3__16vectorINS3_INS3_IfNS2_9allocatorIfEEEENS4_IS6_EEEENS4_IS8_EEEE">Detect</dfn>(</td></tr>
<tr><th id="400">400</th><td>    <em>const</em> <span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<span class="namespace">std::</span><span class='type' title='std::__1::vector' data-ref="std::__1::vector" data-ref-filename="std..__1..vector">vector</span>&lt;<em>float</em>&gt;&gt;&gt;&amp; <dfn class="local col9 decl" id="109render" title='render' data-type='const std::vector&lt;std::vector&lt;std::vector&lt;float&gt;&gt;&gt; &amp;' data-ref="109render" data-ref-filename="109render">render</dfn>) {</td></tr>
<tr><th id="401">401</th><td>  <em>float</em> <dfn class="local col0 decl" id="110x2_sum" title='x2_sum' data-type='float' data-ref="110x2_sum" data-ref-filename="110x2_sum">x2_sum</dfn> = <var>0.f</var>;</td></tr>
<tr><th id="402">402</th><td>  <em>float</em> <dfn class="local col1 decl" id="111x2_max" title='x2_max' data-type='float' data-ref="111x2_max" data-ref-filename="111x2_max">x2_max</dfn> = <var>0.f</var>;</td></tr>
<tr><th id="403">403</th><td>  <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col2 decl" id="112x_ch" title='x_ch' data-type='const std::__1::vector&lt;float, std::__1::allocator&lt;float&gt;&gt; &amp;' data-ref="112x_ch" data-ref-filename="112x_ch">x_ch</dfn> : <a class="local col9 ref" href="#109render" title='render' data-ref="109render" data-ref-filename="109render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span>) {</td></tr>
<tr><th id="404">404</th><td>    <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col3 decl" id="113x_k" title='x_k' data-type='const float &amp;' data-ref="113x_k" data-ref-filename="113x_k">x_k</dfn> : <a class="local col2 ref" href="#112x_ch" title='x_ch' data-ref="112x_ch" data-ref-filename="112x_ch">x_ch</a>) {</td></tr>
<tr><th id="405">405</th><td>      <em>const</em> <em>float</em> <dfn class="local col4 decl" id="114x2" title='x2' data-type='const float' data-ref="114x2" data-ref-filename="114x2">x2</dfn> = <a class="local col3 ref" href="#113x_k" title='x_k' data-ref="113x_k" data-ref-filename="113x_k">x_k</a> * <a class="local col3 ref" href="#113x_k" title='x_k' data-ref="113x_k" data-ref-filename="113x_k">x_k</a>;</td></tr>
<tr><th id="406">406</th><td>      <a class="local col0 ref" href="#110x2_sum" title='x2_sum' data-ref="110x2_sum" data-ref-filename="110x2_sum">x2_sum</a> += <a class="local col4 ref" href="#114x2" title='x2' data-ref="114x2" data-ref-filename="114x2">x2</a>;</td></tr>
<tr><th id="407">407</th><td>      <a class="local col1 ref" href="#111x2_max" title='x2_max' data-ref="111x2_max" data-ref-filename="111x2_max">x2_max</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col1 ref" href="#111x2_max" title='x2_max' data-ref="111x2_max" data-ref-filename="111x2_max">x2_max</a>, <a class="local col4 ref" href="#114x2" title='x2' data-ref="114x2" data-ref-filename="114x2">x2</a>);</td></tr>
<tr><th id="408">408</th><td>    }</td></tr>
<tr><th id="409">409</th><td>  }</td></tr>
<tr><th id="410">410</th><td>  <em>const</em> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col5 decl" id="115num_render_channels" title='num_render_channels' data-type='const size_t' data-ref="115num_render_channels" data-ref-filename="115num_render_channels">num_render_channels</dfn> = <a class="local col9 ref" href="#109render" title='render' data-ref="109render" data-ref-filename="109render">render</a><span class='ref fn' title='std::__1::vector::operator[]' data-ref="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE" data-ref-filename="_ZNKSt3__16vectorixENS_13__vector_baseIT_T0_E9size_typeE">[<var>0</var>]</span>.<span class='ref fn' title='std::__1::vector::size' data-ref="_ZNKSt3__16vector4sizeEv" data-ref-filename="_ZNKSt3__16vector4sizeEv">size</span>();</td></tr>
<tr><th id="411">411</th><td>  <a class="local col0 ref" href="#110x2_sum" title='x2_sum' data-ref="110x2_sum" data-ref-filename="110x2_sum">x2_sum</a> = <a class="local col0 ref" href="#110x2_sum" title='x2_sum' data-ref="110x2_sum" data-ref-filename="110x2_sum">x2_sum</a> / <a class="local col5 ref" href="#115num_render_channels" title='num_render_channels' data-ref="115num_render_channels" data-ref-filename="115num_render_channels">num_render_channels</a>;</td></tr>
<tr><th id="412">412</th><td>  ;</td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td>  <b>constexpr</b> <em>float</em> <dfn class="local col6 decl" id="116kThreshold" title='kThreshold' data-type='const float' data-ref="116kThreshold" data-ref-filename="116kThreshold">kThreshold</dfn> = <var>50.f</var> * <var>50.f</var> * <var>64.f</var>;</td></tr>
<tr><th id="415">415</th><td>  <em>const</em> <em>bool</em> <dfn class="local col7 decl" id="117low_noise_render" title='low_noise_render' data-type='const bool' data-ref="117low_noise_render" data-ref-filename="117low_noise_render">low_noise_render</dfn> =</td></tr>
<tr><th id="416">416</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" title='webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_' data-ref="webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" data-ref-filename="webrtc..SuppressionGain..LowNoiseRenderDetector..average_power_">average_power_</a> &lt; <a class="local col6 ref" href="#116kThreshold" title='kThreshold' data-ref="116kThreshold" data-ref-filename="116kThreshold">kThreshold</a> &amp;&amp; <a class="local col1 ref" href="#111x2_max" title='x2_max' data-ref="111x2_max" data-ref-filename="111x2_max">x2_max</a> &lt; <var>3</var> * <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" title='webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_' data-ref="webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" data-ref-filename="webrtc..SuppressionGain..LowNoiseRenderDetector..average_power_">average_power_</a>;</td></tr>
<tr><th id="417">417</th><td>  <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" title='webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_' data-ref="webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" data-ref-filename="webrtc..SuppressionGain..LowNoiseRenderDetector..average_power_">average_power_</a> = <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" title='webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_' data-ref="webrtc::SuppressionGain::LowNoiseRenderDetector::average_power_" data-ref-filename="webrtc..SuppressionGain..LowNoiseRenderDetector..average_power_">average_power_</a> * <var>0.9f</var> + <a class="local col0 ref" href="#110x2_sum" title='x2_sum' data-ref="110x2_sum" data-ref-filename="110x2_sum">x2_sum</a> * <var>0.1f</var>;</td></tr>
<tr><th id="418">418</th><td>  <b>return</b> <a class="local col7 ref" href="#117low_noise_render" title='low_noise_render' data-ref="117low_noise_render" data-ref-filename="117low_noise_render">low_noise_render</a>;</td></tr>
<tr><th id="419">419</th><td>}</td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td><a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain" title='webrtc::SuppressionGain' data-ref="webrtc::SuppressionGain" data-ref-filename="webrtc..SuppressionGain">SuppressionGain</a>::<a class="type" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters" title='webrtc::SuppressionGain::GainParameters' data-ref="webrtc::SuppressionGain::GainParameters" data-ref-filename="webrtc..SuppressionGain..GainParameters">GainParameters</a>::<dfn class="decl def fn" id="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE" title='webrtc::SuppressionGain::GainParameters::GainParameters' data-ref="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE" data-ref-filename="_ZN6webrtc15SuppressionGain14GainParametersC1ERKNS_20EchoCanceller3Config10Suppressor6TuningE">GainParameters</dfn>(</td></tr>
<tr><th id="422">422</th><td>    <em>const</em> <a class="type" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config" title='webrtc::EchoCanceller3Config' data-ref="webrtc::EchoCanceller3Config" data-ref-filename="webrtc..EchoCanceller3Config">EchoCanceller3Config</a>::<a class="type" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor" title='webrtc::EchoCanceller3Config::Suppressor' data-ref="webrtc::EchoCanceller3Config::Suppressor" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor">Suppressor</a>::<a class="type" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::Tuning" title='webrtc::EchoCanceller3Config::Suppressor::Tuning' data-ref="webrtc::EchoCanceller3Config::Suppressor::Tuning" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..Tuning">Tuning</a>&amp; <dfn class="local col8 decl" id="118tuning" title='tuning' data-type='const EchoCanceller3Config::Suppressor::Tuning &amp;' data-ref="118tuning" data-ref-filename="118tuning">tuning</dfn>)</td></tr>
<tr><th id="423">423</th><td>    : <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::max_inc_factor" title='webrtc::SuppressionGain::GainParameters::max_inc_factor' data-ref="webrtc::SuppressionGain::GainParameters::max_inc_factor" data-ref-filename="webrtc..SuppressionGain..GainParameters..max_inc_factor">max_inc_factor</a>(<a class="local col8 ref" href="#118tuning" title='tuning' data-ref="118tuning" data-ref-filename="118tuning">tuning</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::Tuning::max_inc_factor" title='webrtc::EchoCanceller3Config::Suppressor::Tuning::max_inc_factor' data-ref="webrtc::EchoCanceller3Config::Suppressor::Tuning::max_inc_factor" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..Tuning..max_inc_factor">max_inc_factor</a>),</td></tr>
<tr><th id="424">424</th><td>      <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::max_dec_factor_lf" title='webrtc::SuppressionGain::GainParameters::max_dec_factor_lf' data-ref="webrtc::SuppressionGain::GainParameters::max_dec_factor_lf" data-ref-filename="webrtc..SuppressionGain..GainParameters..max_dec_factor_lf">max_dec_factor_lf</a>(<a class="local col8 ref" href="#118tuning" title='tuning' data-ref="118tuning" data-ref-filename="118tuning">tuning</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::Tuning::max_dec_factor_lf" title='webrtc::EchoCanceller3Config::Suppressor::Tuning::max_dec_factor_lf' data-ref="webrtc::EchoCanceller3Config::Suppressor::Tuning::max_dec_factor_lf" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..Tuning..max_dec_factor_lf">max_dec_factor_lf</a>) {</td></tr>
<tr><th id="425">425</th><td>  <i>// Compute per-band masking thresholds.</i></td></tr>
<tr><th id="426">426</th><td>  <b>constexpr</b> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col9 decl" id="119kLastLfBand" title='kLastLfBand' data-type='const size_t' data-ref="119kLastLfBand" data-ref-filename="119kLastLfBand">kLastLfBand</dfn> = <var>5</var>;</td></tr>
<tr><th id="427">427</th><td>  <b>constexpr</b> <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col0 decl" id="120kFirstHfBand" title='kFirstHfBand' data-type='const size_t' data-ref="120kFirstHfBand" data-ref-filename="120kFirstHfBand">kFirstHfBand</dfn> = <var>8</var>;</td></tr>
<tr><th id="428">428</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#433" title="::rtc::SafeLt((kLastLfBand), (kFirstHfBand)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 428, &quot;kLastLfBand&quot; &quot; &quot; &quot;&lt;&quot; &quot; &quot; &quot;kFirstHfBand&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (kLastLfBand) &lt;&lt; (kFirstHfBand)" data-ref="_M/RTC_DCHECK_LT">RTC_DCHECK_LT</a>(<a class="local col9 ref" href="#119kLastLfBand" title='kLastLfBand' data-ref="119kLastLfBand" data-ref-filename="119kLastLfBand">kLastLfBand</a>, <a class="local col0 ref" href="#120kFirstHfBand" title='kFirstHfBand' data-ref="120kFirstHfBand" data-ref-filename="120kFirstHfBand">kFirstHfBand</a>);</td></tr>
<tr><th id="429">429</th><td>  <em>auto</em>&amp; <dfn class="local col1 decl" id="121lf" title='lf' data-type='const webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds &amp;' data-ref="121lf" data-ref-filename="121lf">lf</dfn> = <a class="local col8 ref" href="#118tuning" title='tuning' data-ref="118tuning" data-ref-filename="118tuning">tuning</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::Tuning::mask_lf" title='webrtc::EchoCanceller3Config::Suppressor::Tuning::mask_lf' data-ref="webrtc::EchoCanceller3Config::Suppressor::Tuning::mask_lf" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..Tuning..mask_lf">mask_lf</a>;</td></tr>
<tr><th id="430">430</th><td>  <em>auto</em>&amp; <dfn class="local col2 decl" id="122hf" title='hf' data-type='const webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds &amp;' data-ref="122hf" data-ref-filename="122hf">hf</dfn> = <a class="local col8 ref" href="#118tuning" title='tuning' data-ref="118tuning" data-ref-filename="118tuning">tuning</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::Tuning::mask_hf" title='webrtc::EchoCanceller3Config::Suppressor::Tuning::mask_hf' data-ref="webrtc::EchoCanceller3Config::Suppressor::Tuning::mask_hf" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..Tuning..mask_hf">mask_hf</a>;</td></tr>
<tr><th id="431">431</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#433" title="::rtc::SafeLt((lf.enr_transparent), (lf.enr_suppress)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 431, &quot;lf.enr_transparent&quot; &quot; &quot; &quot;&lt;&quot; &quot; &quot; &quot;lf.enr_suppress&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (lf.enr_transparent) &lt;&lt; (lf.enr_suppress)" data-ref="_M/RTC_DCHECK_LT">RTC_DCHECK_LT</a>(<a class="local col1 ref" href="#121lf" title='lf' data-ref="121lf" data-ref-filename="121lf">lf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_transparent">enr_transparent</a>, <a class="local col1 ref" href="#121lf" title='lf' data-ref="121lf" data-ref-filename="121lf">lf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_suppress">enr_suppress</a>);</td></tr>
<tr><th id="432">432</th><td>  <a class="macro" href="../../../rtc_base/checks.h.html#433" title="::rtc::SafeLt((hf.enr_transparent), (hf.enr_suppress)) ? static_cast&lt;void&gt;(0) : ::rtc::webrtc_checks_impl::FatalLogCall&lt;true&gt;( &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/ThirdParty/libwebrtc/Source/webrtc/modules/audio_processing/aec3/suppression_gain.cc&quot;, 432, &quot;hf.enr_transparent&quot; &quot; &quot; &quot;&lt;&quot; &quot; &quot; &quot;hf.enr_suppress&quot;) &amp; ::rtc::webrtc_checks_impl::LogStreamer&lt;&gt;() &lt;&lt; (hf.enr_transparent) &lt;&lt; (hf.enr_suppress)" data-ref="_M/RTC_DCHECK_LT">RTC_DCHECK_LT</a>(<a class="local col2 ref" href="#122hf" title='hf' data-ref="122hf" data-ref-filename="122hf">hf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_transparent">enr_transparent</a>, <a class="local col2 ref" href="#122hf" title='hf' data-ref="122hf" data-ref-filename="122hf">hf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_suppress">enr_suppress</a>);</td></tr>
<tr><th id="433">433</th><td>  <b>for</b> (<span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col3 decl" id="123k" title='k' data-type='size_t' data-ref="123k" data-ref-filename="123k">k</dfn> = <var>0</var>; <a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a> &lt; <a class="ref" href="aec3_common.h.html#webrtc::kFftLengthBy2Plus1" title='webrtc::kFftLengthBy2Plus1' data-ref="webrtc::kFftLengthBy2Plus1" data-ref-filename="webrtc..kFftLengthBy2Plus1">kFftLengthBy2Plus1</a>; <a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a>++) {</td></tr>
<tr><th id="434">434</th><td>    <em>float</em> <dfn class="local col4 decl" id="124a" title='a' data-type='float' data-ref="124a" data-ref-filename="124a">a</dfn>;</td></tr>
<tr><th id="435">435</th><td>    <b>if</b> (<a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a> &lt;= <a class="local col9 ref" href="#119kLastLfBand" title='kLastLfBand' data-ref="119kLastLfBand" data-ref-filename="119kLastLfBand">kLastLfBand</a>) {</td></tr>
<tr><th id="436">436</th><td>      <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a> = <var>0.f</var>;</td></tr>
<tr><th id="437">437</th><td>    } <b>else</b> <b>if</b> (<a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a> &lt; <a class="local col0 ref" href="#120kFirstHfBand" title='kFirstHfBand' data-ref="120kFirstHfBand" data-ref-filename="120kFirstHfBand">kFirstHfBand</a>) {</td></tr>
<tr><th id="438">438</th><td>      <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a> = (<a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a> - <a class="local col9 ref" href="#119kLastLfBand" title='kLastLfBand' data-ref="119kLastLfBand" data-ref-filename="119kLastLfBand">kLastLfBand</a>) / <b>static_cast</b>&lt;<em>float</em>&gt;(<a class="local col0 ref" href="#120kFirstHfBand" title='kFirstHfBand' data-ref="120kFirstHfBand" data-ref-filename="120kFirstHfBand">kFirstHfBand</a> - <a class="local col9 ref" href="#119kLastLfBand" title='kLastLfBand' data-ref="119kLastLfBand" data-ref-filename="119kLastLfBand">kLastLfBand</a>);</td></tr>
<tr><th id="439">439</th><td>    } <b>else</b> {</td></tr>
<tr><th id="440">440</th><td>      <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a> = <var>1.f</var>;</td></tr>
<tr><th id="441">441</th><td>    }</td></tr>
<tr><th id="442">442</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::enr_transparent_" title='webrtc::SuppressionGain::GainParameters::enr_transparent_' data-ref="webrtc::SuppressionGain::GainParameters::enr_transparent_" data-ref-filename="webrtc..SuppressionGain..GainParameters..enr_transparent_">enr_transparent_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a>]</span> = (<var>1</var> - <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a>) * <a class="local col1 ref" href="#121lf" title='lf' data-ref="121lf" data-ref-filename="121lf">lf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_transparent">enr_transparent</a> + <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a> * <a class="local col2 ref" href="#122hf" title='hf' data-ref="122hf" data-ref-filename="122hf">hf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_transparent" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_transparent">enr_transparent</a>;</td></tr>
<tr><th id="443">443</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::enr_suppress_" title='webrtc::SuppressionGain::GainParameters::enr_suppress_' data-ref="webrtc::SuppressionGain::GainParameters::enr_suppress_" data-ref-filename="webrtc..SuppressionGain..GainParameters..enr_suppress_">enr_suppress_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a>]</span> = (<var>1</var> - <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a>) * <a class="local col1 ref" href="#121lf" title='lf' data-ref="121lf" data-ref-filename="121lf">lf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_suppress">enr_suppress</a> + <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a> * <a class="local col2 ref" href="#122hf" title='hf' data-ref="122hf" data-ref-filename="122hf">hf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::enr_suppress" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..enr_suppress">enr_suppress</a>;</td></tr>
<tr><th id="444">444</th><td>    <a class="member field" href="suppression_gain.h.html#webrtc::SuppressionGain::GainParameters::emr_transparent_" title='webrtc::SuppressionGain::GainParameters::emr_transparent_' data-ref="webrtc::SuppressionGain::GainParameters::emr_transparent_" data-ref-filename="webrtc..SuppressionGain..GainParameters..emr_transparent_">emr_transparent_</a><span class='ref fn' title='std::__1::array::operator[]' data-ref="_ZNSt3__15arrayixEm" data-ref-filename="_ZNSt3__15arrayixEm">[<a class="local col3 ref" href="#123k" title='k' data-ref="123k" data-ref-filename="123k">k</a>]</span> = (<var>1</var> - <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a>) * <a class="local col1 ref" href="#121lf" title='lf' data-ref="121lf" data-ref-filename="121lf">lf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::emr_transparent" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::emr_transparent' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::emr_transparent" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..emr_transparent">emr_transparent</a> + <a class="local col4 ref" href="#124a" title='a' data-ref="124a" data-ref-filename="124a">a</a> * <a class="local col2 ref" href="#122hf" title='hf' data-ref="122hf" data-ref-filename="122hf">hf</a>.<a class="ref field" href="../../../api/audio/echo_canceller3_config.h.html#webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::emr_transparent" title='webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::emr_transparent' data-ref="webrtc::EchoCanceller3Config::Suppressor::MaskingThresholds::emr_transparent" data-ref-filename="webrtc..EchoCanceller3Config..Suppressor..MaskingThresholds..emr_transparent">emr_transparent</a>;</td></tr>
<tr><th id="445">445</th><td>  }</td></tr>
<tr><th id="446">446</th><td>}</td></tr>
<tr><th id="447">447</th><td></td></tr>
<tr><th id="448">448</th><td>}  <i>// namespace webrtc</i></td></tr>
<tr><th id="449">449</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
