<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ApplyBlockElementCommand.cpp source code [webkit/Source/WebCore/editing/ApplyBlockElementCommand.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/WebCore/editing/ApplyBlockElementCommand.cpp'; var root_path = '../../../..'; var data_path = '../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>webkit</a>/<a href='../..'>Source</a>/<a href='..'>WebCore</a>/<a href='./'>editing</a>/<a href='ApplyBlockElementCommand.cpp.html'>ApplyBlockElementCommand.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (C) 2006, 2008 Apple Inc. All rights reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> * Copyright (C) 2010 Google Inc. All rights reserved.</i></td></tr>
<tr><th id="4">4</th><td><i> *</i></td></tr>
<tr><th id="5">5</th><td><i> * Redistribution and use in source and binary forms, with or without</i></td></tr>
<tr><th id="6">6</th><td><i> * modification, are permitted provided that the following conditions</i></td></tr>
<tr><th id="7">7</th><td><i> * are met:</i></td></tr>
<tr><th id="8">8</th><td><i> * 1. Redistributions of source code must retain the above copyright</i></td></tr>
<tr><th id="9">9</th><td><i> *    notice, this list of conditions and the following disclaimer.</i></td></tr>
<tr><th id="10">10</th><td><i> * 2. Redistributions in binary form must reproduce the above copyright</i></td></tr>
<tr><th id="11">11</th><td><i> *    notice, this list of conditions and the following disclaimer in the</i></td></tr>
<tr><th id="12">12</th><td><i> *    documentation and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="13">13</th><td><i> *</i></td></tr>
<tr><th id="14">14</th><td><i> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</i></td></tr>
<tr><th id="15">15</th><td><i> * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</i></td></tr>
<tr><th id="16">16</th><td><i> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</i></td></tr>
<tr><th id="17">17</th><td><i> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</i></td></tr>
<tr><th id="18">18</th><td><i> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</i></td></tr>
<tr><th id="19">19</th><td><i> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</i></td></tr>
<tr><th id="20">20</th><td><i> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</i></td></tr>
<tr><th id="21">21</th><td><i> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</i></td></tr>
<tr><th id="22">22</th><td><i> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</i></td></tr>
<tr><th id="23">23</th><td><i> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</i></td></tr>
<tr><th id="24">24</th><td><i> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</i></td></tr>
<tr><th id="25">25</th><td><i> */</i></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../config.h.html">"config.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="ApplyBlockElementCommand.h.html">"ApplyBlockElementCommand.h"</a></u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="Editing.h.html">"Editing.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../html/HTMLBRElement.h.html">"HTMLBRElement.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../../WebKitBuild/Debug/DerivedSources/WebCore/HTMLNames.h.html">"HTMLNames.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../rendering/RenderElement.h.html">"RenderElement.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../rendering/style/RenderStyle.h.html">"RenderStyle.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../dom/Text.h.html">"Text.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="VisibleUnits.h.html">"VisibleUnits.h"</a></u></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><b>namespace</b> <span class="namespace">WebCore</span> {</td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><b>using</b> <b>namespace</b> <span class="namespace">HTMLNames</span>;</td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="decl def fn" id="_ZN7WebCore24ApplyBlockElementCommandC1ERNS_8DocumentERKNS_13QualifiedNameERKN3WTF10AtomStringE" title='WebCore::ApplyBlockElementCommand::ApplyBlockElementCommand' data-ref="_ZN7WebCore24ApplyBlockElementCommandC1ERNS_8DocumentERKNS_13QualifiedNameERKN3WTF10AtomStringE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommandC1ERNS_8DocumentERKNS_13QualifiedNameERKN3WTF10AtomStringE">ApplyBlockElementCommand</dfn>(<a class="type" href="../dom/Document.h.html#WebCore::Document" title='WebCore::Document' data-ref="WebCore::Document" data-ref-filename="WebCore..Document">Document</a>&amp; <dfn class="local col8 decl" id="238document" title='document' data-type='WebCore::Document &amp;' data-ref="238document" data-ref-filename="238document">document</dfn>, <em>const</em> <a class="type" href="../dom/QualifiedName.h.html#WebCore::QualifiedName" title='WebCore::QualifiedName' data-ref="WebCore::QualifiedName" data-ref-filename="WebCore..QualifiedName">QualifiedName</a>&amp; <dfn class="local col9 decl" id="239tagName" title='tagName' data-type='const WebCore::QualifiedName &amp;' data-ref="239tagName" data-ref-filename="239tagName">tagName</dfn>, <em>const</em> <a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/text/AtomString.h.html#WTF::AtomString" title='WTF::AtomString' data-ref="WTF::AtomString" data-ref-filename="WTF..AtomString">AtomString</a>&amp; <dfn class="local col0 decl" id="240inlineStyle" title='inlineStyle' data-type='const WTF::AtomString &amp;' data-ref="240inlineStyle" data-ref-filename="240inlineStyle">inlineStyle</dfn>)</td></tr>
<tr><th id="43">43</th><td>    : <a class="type" href="CompositeEditCommand.h.html#WebCore::CompositeEditCommand" title='WebCore::CompositeEditCommand' data-ref="WebCore::CompositeEditCommand" data-ref-filename="WebCore..CompositeEditCommand">CompositeEditCommand</a><a class="ref fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommandC1ERNS_8DocumentENS_10EditActionE" title='WebCore::CompositeEditCommand::CompositeEditCommand' data-ref="_ZN7WebCore20CompositeEditCommandC1ERNS_8DocumentENS_10EditActionE" data-ref-filename="_ZN7WebCore20CompositeEditCommandC1ERNS_8DocumentENS_10EditActionE">(</a><a class="local col8 ref" href="#238document" title='document' data-ref="238document" data-ref-filename="238document">document</a>)</td></tr>
<tr><th id="44">44</th><td>    , <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_tagName" title='WebCore::ApplyBlockElementCommand::m_tagName' data-ref="WebCore::ApplyBlockElementCommand::m_tagName" data-ref-filename="WebCore..ApplyBlockElementCommand..m_tagName">m_tagName</a><a class="ref fn" href="../dom/QualifiedName.h.html#38" title='WebCore::QualifiedName::QualifiedName' data-ref="_ZN7WebCore13QualifiedNameC1ERKS0_" data-ref-filename="_ZN7WebCore13QualifiedNameC1ERKS0_">(</a><a class="local col9 ref" href="#239tagName" title='tagName' data-ref="239tagName" data-ref-filename="239tagName">tagName</a>)</td></tr>
<tr><th id="45">45</th><td>    , <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_inlineStyle" title='WebCore::ApplyBlockElementCommand::m_inlineStyle' data-ref="WebCore::ApplyBlockElementCommand::m_inlineStyle" data-ref-filename="WebCore..ApplyBlockElementCommand..m_inlineStyle">m_inlineStyle</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/text/AtomString.h.html#_ZN3WTF10AtomStringC1ERKS0_" title='WTF::AtomString::AtomString' data-ref="_ZN3WTF10AtomStringC1ERKS0_" data-ref-filename="_ZN3WTF10AtomStringC1ERKS0_">(</a><a class="local col0 ref" href="#240inlineStyle" title='inlineStyle' data-ref="240inlineStyle" data-ref-filename="240inlineStyle">inlineStyle</a>)</td></tr>
<tr><th id="46">46</th><td>{</td></tr>
<tr><th id="47">47</th><td>}</td></tr>
<tr><th id="48">48</th><td></td></tr>
<tr><th id="49">49</th><td><a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="decl def fn" id="_ZN7WebCore24ApplyBlockElementCommandC1ERNS_8DocumentERKNS_13QualifiedNameE" title='WebCore::ApplyBlockElementCommand::ApplyBlockElementCommand' data-ref="_ZN7WebCore24ApplyBlockElementCommandC1ERNS_8DocumentERKNS_13QualifiedNameE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommandC1ERNS_8DocumentERKNS_13QualifiedNameE">ApplyBlockElementCommand</dfn>(<a class="type" href="../dom/Document.h.html#WebCore::Document" title='WebCore::Document' data-ref="WebCore::Document" data-ref-filename="WebCore..Document">Document</a>&amp; <dfn class="local col1 decl" id="241document" title='document' data-type='WebCore::Document &amp;' data-ref="241document" data-ref-filename="241document">document</dfn>, <em>const</em> <a class="type" href="../dom/QualifiedName.h.html#WebCore::QualifiedName" title='WebCore::QualifiedName' data-ref="WebCore::QualifiedName" data-ref-filename="WebCore..QualifiedName">QualifiedName</a>&amp; <dfn class="local col2 decl" id="242tagName" title='tagName' data-type='const WebCore::QualifiedName &amp;' data-ref="242tagName" data-ref-filename="242tagName">tagName</dfn>)</td></tr>
<tr><th id="50">50</th><td>    : <a class="type" href="CompositeEditCommand.h.html#WebCore::CompositeEditCommand" title='WebCore::CompositeEditCommand' data-ref="WebCore::CompositeEditCommand" data-ref-filename="WebCore..CompositeEditCommand">CompositeEditCommand</a><a class="ref fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommandC1ERNS_8DocumentENS_10EditActionE" title='WebCore::CompositeEditCommand::CompositeEditCommand' data-ref="_ZN7WebCore20CompositeEditCommandC1ERNS_8DocumentENS_10EditActionE" data-ref-filename="_ZN7WebCore20CompositeEditCommandC1ERNS_8DocumentENS_10EditActionE">(</a><a class="local col1 ref" href="#241document" title='document' data-ref="241document" data-ref-filename="241document">document</a>)</td></tr>
<tr><th id="51">51</th><td>    , <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_tagName" title='WebCore::ApplyBlockElementCommand::m_tagName' data-ref="WebCore::ApplyBlockElementCommand::m_tagName" data-ref-filename="WebCore..ApplyBlockElementCommand..m_tagName">m_tagName</a><a class="ref fn" href="../dom/QualifiedName.h.html#38" title='WebCore::QualifiedName::QualifiedName' data-ref="_ZN7WebCore13QualifiedNameC1ERKS0_" data-ref-filename="_ZN7WebCore13QualifiedNameC1ERKS0_">(</a><a class="local col2 ref" href="#242tagName" title='tagName' data-ref="242tagName" data-ref-filename="242tagName">tagName</a>)</td></tr>
<tr><th id="52">52</th><td>{</td></tr>
<tr><th id="53">53</th><td>}</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><em>void</em> <a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="virtual decl def fn" id="_ZN7WebCore24ApplyBlockElementCommand7doApplyEv" title='WebCore::ApplyBlockElementCommand::doApply' data-ref="_ZN7WebCore24ApplyBlockElementCommand7doApplyEv" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand7doApplyEv">doApply</dfn>()</td></tr>
<tr><th id="56">56</th><td>{</td></tr>
<tr><th id="57">57</th><td>    <b>if</b> (!<a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>().<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection19rootEditableElementEv" title='WebCore::VisibleSelection::rootEditableElement' data-ref="_ZNK7WebCore16VisibleSelection19rootEditableElementEv" data-ref-filename="_ZNK7WebCore16VisibleSelection19rootEditableElementEv">rootEditableElement</a>())</td></tr>
<tr><th id="58">58</th><td>        <b>return</b>;</td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col3 decl" id="243visibleEnd" title='visibleEnd' data-type='WebCore::VisiblePosition' data-ref="243visibleEnd" data-ref-filename="243visibleEnd">visibleEnd</dfn> = <a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>().<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection10visibleEndEv" title='WebCore::VisibleSelection::visibleEnd' data-ref="_ZNK7WebCore16VisibleSelection10visibleEndEv" data-ref-filename="_ZNK7WebCore16VisibleSelection10visibleEndEv">visibleEnd</a>();</td></tr>
<tr><th id="61">61</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col4 decl" id="244visibleStart" title='visibleStart' data-type='WebCore::VisiblePosition' data-ref="244visibleStart" data-ref-filename="244visibleStart">visibleStart</dfn> = <a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>().<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection12visibleStartEv" title='WebCore::VisibleSelection::visibleStart' data-ref="_ZNK7WebCore16VisibleSelection12visibleStartEv" data-ref-filename="_ZNK7WebCore16VisibleSelection12visibleStartEv">visibleStart</a>();</td></tr>
<tr><th id="62">62</th><td>    <b>if</b> (<a class="local col4 ref" href="#244visibleStart" title='visibleStart' data-ref="244visibleStart" data-ref-filename="244visibleStart">visibleStart</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition6isNullEv" title='WebCore::VisiblePosition::isNull' data-ref="_ZNK7WebCore15VisiblePosition6isNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition6isNullEv">isNull</a>() || <a class="local col4 ref" href="#244visibleStart" title='visibleStart' data-ref="244visibleStart" data-ref-filename="244visibleStart">visibleStart</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition8isOrphanEv" title='WebCore::VisiblePosition::isOrphan' data-ref="_ZNK7WebCore15VisiblePosition8isOrphanEv" data-ref-filename="_ZNK7WebCore15VisiblePosition8isOrphanEv">isOrphan</a>() || <a class="local col3 ref" href="#243visibleEnd" title='visibleEnd' data-ref="243visibleEnd" data-ref-filename="243visibleEnd">visibleEnd</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition6isNullEv" title='WebCore::VisiblePosition::isNull' data-ref="_ZNK7WebCore15VisiblePosition6isNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition6isNullEv">isNull</a>() || <a class="local col3 ref" href="#243visibleEnd" title='visibleEnd' data-ref="243visibleEnd" data-ref-filename="243visibleEnd">visibleEnd</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition8isOrphanEv" title='WebCore::VisiblePosition::isOrphan' data-ref="_ZNK7WebCore15VisiblePosition8isOrphanEv" data-ref-filename="_ZNK7WebCore15VisiblePosition8isOrphanEv">isOrphan</a>())</td></tr>
<tr><th id="63">63</th><td>        <b>return</b>;</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td>    <i>// When a selection ends at the start of a paragraph, we rarely paint </i></td></tr>
<tr><th id="66">66</th><td><i>    // the selection gap before that paragraph, because there often is no gap.  </i></td></tr>
<tr><th id="67">67</th><td><i>    // In a case like this, it's not obvious to the user that the selection </i></td></tr>
<tr><th id="68">68</th><td><i>    // ends "inside" that paragraph, so it would be confusing if Indent/Outdent </i></td></tr>
<tr><th id="69">69</th><td><i>    // operated on that paragraph.</i></td></tr>
<tr><th id="70">70</th><td><i>    // FIXME: We paint the gap before some paragraphs that are indented with left </i></td></tr>
<tr><th id="71">71</th><td><i>    // margin/padding, but not others.  We should make the gap painting more consistent and </i></td></tr>
<tr><th id="72">72</th><td><i>    // then use a left margin/padding rule here.</i></td></tr>
<tr><th id="73">73</th><td>    <b>if</b> (<a class="local col3 ref" href="#243visibleEnd" title='visibleEnd' data-ref="243visibleEnd" data-ref-filename="243visibleEnd">visibleEnd</a> <a class="ref fn" href="VisiblePosition.h.html#_ZN7WebCoreneERKNS_15VisiblePositionES2_" title='WebCore::operator!=' data-ref="_ZN7WebCoreneERKNS_15VisiblePositionES2_" data-ref-filename="_ZN7WebCoreneERKNS_15VisiblePositionES2_">!=</a> <a class="local col4 ref" href="#244visibleStart" title='visibleStart' data-ref="244visibleStart" data-ref-filename="244visibleStart">visibleStart</a> &amp;&amp; <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore18isStartOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::isStartOfParagraph' data-ref="_ZN7WebCore18isStartOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore18isStartOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">isStartOfParagraph</a>(<a class="local col3 ref" href="#243visibleEnd" title='visibleEnd' data-ref="243visibleEnd" data-ref-filename="243visibleEnd">visibleEnd</a>)) {</td></tr>
<tr><th id="74">74</th><td>        <a class="type" href="VisibleSelection.h.html#WebCore::VisibleSelection" title='WebCore::VisibleSelection' data-ref="WebCore::VisibleSelection" data-ref-filename="WebCore..VisibleSelection">VisibleSelection</a> <dfn class="local col5 decl" id="245newSelection" title='newSelection' data-type='WebCore::VisibleSelection' data-ref="245newSelection" data-ref-filename="245newSelection">newSelection</dfn><a class="ref fn" href="VisibleSelection.h.html#_ZN7WebCore16VisibleSelectionC1ERKNS_15VisiblePositionES3_b" title='WebCore::VisibleSelection::VisibleSelection' data-ref="_ZN7WebCore16VisibleSelectionC1ERKNS_15VisiblePositionES3_b" data-ref-filename="_ZN7WebCore16VisibleSelectionC1ERKNS_15VisiblePositionES3_b">(</a><a class="local col4 ref" href="#244visibleStart" title='visibleStart' data-ref="244visibleStart" data-ref-filename="244visibleStart">visibleStart</a>, <a class="local col3 ref" href="#243visibleEnd" title='visibleEnd' data-ref="243visibleEnd" data-ref-filename="243visibleEnd">visibleEnd</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition8previousENS_27EditingBoundaryCrossingRuleEPb" title='WebCore::VisiblePosition::previous' data-ref="_ZNK7WebCore15VisiblePosition8previousENS_27EditingBoundaryCrossingRuleEPb" data-ref-filename="_ZNK7WebCore15VisiblePosition8previousENS_27EditingBoundaryCrossingRuleEPb">previous</a>(<a class="enum" href="EditingBoundary.h.html#WebCore::CannotCrossEditingBoundary" title='WebCore::CannotCrossEditingBoundary' data-ref="WebCore::CannotCrossEditingBoundary" data-ref-filename="WebCore..CannotCrossEditingBoundary">CannotCrossEditingBoundary</a>), <a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>().<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection13isDirectionalEv" title='WebCore::VisibleSelection::isDirectional' data-ref="_ZNK7WebCore16VisibleSelection13isDirectionalEv" data-ref-filename="_ZNK7WebCore16VisibleSelection13isDirectionalEv">isDirectional</a>());</td></tr>
<tr><th id="75">75</th><td>        <b>if</b> (<a class="local col5 ref" href="#245newSelection" title='newSelection' data-ref="245newSelection" data-ref-filename="245newSelection">newSelection</a>.<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection6isNoneEv" title='WebCore::VisibleSelection::isNone' data-ref="_ZNK7WebCore16VisibleSelection6isNoneEv" data-ref-filename="_ZNK7WebCore16VisibleSelection6isNoneEv">isNone</a>())</td></tr>
<tr><th id="76">76</th><td>            <b>return</b>;</td></tr>
<tr><th id="77">77</th><td>        <a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE" title='WebCore::EditCommand::setEndingSelection' data-ref="_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE" data-ref-filename="_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE">setEndingSelection</a>(<a class="local col5 ref" href="#245newSelection" title='newSelection' data-ref="245newSelection" data-ref-filename="245newSelection">newSelection</a>);</td></tr>
<tr><th id="78">78</th><td>    }</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td>    <a class="type" href="VisibleSelection.h.html#WebCore::VisibleSelection" title='WebCore::VisibleSelection' data-ref="WebCore::VisibleSelection" data-ref-filename="WebCore..VisibleSelection">VisibleSelection</a> <dfn class="local col6 decl" id="246selection" title='selection' data-type='WebCore::VisibleSelection' data-ref="246selection" data-ref-filename="246selection">selection</dfn> = <a class="ref fn" href="Editing.h.html#_ZN7WebCore30selectionForParagraphIterationERKNS_16VisibleSelectionE" title='WebCore::selectionForParagraphIteration' data-ref="_ZN7WebCore30selectionForParagraphIterationERKNS_16VisibleSelectionE" data-ref-filename="_ZN7WebCore30selectionForParagraphIterationERKNS_16VisibleSelectionE">selectionForParagraphIteration</a>(<a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>());</td></tr>
<tr><th id="81">81</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col7 decl" id="247startOfSelection" title='startOfSelection' data-type='WebCore::VisiblePosition' data-ref="247startOfSelection" data-ref-filename="247startOfSelection">startOfSelection</dfn> = <a class="local col6 ref" href="#246selection" title='selection' data-ref="246selection" data-ref-filename="246selection">selection</a>.<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection12visibleStartEv" title='WebCore::VisibleSelection::visibleStart' data-ref="_ZNK7WebCore16VisibleSelection12visibleStartEv" data-ref-filename="_ZNK7WebCore16VisibleSelection12visibleStartEv">visibleStart</a>();</td></tr>
<tr><th id="82">82</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col8 decl" id="248endOfSelection" title='endOfSelection' data-type='WebCore::VisiblePosition' data-ref="248endOfSelection" data-ref-filename="248endOfSelection">endOfSelection</dfn> = <a class="local col6 ref" href="#246selection" title='selection' data-ref="246selection" data-ref-filename="246selection">selection</a>.<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection10visibleEndEv" title='WebCore::VisibleSelection::visibleEnd' data-ref="_ZNK7WebCore16VisibleSelection10visibleEndEv" data-ref-filename="_ZNK7WebCore16VisibleSelection10visibleEndEv">visibleEnd</a>();</td></tr>
<tr><th id="83">83</th><td>    <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!startOfSelection.isNull())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 83, __PRETTY_FUNCTION__, &quot;!startOfSelection.isNull()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(83, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 955); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!<a class="local col7 ref" href="#247startOfSelection" title='startOfSelection' data-ref="247startOfSelection" data-ref-filename="247startOfSelection">startOfSelection</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition6isNullEv" title='WebCore::VisiblePosition::isNull' data-ref="_ZNK7WebCore15VisiblePosition6isNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition6isNullEv">isNull</a>());</td></tr>
<tr><th id="84">84</th><td>    <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(!endOfSelection.isNull())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 84, __PRETTY_FUNCTION__, &quot;!endOfSelection.isNull()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(84, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 957); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(!<a class="local col8 ref" href="#248endOfSelection" title='endOfSelection' data-ref="248endOfSelection" data-ref-filename="248endOfSelection">endOfSelection</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition6isNullEv" title='WebCore::VisiblePosition::isNull' data-ref="_ZNK7WebCore15VisiblePosition6isNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition6isNullEv">isNull</a>());</td></tr>
<tr><th id="85">85</th><td>    <a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RefPtr" title='WTF::RefPtr' data-ref="WTF::RefPtr" data-ref-filename="WTF..RefPtr">RefPtr</a>&lt;<a class="type" href="../dom/ContainerNode.h.html#WebCore::ContainerNode" title='WebCore::ContainerNode' data-ref="WebCore::ContainerNode" data-ref-filename="WebCore..ContainerNode">ContainerNode</a>&gt; <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1Ev" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1Ev" data-ref-filename="_ZN3WTF6RefPtrC1Ev"></a><dfn class="local col9 decl" id="249startScope" title='startScope' data-type='RefPtr&lt;WebCore::ContainerNode&gt;' data-ref="249startScope" data-ref-filename="249startScope">startScope</dfn>;</td></tr>
<tr><th id="86">86</th><td>    <em>int</em> <dfn class="local col0 decl" id="250startIndex" title='startIndex' data-type='int' data-ref="250startIndex" data-ref-filename="250startIndex">startIndex</dfn> = <a class="ref fn" href="Editing.h.html#_ZN7WebCore23indexForVisiblePositionERKNS_15VisiblePositionERN3WTF6RefPtrINS_13ContainerNodeENS3_12RawPtrTraitsIS5_EENS3_21DefaultRefDerefTraitsIS5_EEEE" title='WebCore::indexForVisiblePosition' data-ref="_ZN7WebCore23indexForVisiblePositionERKNS_15VisiblePositionERN3WTF6RefPtrINS_13ContainerNodeENS3_12RawPtrTraitsIS5_EENS3_21DefaultRefDerefTraitsIS5_EEEE" data-ref-filename="_ZN7WebCore23indexForVisiblePositionERKNS_15VisiblePositionERN3WTF6RefPtrINS_13ContainerNodeENS3_12RawPtrTraitsIS5_EENS3_21DefaultRefDerefTraitsIS5_EEEE">indexForVisiblePosition</a>(<a class="local col7 ref" href="#247startOfSelection" title='startOfSelection' data-ref="247startOfSelection" data-ref-filename="247startOfSelection">startOfSelection</a>, <span class='refarg'><a class="local col9 ref" href="#249startScope" title='startScope' data-ref="249startScope" data-ref-filename="249startScope">startScope</a></span>);</td></tr>
<tr><th id="87">87</th><td>    <a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RefPtr" title='WTF::RefPtr' data-ref="WTF::RefPtr" data-ref-filename="WTF..RefPtr">RefPtr</a>&lt;<a class="type" href="../dom/ContainerNode.h.html#WebCore::ContainerNode" title='WebCore::ContainerNode' data-ref="WebCore::ContainerNode" data-ref-filename="WebCore..ContainerNode">ContainerNode</a>&gt; <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1Ev" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1Ev" data-ref-filename="_ZN3WTF6RefPtrC1Ev"></a><dfn class="local col1 decl" id="251endScope" title='endScope' data-type='RefPtr&lt;WebCore::ContainerNode&gt;' data-ref="251endScope" data-ref-filename="251endScope">endScope</dfn>;</td></tr>
<tr><th id="88">88</th><td>    <em>int</em> <dfn class="local col2 decl" id="252endIndex" title='endIndex' data-type='int' data-ref="252endIndex" data-ref-filename="252endIndex">endIndex</dfn> = <a class="ref fn" href="Editing.h.html#_ZN7WebCore23indexForVisiblePositionERKNS_15VisiblePositionERN3WTF6RefPtrINS_13ContainerNodeENS3_12RawPtrTraitsIS5_EENS3_21DefaultRefDerefTraitsIS5_EEEE" title='WebCore::indexForVisiblePosition' data-ref="_ZN7WebCore23indexForVisiblePositionERKNS_15VisiblePositionERN3WTF6RefPtrINS_13ContainerNodeENS3_12RawPtrTraitsIS5_EENS3_21DefaultRefDerefTraitsIS5_EEEE" data-ref-filename="_ZN7WebCore23indexForVisiblePositionERKNS_15VisiblePositionERN3WTF6RefPtrINS_13ContainerNodeENS3_12RawPtrTraitsIS5_EENS3_21DefaultRefDerefTraitsIS5_EEEE">indexForVisiblePosition</a>(<a class="local col8 ref" href="#248endOfSelection" title='endOfSelection' data-ref="248endOfSelection" data-ref-filename="248endOfSelection">endOfSelection</a>, <span class='refarg'><a class="local col1 ref" href="#251endScope" title='endScope' data-ref="251endScope" data-ref-filename="251endScope">endScope</a></span>);</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td>    <a class="virtual member fn" href="#_ZN7WebCore24ApplyBlockElementCommand15formatSelectionERKNS_15VisiblePositionES3_" title='WebCore::ApplyBlockElementCommand::formatSelection' data-ref="_ZN7WebCore24ApplyBlockElementCommand15formatSelectionERKNS_15VisiblePositionES3_" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand15formatSelectionERKNS_15VisiblePositionES3_">formatSelection</a>(<a class="local col7 ref" href="#247startOfSelection" title='startOfSelection' data-ref="247startOfSelection" data-ref-filename="247startOfSelection">startOfSelection</a>, <a class="local col8 ref" href="#248endOfSelection" title='endOfSelection' data-ref="248endOfSelection" data-ref-filename="248endOfSelection">endOfSelection</a>);</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>    <a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand8documentEv" title='WebCore::EditCommand::document' data-ref="_ZN7WebCore11EditCommand8documentEv" data-ref-filename="_ZN7WebCore11EditCommand8documentEv">document</a>().<a class="ref fn" href="../dom/Document.h.html#_ZN7WebCore8Document36updateLayoutIgnorePendingStylesheetsENS0_18RunPostLayoutTasksE" title='WebCore::Document::updateLayoutIgnorePendingStylesheets' data-ref="_ZN7WebCore8Document36updateLayoutIgnorePendingStylesheetsENS0_18RunPostLayoutTasksE" data-ref-filename="_ZN7WebCore8Document36updateLayoutIgnorePendingStylesheetsENS0_18RunPostLayoutTasksE">updateLayoutIgnorePendingStylesheets</a>();</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>    <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(startScope == endScope)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 94, __PRETTY_FUNCTION__, &quot;startScope == endScope&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(94, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 959); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col9 ref" href="#249startScope" title='startScope' data-ref="249startScope" data-ref-filename="249startScope">startScope</a> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EERKNS0_IT2_T3_T4_EE" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EERKNS0_IT2_T3_T4_EE" data-ref-filename="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EERKNS0_IT2_T3_T4_EE">==</a> <a class="local col1 ref" href="#251endScope" title='endScope' data-ref="251endScope" data-ref-filename="251endScope">endScope</a>);</td></tr>
<tr><th id="95">95</th><td>    <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(startIndex &gt;= 0)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 95, __PRETTY_FUNCTION__, &quot;startIndex &gt;= 0&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(95, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 961); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col0 ref" href="#250startIndex" title='startIndex' data-ref="250startIndex" data-ref-filename="250startIndex">startIndex</a> &gt;= <var>0</var>);</td></tr>
<tr><th id="96">96</th><td>    <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(startIndex &lt;= endIndex)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 96, __PRETTY_FUNCTION__, &quot;startIndex &lt;= endIndex&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(96, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 963); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col0 ref" href="#250startIndex" title='startIndex' data-ref="250startIndex" data-ref-filename="250startIndex">startIndex</a> &lt;= <a class="local col2 ref" href="#252endIndex" title='endIndex' data-ref="252endIndex" data-ref-filename="252endIndex">endIndex</a>);</td></tr>
<tr><th id="97">97</th><td>    <b>if</b> (<a class="local col9 ref" href="#249startScope" title='startScope' data-ref="249startScope" data-ref-filename="249startScope">startScope</a> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EERKNS0_IT2_T3_T4_EE" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EERKNS0_IT2_T3_T4_EE" data-ref-filename="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EERKNS0_IT2_T3_T4_EE">==</a> <a class="local col1 ref" href="#251endScope" title='endScope' data-ref="251endScope" data-ref-filename="251endScope">endScope</a> &amp;&amp; <a class="local col0 ref" href="#250startIndex" title='startIndex' data-ref="250startIndex" data-ref-filename="250startIndex">startIndex</a> &gt;= <var>0</var> &amp;&amp; <a class="local col0 ref" href="#250startIndex" title='startIndex' data-ref="250startIndex" data-ref-filename="250startIndex">startIndex</a> &lt;= <a class="local col2 ref" href="#252endIndex" title='endIndex' data-ref="252endIndex" data-ref-filename="252endIndex">endIndex</a>) {</td></tr>
<tr><th id="98">98</th><td>        <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col3 decl" id="253start" title='start' data-type='WebCore::VisiblePosition' data-ref="253start" data-ref-filename="253start">start</dfn>(<a class="ref fn" href="Editing.h.html#_ZN7WebCore23visiblePositionForIndexEiPNS_13ContainerNodeE" title='WebCore::visiblePositionForIndex' data-ref="_ZN7WebCore23visiblePositionForIndexEiPNS_13ContainerNodeE" data-ref-filename="_ZN7WebCore23visiblePositionForIndexEiPNS_13ContainerNodeE">visiblePositionForIndex</a>(<a class="local col0 ref" href="#250startIndex" title='startIndex' data-ref="250startIndex" data-ref-filename="250startIndex">startIndex</a>, <a class="local col9 ref" href="#249startScope" title='startScope' data-ref="249startScope" data-ref-filename="249startScope">startScope</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>()));</td></tr>
<tr><th id="99">99</th><td>        <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col4 decl" id="254end" title='end' data-type='WebCore::VisiblePosition' data-ref="254end" data-ref-filename="254end">end</dfn>(<a class="ref fn" href="Editing.h.html#_ZN7WebCore23visiblePositionForIndexEiPNS_13ContainerNodeE" title='WebCore::visiblePositionForIndex' data-ref="_ZN7WebCore23visiblePositionForIndexEiPNS_13ContainerNodeE" data-ref-filename="_ZN7WebCore23visiblePositionForIndexEiPNS_13ContainerNodeE">visiblePositionForIndex</a>(<a class="local col2 ref" href="#252endIndex" title='endIndex' data-ref="252endIndex" data-ref-filename="252endIndex">endIndex</a>, <a class="local col1 ref" href="#251endScope" title='endScope' data-ref="251endScope" data-ref-filename="251endScope">endScope</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>()));</td></tr>
<tr><th id="100">100</th><td>        <i>// Work around the fact indexForVisiblePosition can return a larger index due to TextIterator</i></td></tr>
<tr><th id="101">101</th><td><i>        // using an extra newline to represent a large margin.</i></td></tr>
<tr><th id="102">102</th><td><i>        // FIXME: Add a new TextIteratorBehavior to suppress it.</i></td></tr>
<tr><th id="103">103</th><td>        <b>if</b> (<a class="local col3 ref" href="#253start" title='start' data-ref="253start" data-ref-filename="253start">start</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition9isNotNullEv" title='WebCore::VisiblePosition::isNotNull' data-ref="_ZNK7WebCore15VisiblePosition9isNotNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition9isNotNullEv">isNotNull</a>() &amp;&amp; <a class="local col4 ref" href="#254end" title='end' data-ref="254end" data-ref-filename="254end">end</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition6isNullEv" title='WebCore::VisiblePosition::isNull' data-ref="_ZNK7WebCore15VisiblePosition6isNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition6isNullEv">isNull</a>())</td></tr>
<tr><th id="104">104</th><td>            <a class="local col4 ref" href="#254end" title='end' data-ref="254end" data-ref-filename="254end">end</a> <a class="ref fn" href="VisiblePosition.h.html#33" title='WebCore::VisiblePosition::operator=' data-ref="_ZN7WebCore15VisiblePositionaSEOS0_" data-ref-filename="_ZN7WebCore15VisiblePositionaSEOS0_">=</a> <a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore18lastPositionInNodeEPNS_4NodeE" title='WebCore::lastPositionInNode' data-ref="_ZN7WebCore18lastPositionInNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore18lastPositionInNodeEPNS_4NodeE">lastPositionInNode</a>(<a class="local col1 ref" href="#251endScope" title='endScope' data-ref="251endScope" data-ref-filename="251endScope">endScope</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>());</td></tr>
<tr><th id="105">105</th><td>        <b>if</b> (<a class="local col3 ref" href="#253start" title='start' data-ref="253start" data-ref-filename="253start">start</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition9isNotNullEv" title='WebCore::VisiblePosition::isNotNull' data-ref="_ZNK7WebCore15VisiblePosition9isNotNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition9isNotNullEv">isNotNull</a>() &amp;&amp; <a class="local col4 ref" href="#254end" title='end' data-ref="254end" data-ref-filename="254end">end</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition9isNotNullEv" title='WebCore::VisiblePosition::isNotNull' data-ref="_ZNK7WebCore15VisiblePosition9isNotNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition9isNotNullEv">isNotNull</a>())</td></tr>
<tr><th id="106">106</th><td>            <a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE" title='WebCore::EditCommand::setEndingSelection' data-ref="_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE" data-ref-filename="_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE">setEndingSelection</a>(<a class="type" href="VisibleSelection.h.html#WebCore::VisibleSelection" title='WebCore::VisibleSelection' data-ref="WebCore::VisibleSelection" data-ref-filename="WebCore..VisibleSelection">VisibleSelection</a><a class="ref fn" href="VisibleSelection.h.html#_ZN7WebCore16VisibleSelectionC1ERKNS_15VisiblePositionES3_b" title='WebCore::VisibleSelection::VisibleSelection' data-ref="_ZN7WebCore16VisibleSelectionC1ERKNS_15VisiblePositionES3_b" data-ref-filename="_ZN7WebCore16VisibleSelectionC1ERKNS_15VisiblePositionES3_b">(</a><a class="local col3 ref" href="#253start" title='start' data-ref="253start" data-ref-filename="253start">start</a>, <a class="local col4 ref" href="#254end" title='end' data-ref="254end" data-ref-filename="254end">end</a>, <a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>().<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection13isDirectionalEv" title='WebCore::VisibleSelection::isDirectional' data-ref="_ZNK7WebCore16VisibleSelection13isDirectionalEv" data-ref-filename="_ZNK7WebCore16VisibleSelection13isDirectionalEv">isDirectional</a>()));</td></tr>
<tr><th id="107">107</th><td>    }</td></tr>
<tr><th id="108">108</th><td>}</td></tr>
<tr><th id="109">109</th><td></td></tr>
<tr><th id="110">110</th><td><em>void</em> <a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="virtual decl def fn" id="_ZN7WebCore24ApplyBlockElementCommand15formatSelectionERKNS_15VisiblePositionES3_" title='WebCore::ApplyBlockElementCommand::formatSelection' data-ref="_ZN7WebCore24ApplyBlockElementCommand15formatSelectionERKNS_15VisiblePositionES3_" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand15formatSelectionERKNS_15VisiblePositionES3_">formatSelection</dfn>(<em>const</em> <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a>&amp; <dfn class="local col5 decl" id="255startOfSelection" title='startOfSelection' data-type='const WebCore::VisiblePosition &amp;' data-ref="255startOfSelection" data-ref-filename="255startOfSelection">startOfSelection</dfn>, <em>const</em> <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a>&amp; <dfn class="local col6 decl" id="256endOfSelection" title='endOfSelection' data-type='const WebCore::VisiblePosition &amp;' data-ref="256endOfSelection" data-ref-filename="256endOfSelection">endOfSelection</dfn>)</td></tr>
<tr><th id="111">111</th><td>{</td></tr>
<tr><th id="112">112</th><td>    <i>// Special case empty unsplittable elements because there's nothing to split</i></td></tr>
<tr><th id="113">113</th><td><i>    // and there's nothing to move.</i></td></tr>
<tr><th id="114">114</th><td>    <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a> <dfn class="local col7 decl" id="257start" title='start' data-type='WebCore::Position' data-ref="257start" data-ref-filename="257start">start</dfn> = <a class="local col5 ref" href="#255startOfSelection" title='startOfSelection' data-ref="255startOfSelection" data-ref-filename="255startOfSelection">startOfSelection</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>().<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position10downstreamENS_27EditingBoundaryCrossingRuleE" title='WebCore::Position::downstream' data-ref="_ZNK7WebCore8Position10downstreamENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZNK7WebCore8Position10downstreamENS_27EditingBoundaryCrossingRuleE">downstream</a>();</td></tr>
<tr><th id="115">115</th><td>    <b>if</b> (<a class="ref fn" href="Editing.h.html#_ZN7WebCore23isAtUnsplittableElementERKNS_8PositionE" title='WebCore::isAtUnsplittableElement' data-ref="_ZN7WebCore23isAtUnsplittableElementERKNS_8PositionE" data-ref-filename="_ZN7WebCore23isAtUnsplittableElementERKNS_8PositionE">isAtUnsplittableElement</a>(<a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>) &amp;&amp; <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::startOfParagraph' data-ref="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">startOfParagraph</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>) <a class="ref fn" href="VisiblePosition.h.html#_ZN7WebCoreeqERKNS_15VisiblePositionES2_" title='WebCore::operator==' data-ref="_ZN7WebCoreeqERKNS_15VisiblePositionES2_" data-ref-filename="_ZN7WebCoreeqERKNS_15VisiblePositionES2_">==</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfParagraph' data-ref="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfParagraph</a>(<a class="local col6 ref" href="#256endOfSelection" title='endOfSelection' data-ref="256endOfSelection" data-ref-filename="256endOfSelection">endOfSelection</a>)) {</td></tr>
<tr><th id="116">116</th><td>        <em>auto</em> <dfn class="local col8 decl" id="258blockquote" title='blockquote' data-type='WTF::Ref&lt;WebCore::HTMLElement, WTF::RawPtrTraits&lt;WebCore::HTMLElement&gt;&gt;' data-ref="258blockquote" data-ref-filename="258blockquote">blockquote</dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand18createBlockElementEv" title='WebCore::ApplyBlockElementCommand::createBlockElement' data-ref="_ZN7WebCore24ApplyBlockElementCommand18createBlockElementEv" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand18createBlockElementEv">createBlockElement</a>();</td></tr>
<tr><th id="117">117</th><td>        <a class="member fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommand12insertNodeAtEON3WTF3RefINS_4NodeENS1_12RawPtrTraitsIS3_EEEERKNS_8PositionE" title='WebCore::CompositeEditCommand::insertNodeAt' data-ref="_ZN7WebCore20CompositeEditCommand12insertNodeAtEON3WTF3RefINS_4NodeENS1_12RawPtrTraitsIS3_EEEERKNS_8PositionE" data-ref-filename="_ZN7WebCore20CompositeEditCommand12insertNodeAtEON3WTF3RefINS_4NodeENS1_12RawPtrTraitsIS3_EEEERKNS_8PositionE">insertNodeAt</a>(<a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZN3WTF3RefC1EONS_3RefITL0__TL0_0_EE" title='WTF::Ref::Ref&lt;T, type-parameter-0-1&gt;' data-ref="_ZN3WTF3RefC1EONS_3RefITL0__TL0_0_EE" data-ref-filename="_ZN3WTF3RefC1EONS_3RefITL0__TL0_0_EE"></a><a class="local col8 ref" href="#258blockquote" title='blockquote' data-ref="258blockquote" data-ref-filename="258blockquote">blockquote</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNKR3WTF3Ref7copyRefEv" title='WTF::Ref::copyRef' data-ref="_ZNKR3WTF3Ref7copyRefEv" data-ref-filename="_ZNKR3WTF3Ref7copyRefEv">copyRef</a>(), <a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>);</td></tr>
<tr><th id="118">118</th><td>        <em>auto</em> <dfn class="local col9 decl" id="259placeholder" title='placeholder' data-type='WTF::Ref&lt;WebCore::HTMLBRElement, WTF::RawPtrTraits&lt;WebCore::HTMLBRElement&gt;&gt;' data-ref="259placeholder" data-ref-filename="259placeholder">placeholder</dfn> = <a class="type" href="../html/HTMLBRElement.h.html#WebCore::HTMLBRElement" title='WebCore::HTMLBRElement' data-ref="WebCore::HTMLBRElement" data-ref-filename="WebCore..HTMLBRElement">HTMLBRElement</a>::<a class="ref fn" href="../html/HTMLBRElement.h.html#_ZN7WebCore13HTMLBRElement6createERNS_8DocumentE" title='WebCore::HTMLBRElement::create' data-ref="_ZN7WebCore13HTMLBRElement6createERNS_8DocumentE" data-ref-filename="_ZN7WebCore13HTMLBRElement6createERNS_8DocumentE">create</a>(<span class='refarg'><a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand8documentEv" title='WebCore::EditCommand::document' data-ref="_ZN7WebCore11EditCommand8documentEv" data-ref-filename="_ZN7WebCore11EditCommand8documentEv">document</a>()</span>);</td></tr>
<tr><th id="119">119</th><td>        <a class="member fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommand10appendNodeEON3WTF3RefINS_4NodeENS1_12RawPtrTraitsIS3_EEEEONS2_INS_13ContainerNodeENS4_IS8_EEEE" title='WebCore::CompositeEditCommand::appendNode' data-ref="_ZN7WebCore20CompositeEditCommand10appendNodeEON3WTF3RefINS_4NodeENS1_12RawPtrTraitsIS3_EEEEONS2_INS_13ContainerNodeENS4_IS8_EEEE" data-ref-filename="_ZN7WebCore20CompositeEditCommand10appendNodeEON3WTF3RefINS_4NodeENS1_12RawPtrTraitsIS3_EEEEONS2_INS_13ContainerNodeENS4_IS8_EEEE">appendNode</a>(<a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZN3WTF3RefC1EONS_3RefITL0__TL0_0_EE" title='WTF::Ref::Ref&lt;T, type-parameter-0-1&gt;' data-ref="_ZN3WTF3RefC1EONS_3RefITL0__TL0_0_EE" data-ref-filename="_ZN3WTF3RefC1EONS_3RefITL0__TL0_0_EE"></a><a class="local col9 ref" href="#259placeholder" title='placeholder' data-ref="259placeholder" data-ref-filename="259placeholder">placeholder</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNKR3WTF3Ref7copyRefEv" title='WTF::Ref::copyRef' data-ref="_ZNKR3WTF3Ref7copyRefEv" data-ref-filename="_ZNKR3WTF3Ref7copyRefEv">copyRef</a>(), <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/StdLibExtras.h.html#568" title="std::move&lt;WTF::CheckMoveParameter&gt;(blockquote)" data-ref="_M/WTFMove">WTFMove</a>(<span class='refarg'><a class="local col8 ref" href="#258blockquote" title='blockquote' data-ref="258blockquote" data-ref-filename="258blockquote">blockquote</a></span>));</td></tr>
<tr><th id="120">120</th><td>        <a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE" title='WebCore::EditCommand::setEndingSelection' data-ref="_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE" data-ref-filename="_ZN7WebCore11EditCommand18setEndingSelectionERKNS_16VisibleSelectionE">setEndingSelection</a>(<a class="type" href="VisibleSelection.h.html#WebCore::VisibleSelection" title='WebCore::VisibleSelection' data-ref="WebCore::VisibleSelection" data-ref-filename="WebCore..VisibleSelection">VisibleSelection</a><a class="ref fn" href="VisibleSelection.h.html#_ZN7WebCore16VisibleSelectionC1ERKNS_8PositionENS_8AffinityEb" title='WebCore::VisibleSelection::VisibleSelection' data-ref="_ZN7WebCore16VisibleSelectionC1ERKNS_8PositionENS_8AffinityEb" data-ref-filename="_ZN7WebCore16VisibleSelectionC1ERKNS_8PositionENS_8AffinityEb">(</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore18positionBeforeNodeEPNS_4NodeE" title='WebCore::positionBeforeNode' data-ref="_ZN7WebCore18positionBeforeNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore18positionBeforeNodeEPNS_4NodeE">positionBeforeNode</a>(<a class="local col9 ref" href="#259placeholder" title='placeholder' data-ref="259placeholder" data-ref-filename="259placeholder">placeholder</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNK3WTF3Ref3ptrEv" title='WTF::Ref::ptr' data-ref="_ZNK3WTF3Ref3ptrEv" data-ref-filename="_ZNK3WTF3Ref3ptrEv">ptr</a>()), <a class="type" href="TextAffinity.h.html#WebCore::Affinity" title='WebCore::Affinity' data-ref="WebCore::Affinity" data-ref-filename="WebCore..Affinity">Affinity</a>::<a class="enum" href="TextAffinity.h.html#WebCore::Affinity::Downstream" title='WebCore::Affinity::Downstream' data-ref="WebCore::Affinity::Downstream" data-ref-filename="WebCore..Affinity..Downstream">Downstream</a>, <a class="member fn" href="EditCommand.h.html#_ZNK7WebCore11EditCommand15endingSelectionEv" title='WebCore::EditCommand::endingSelection' data-ref="_ZNK7WebCore11EditCommand15endingSelectionEv" data-ref-filename="_ZNK7WebCore11EditCommand15endingSelectionEv">endingSelection</a>().<a class="ref fn" href="VisibleSelection.h.html#_ZNK7WebCore16VisibleSelection13isDirectionalEv" title='WebCore::VisibleSelection::isDirectional' data-ref="_ZNK7WebCore16VisibleSelection13isDirectionalEv" data-ref-filename="_ZNK7WebCore16VisibleSelection13isDirectionalEv">isDirectional</a>()));</td></tr>
<tr><th id="121">121</th><td>        <b>return</b>;</td></tr>
<tr><th id="122">122</th><td>    }</td></tr>
<tr><th id="123">123</th><td></td></tr>
<tr><th id="124">124</th><td>    <a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RefPtr" title='WTF::RefPtr' data-ref="WTF::RefPtr" data-ref-filename="WTF..RefPtr">RefPtr</a>&lt;<a class="type" href="../dom/Element.h.html#WebCore::Element" title='WebCore::Element' data-ref="WebCore::Element" data-ref-filename="WebCore..Element">Element</a>&gt; <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1Ev" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1Ev" data-ref-filename="_ZN3WTF6RefPtrC1Ev"></a><dfn class="local col0 decl" id="260blockquoteForNextIndent" title='blockquoteForNextIndent' data-type='RefPtr&lt;WebCore::Element&gt;' data-ref="260blockquoteForNextIndent" data-ref-filename="260blockquoteForNextIndent">blockquoteForNextIndent</dfn>;</td></tr>
<tr><th id="125">125</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col1 decl" id="261endOfCurrentParagraph" title='endOfCurrentParagraph' data-type='WebCore::VisiblePosition' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</dfn> = <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfParagraph' data-ref="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfParagraph</a>(<a class="local col5 ref" href="#255startOfSelection" title='startOfSelection' data-ref="255startOfSelection" data-ref-filename="255startOfSelection">startOfSelection</a>);</td></tr>
<tr><th id="126">126</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col2 decl" id="262endAfterSelection" title='endAfterSelection' data-type='WebCore::VisiblePosition' data-ref="262endAfterSelection" data-ref-filename="262endAfterSelection">endAfterSelection</dfn> = <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfParagraph' data-ref="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfParagraph</a>(<a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfParagraph' data-ref="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfParagraph</a>(<a class="local col6 ref" href="#256endOfSelection" title='endOfSelection' data-ref="256endOfSelection" data-ref-filename="256endOfSelection">endOfSelection</a>).<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition4nextENS_27EditingBoundaryCrossingRuleEPb" title='WebCore::VisiblePosition::next' data-ref="_ZNK7WebCore15VisiblePosition4nextENS_27EditingBoundaryCrossingRuleEPb" data-ref-filename="_ZNK7WebCore15VisiblePosition4nextENS_27EditingBoundaryCrossingRuleEPb">next</a>());</td></tr>
<tr><th id="127">127</th><td>    <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfParagraph' data-ref="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfParagraph</a>(<a class="local col6 ref" href="#256endOfSelection" title='endOfSelection' data-ref="256endOfSelection" data-ref-filename="256endOfSelection">endOfSelection</a>).<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>();</td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td>    <em>bool</em> <dfn class="local col3 decl" id="263atEnd" title='atEnd' data-type='bool' data-ref="263atEnd" data-ref-filename="263atEnd">atEnd</dfn> = <b>false</b>;</td></tr>
<tr><th id="130">130</th><td>    <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a> <a class="ref fn fake" href="../dom/Position.h.html#_ZN7WebCore8PositionC1Ev" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1Ev" data-ref-filename="_ZN7WebCore8PositionC1Ev"></a><dfn class="local col4 decl" id="264end" title='end' data-type='WebCore::Position' data-ref="264end" data-ref-filename="264end">end</dfn>;</td></tr>
<tr><th id="131">131</th><td>    <b>while</b> (<a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a> <a class="ref fn" href="VisiblePosition.h.html#_ZN7WebCoreneERKNS_15VisiblePositionES2_" title='WebCore::operator!=' data-ref="_ZN7WebCoreneERKNS_15VisiblePositionES2_" data-ref-filename="_ZN7WebCoreneERKNS_15VisiblePositionES2_">!=</a> <a class="local col2 ref" href="#262endAfterSelection" title='endAfterSelection' data-ref="262endAfterSelection" data-ref-filename="262endAfterSelection">endAfterSelection</a> &amp;&amp; !<a class="local col3 ref" href="#263atEnd" title='atEnd' data-ref="263atEnd" data-ref-filename="263atEnd">atEnd</a>) {</td></tr>
<tr><th id="132">132</th><td>        <b>if</b> (<a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>() <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCoreeqERKNS_8PositionES2_" title='WebCore::operator==' data-ref="_ZN7WebCoreeqERKNS_8PositionES2_" data-ref-filename="_ZN7WebCoreeqERKNS_8PositionES2_">==</a> <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>)</td></tr>
<tr><th id="133">133</th><td>            <a class="local col3 ref" href="#263atEnd" title='atEnd' data-ref="263atEnd" data-ref-filename="263atEnd">atEnd</a> = <b>true</b>;</td></tr>
<tr><th id="134">134</th><td></td></tr>
<tr><th id="135">135</th><td>        <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand43rangeForParagraphSplittingTextNodesIfNeededERKNS_15VisiblePositionERNS_8PositionES5_" title='WebCore::ApplyBlockElementCommand::rangeForParagraphSplittingTextNodesIfNeeded' data-ref="_ZN7WebCore24ApplyBlockElementCommand43rangeForParagraphSplittingTextNodesIfNeededERKNS_15VisiblePositionERNS_8PositionES5_" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand43rangeForParagraphSplittingTextNodesIfNeededERKNS_15VisiblePositionERNS_8PositionES5_">rangeForParagraphSplittingTextNodesIfNeeded</a>(<a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a>, <span class='refarg'><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a></span>, <span class='refarg'><a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a></span>);</td></tr>
<tr><th id="136">136</th><td>        <b>if</b> (<a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position6isNullEv" title='WebCore::Position::isNull' data-ref="_ZNK7WebCore8Position6isNullEv" data-ref-filename="_ZNK7WebCore8Position6isNullEv">isNull</a>() || <a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position6isNullEv" title='WebCore::Position::isNull' data-ref="_ZNK7WebCore8Position6isNullEv" data-ref-filename="_ZNK7WebCore8Position6isNullEv">isNull</a>())</td></tr>
<tr><th id="137">137</th><td>            <b>break</b>;</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>        <a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a> <a class="ref fn" href="VisiblePosition.h.html#33" title='WebCore::VisiblePosition::operator=' data-ref="_ZN7WebCore15VisiblePositionaSEOS0_" data-ref-filename="_ZN7WebCore15VisiblePositionaSEOS0_">=</a> <a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a>;</td></tr>
<tr><th id="140">140</th><td></td></tr>
<tr><th id="141">141</th><td>        <i>// FIXME: endOfParagraph can errornously return a position at the beginning of a block element</i></td></tr>
<tr><th id="142">142</th><td><i>        // when the position passed into endOfParagraph is at the beginning of a block.</i></td></tr>
<tr><th id="143">143</th><td><i>        // Work around this bug here because too much of the existing code depends on the current behavior of endOfParagraph.</i></td></tr>
<tr><th id="144">144</th><td>        <b>if</b> (<a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a> <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCoreeqERKNS_8PositionES2_" title='WebCore::operator==' data-ref="_ZN7WebCoreeqERKNS_8PositionES2_" data-ref-filename="_ZN7WebCoreeqERKNS_8PositionES2_">==</a> <a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a> &amp;&amp; <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore12startOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::startOfBlock' data-ref="_ZN7WebCore12startOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore12startOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">startOfBlock</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>) <a class="ref fn" href="VisiblePosition.h.html#_ZN7WebCoreneERKNS_15VisiblePositionES2_" title='WebCore::operator!=' data-ref="_ZN7WebCoreneERKNS_15VisiblePositionES2_" data-ref-filename="_ZN7WebCoreneERKNS_15VisiblePositionES2_">!=</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfBlock' data-ref="_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfBlock</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>) &amp;&amp; !<a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore12isEndOfBlockERKNS_15VisiblePositionE" title='WebCore::isEndOfBlock' data-ref="_ZN7WebCore12isEndOfBlockERKNS_15VisiblePositionE" data-ref-filename="_ZN7WebCore12isEndOfBlockERKNS_15VisiblePositionE">isEndOfBlock</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a>) &amp;&amp; <a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a> <a class="ref fn" href="VisiblePosition.h.html#_ZN7WebCoreeqERKNS_15VisiblePositionES2_" title='WebCore::operator==' data-ref="_ZN7WebCoreeqERKNS_15VisiblePositionES2_" data-ref-filename="_ZN7WebCoreeqERKNS_15VisiblePositionES2_">==</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::startOfParagraph' data-ref="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">startOfParagraph</a>(<a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfBlock' data-ref="_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfBlock</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>))) {</td></tr>
<tr><th id="145">145</th><td>            <a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a> <a class="ref fn" href="VisiblePosition.h.html#33" title='WebCore::VisiblePosition::operator=' data-ref="_ZN7WebCore15VisiblePositionaSEOS0_" data-ref-filename="_ZN7WebCore15VisiblePositionaSEOS0_">=</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfBlock' data-ref="_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore10endOfBlockERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfBlock</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a>);</td></tr>
<tr><th id="146">146</th><td>            <a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>();</td></tr>
<tr><th id="147">147</th><td>        }</td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td>        <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a> <dfn class="local col5 decl" id="265afterEnd" title='afterEnd' data-type='WebCore::Position' data-ref="265afterEnd" data-ref-filename="265afterEnd">afterEnd</dfn> = <a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position4nextENS_16PositionMoveTypeE" title='WebCore::Position::next' data-ref="_ZNK7WebCore8Position4nextENS_16PositionMoveTypeE" data-ref-filename="_ZNK7WebCore8Position4nextENS_16PositionMoveTypeE">next</a>();</td></tr>
<tr><th id="150">150</th><td>        <a class="type" href="../dom/Node.h.html#WebCore::Node" title='WebCore::Node' data-ref="WebCore::Node" data-ref-filename="WebCore..Node">Node</a>* <dfn class="local col6 decl" id="266enclosingCell" title='enclosingCell' data-type='WebCore::Node *' data-ref="266enclosingCell" data-ref-filename="266enclosingCell">enclosingCell</dfn> = <a class="ref fn" href="Editing.h.html#_ZN7WebCore19enclosingNodeOfTypeERKNS_8PositionEPFbPKNS_4NodeEENS_27EditingBoundaryCrossingRuleE" title='WebCore::enclosingNodeOfType' data-ref="_ZN7WebCore19enclosingNodeOfTypeERKNS_8PositionEPFbPKNS_4NodeEENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore19enclosingNodeOfTypeERKNS_8PositionEPFbPKNS_4NodeEENS_27EditingBoundaryCrossingRuleE">enclosingNodeOfType</a>(<a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>, &amp;<a class="ref fn" href="Editing.h.html#_ZN7WebCore11isTableCellEPKNS_4NodeE" title='WebCore::isTableCell' data-ref="_ZN7WebCore11isTableCellEPKNS_4NodeE" data-ref-filename="_ZN7WebCore11isTableCellEPKNS_4NodeE">isTableCell</a>);</td></tr>
<tr><th id="151">151</th><td>        <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col7 decl" id="267endOfNextParagraph" title='endOfNextParagraph' data-type='WebCore::VisiblePosition' data-ref="267endOfNextParagraph" data-ref-filename="267endOfNextParagraph">endOfNextParagraph</dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand44endOfNextParagraphSplittingTextNodesIfNeededERNS_15VisiblePositionERNS_8PositionES4_" title='WebCore::ApplyBlockElementCommand::endOfNextParagraphSplittingTextNodesIfNeeded' data-ref="_ZN7WebCore24ApplyBlockElementCommand44endOfNextParagraphSplittingTextNodesIfNeededERNS_15VisiblePositionERNS_8PositionES4_" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand44endOfNextParagraphSplittingTextNodesIfNeededERNS_15VisiblePositionERNS_8PositionES4_">endOfNextParagraphSplittingTextNodesIfNeeded</a>(<span class='refarg'><a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a></span>, <span class='refarg'><a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a></span>, <span class='refarg'><a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a></span>);</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>        <a class="virtual member fn" href="ApplyBlockElementCommand.h.html#_ZN7WebCore24ApplyBlockElementCommand11formatRangeERKNS_8PositionES3_S3_RN3WTF6RefPtrINS_7ElementENS4_12RawPtrTraitsIS6_EENS4_21DefaultRefDerefTraitsIS6_EEEE" title='WebCore::ApplyBlockElementCommand::formatRange' data-ref="_ZN7WebCore24ApplyBlockElementCommand11formatRangeERKNS_8PositionES3_S3_RN3WTF6RefPtrINS_7ElementENS4_12RawPtrTraitsIS6_EENS4_21DefaultRefDerefTraitsIS6_EEEE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand11formatRangeERKNS_8PositionES3_S3_RN3WTF6RefPtrINS_7ElementENS4_12RawPtrTraitsIS6_EENS4_21DefaultRefDerefTraitsIS6_EEEE">formatRange</a>(<a class="local col7 ref" href="#257start" title='start' data-ref="257start" data-ref-filename="257start">start</a>, <a class="local col4 ref" href="#264end" title='end' data-ref="264end" data-ref-filename="264end">end</a>, <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>, <span class='refarg'><a class="local col0 ref" href="#260blockquoteForNextIndent" title='blockquoteForNextIndent' data-ref="260blockquoteForNextIndent" data-ref-filename="260blockquoteForNextIndent">blockquoteForNextIndent</a></span>);</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>        <i>// Don't put the next paragraph in the blockquote we just created for this paragraph unless </i></td></tr>
<tr><th id="156">156</th><td><i>        // the next paragraph is in the same cell.</i></td></tr>
<tr><th id="157">157</th><td>        <b>if</b> (<a class="local col6 ref" href="#266enclosingCell" title='enclosingCell' data-ref="266enclosingCell" data-ref-filename="266enclosingCell">enclosingCell</a> &amp;&amp; <a class="local col6 ref" href="#266enclosingCell" title='enclosingCell' data-ref="266enclosingCell" data-ref-filename="266enclosingCell">enclosingCell</a> != <a class="ref fn" href="Editing.h.html#_ZN7WebCore19enclosingNodeOfTypeERKNS_8PositionEPFbPKNS_4NodeEENS_27EditingBoundaryCrossingRuleE" title='WebCore::enclosingNodeOfType' data-ref="_ZN7WebCore19enclosingNodeOfTypeERKNS_8PositionEPFbPKNS_4NodeEENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore19enclosingNodeOfTypeERKNS_8PositionEPFbPKNS_4NodeEENS_27EditingBoundaryCrossingRuleE">enclosingNodeOfType</a>(<a class="local col7 ref" href="#267endOfNextParagraph" title='endOfNextParagraph' data-ref="267endOfNextParagraph" data-ref-filename="267endOfNextParagraph">endOfNextParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>(), &amp;<a class="ref fn" href="Editing.h.html#_ZN7WebCore11isTableCellEPKNS_4NodeE" title='WebCore::isTableCell' data-ref="_ZN7WebCore11isTableCellEPKNS_4NodeE" data-ref-filename="_ZN7WebCore11isTableCellEPKNS_4NodeE">isTableCell</a>))</td></tr>
<tr><th id="158">158</th><td>            <a class="local col0 ref" href="#260blockquoteForNextIndent" title='blockquoteForNextIndent' data-ref="260blockquoteForNextIndent" data-ref-filename="260blockquoteForNextIndent">blockquoteForNextIndent</a> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtraSEDn" title='WTF::RefPtr::operator=' data-ref="_ZN3WTF6RefPtraSEDn" data-ref-filename="_ZN3WTF6RefPtraSEDn">=</a> <b>nullptr</b>;</td></tr>
<tr><th id="159">159</th><td></td></tr>
<tr><th id="160">160</th><td>        <i>// indentIntoBlockquote could move more than one paragraph if the paragraph</i></td></tr>
<tr><th id="161">161</th><td><i>        // is in a list item or a table. As a result, endAfterSelection could refer to a position</i></td></tr>
<tr><th id="162">162</th><td><i>        // no longer in the document.</i></td></tr>
<tr><th id="163">163</th><td>        <b>if</b> (<a class="local col2 ref" href="#262endAfterSelection" title='endAfterSelection' data-ref="262endAfterSelection" data-ref-filename="262endAfterSelection">endAfterSelection</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition9isNotNullEv" title='WebCore::VisiblePosition::isNotNull' data-ref="_ZNK7WebCore15VisiblePosition9isNotNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition9isNotNullEv">isNotNull</a>() &amp;&amp; !<a class="local col2 ref" href="#262endAfterSelection" title='endAfterSelection' data-ref="262endAfterSelection" data-ref-filename="262endAfterSelection">endAfterSelection</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>().<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position10anchorNodeEv" title='WebCore::Position::anchorNode' data-ref="_ZNK7WebCore8Position10anchorNodeEv" data-ref-filename="_ZNK7WebCore8Position10anchorNodeEv">anchorNode</a>()-&gt;<a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node11isConnectedEv" title='WebCore::Node::isConnected' data-ref="_ZNK7WebCore4Node11isConnectedEv" data-ref-filename="_ZNK7WebCore4Node11isConnectedEv">isConnected</a>())</td></tr>
<tr><th id="164">164</th><td>            <b>break</b>;</td></tr>
<tr><th id="165">165</th><td>        <i>// Sanity check: Make sure our moveParagraph calls didn't remove endOfNextParagraph.deepEquivalent().deprecatedNode()</i></td></tr>
<tr><th id="166">166</th><td><i>        // If somehow we did, return to prevent crashes.</i></td></tr>
<tr><th id="167">167</th><td>        <b>if</b> (<a class="local col7 ref" href="#267endOfNextParagraph" title='endOfNextParagraph' data-ref="267endOfNextParagraph" data-ref-filename="267endOfNextParagraph">endOfNextParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition9isNotNullEv" title='WebCore::VisiblePosition::isNotNull' data-ref="_ZNK7WebCore15VisiblePosition9isNotNullEv" data-ref-filename="_ZNK7WebCore15VisiblePosition9isNotNullEv">isNotNull</a>() &amp;&amp; !<a class="local col7 ref" href="#267endOfNextParagraph" title='endOfNextParagraph' data-ref="267endOfNextParagraph" data-ref-filename="267endOfNextParagraph">endOfNextParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>().<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position10anchorNodeEv" title='WebCore::Position::anchorNode' data-ref="_ZNK7WebCore8Position10anchorNodeEv" data-ref-filename="_ZNK7WebCore8Position10anchorNodeEv">anchorNode</a>()-&gt;<a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node11isConnectedEv" title='WebCore::Node::isConnected' data-ref="_ZNK7WebCore4Node11isConnectedEv" data-ref-filename="_ZNK7WebCore4Node11isConnectedEv">isConnected</a>()) {</td></tr>
<tr><th id="168">168</th><td>            <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#368" title="do { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 168, __PRETTY_FUNCTION__, 0); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(168, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 965); } while (false); } while (0)" data-ref="_M/ASSERT_NOT_REACHED">ASSERT_NOT_REACHED</a>();</td></tr>
<tr><th id="169">169</th><td>            <b>return</b>;</td></tr>
<tr><th id="170">170</th><td>        }</td></tr>
<tr><th id="171">171</th><td>        <a class="local col1 ref" href="#261endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="261endOfCurrentParagraph" data-ref-filename="261endOfCurrentParagraph">endOfCurrentParagraph</a> <a class="ref fn" href="VisiblePosition.h.html#33" title='WebCore::VisiblePosition::operator=' data-ref="_ZN7WebCore15VisiblePositionaSERKS0_" data-ref-filename="_ZN7WebCore15VisiblePositionaSERKS0_">=</a> <a class="local col7 ref" href="#267endOfNextParagraph" title='endOfNextParagraph' data-ref="267endOfNextParagraph" data-ref-filename="267endOfNextParagraph">endOfNextParagraph</a>;</td></tr>
<tr><th id="172">172</th><td>    }</td></tr>
<tr><th id="173">173</th><td>}</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td><em>static</em> <em>bool</em> <dfn class="decl def fn" id="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" title='WebCore::isNewLineAtPosition' data-ref="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" data-ref-filename="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE">isNewLineAtPosition</dfn>(<em>const</em> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>&amp; <dfn class="local col8 decl" id="268position" title='position' data-type='const WebCore::Position &amp;' data-ref="268position" data-ref-filename="268position">position</dfn>)</td></tr>
<tr><th id="176">176</th><td>{</td></tr>
<tr><th id="177">177</th><td>    <a class="type" href="../dom/Node.h.html#WebCore::Node" title='WebCore::Node' data-ref="WebCore::Node" data-ref-filename="WebCore..Node">Node</a>* <dfn class="local col9 decl" id="269textNode" title='textNode' data-type='WebCore::Node *' data-ref="269textNode" data-ref-filename="269textNode">textNode</dfn> = <a class="local col8 ref" href="#268position" title='position' data-ref="268position" data-ref-filename="268position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>();</td></tr>
<tr><th id="178">178</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="270offset" title='offset' data-type='unsigned int' data-ref="270offset" data-ref-filename="270offset">offset</dfn> = <a class="local col8 ref" href="#268position" title='position' data-ref="268position" data-ref-filename="268position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>();</td></tr>
<tr><th id="179">179</th><td>    <b>if</b> (!<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF2isEPT0_" title='WTF::is' data-ref="_ZN3WTF2isEPT0_" data-ref-filename="_ZN3WTF2isEPT0_">is</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<a class="local col9 ref" href="#269textNode" title='textNode' data-ref="269textNode" data-ref-filename="269textNode">textNode</a>) || <a class="local col0 ref" href="#270offset" title='offset' data-ref="270offset" data-ref-filename="270offset">offset</a> &gt;= <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastERT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastERT0_" data-ref-filename="_ZN3WTF8downcastERT0_">downcast</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<span class='refarg'>*<a class="local col9 ref" href="#269textNode" title='textNode' data-ref="269textNode" data-ref-filename="269textNode">textNode</a></span>).<a class="ref fn" href="../dom/CharacterData.h.html#_ZNK7WebCore13CharacterData6lengthEv" title='WebCore::CharacterData::length' data-ref="_ZNK7WebCore13CharacterData6lengthEv" data-ref-filename="_ZNK7WebCore13CharacterData6lengthEv">length</a>())</td></tr>
<tr><th id="180">180</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="181">181</th><td>    <b>return</b> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastERT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastERT0_" data-ref-filename="_ZN3WTF8downcastERT0_">downcast</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<span class='refarg'>*<a class="local col9 ref" href="#269textNode" title='textNode' data-ref="269textNode" data-ref-filename="269textNode">textNode</a></span>).<a class="ref fn" href="../dom/CharacterData.h.html#_ZNK7WebCore13CharacterData4dataEv" title='WebCore::CharacterData::data' data-ref="_ZNK7WebCore13CharacterData4dataEv" data-ref-filename="_ZNK7WebCore13CharacterData4dataEv">data</a>()<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6StringixEj" title='WTF::String::operator[]' data-ref="_ZNK3WTF6StringixEj" data-ref-filename="_ZNK3WTF6StringixEj">[<a class="local col0 ref" href="#270offset" title='offset' data-ref="270offset" data-ref-filename="270offset">offset</a>]</a> == <kbd>'\n'</kbd>;</td></tr>
<tr><th id="182">182</th><td>}</td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td><em>const</em> <a class="type" href="../rendering/style/RenderStyle.h.html#WebCore::RenderStyle" title='WebCore::RenderStyle' data-ref="WebCore::RenderStyle" data-ref-filename="WebCore..RenderStyle">RenderStyle</a>* <a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="decl def fn" id="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</dfn>(<em>const</em> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>&amp; <dfn class="local col1 decl" id="271position" title='position' data-type='const WebCore::Position &amp;' data-ref="271position" data-ref-filename="271position">position</dfn>)</td></tr>
<tr><th id="185">185</th><td>{</td></tr>
<tr><th id="186">186</th><td>    <b>if</b> (<a class="local col1 ref" href="#271position" title='position' data-ref="271position" data-ref-filename="271position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position10anchorTypeEv" title='WebCore::Position::anchorType' data-ref="_ZNK7WebCore8Position10anchorTypeEv" data-ref-filename="_ZNK7WebCore8Position10anchorTypeEv">anchorType</a>() != <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>::<a class="enum" href="../dom/Position.h.html#WebCore::Position::PositionIsOffsetInAnchor" title='WebCore::Position::PositionIsOffsetInAnchor' data-ref="WebCore::Position::PositionIsOffsetInAnchor" data-ref-filename="WebCore..Position..PositionIsOffsetInAnchor">PositionIsOffsetInAnchor</a></td></tr>
<tr><th id="187">187</th><td>        || !<a class="local col1 ref" href="#271position" title='position' data-ref="271position" data-ref-filename="271position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>()</td></tr>
<tr><th id="188">188</th><td>        || !<a class="local col1 ref" href="#271position" title='position' data-ref="271position" data-ref-filename="271position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>()-&gt;<a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node10isTextNodeEv" title='WebCore::Node::isTextNode' data-ref="_ZNK7WebCore4Node10isTextNodeEv" data-ref-filename="_ZNK7WebCore4Node10isTextNodeEv">isTextNode</a>())</td></tr>
<tr><th id="189">189</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="190">190</th><td></td></tr>
<tr><th id="191">191</th><td>    <a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand8documentEv" title='WebCore::EditCommand::document' data-ref="_ZN7WebCore11EditCommand8documentEv" data-ref-filename="_ZN7WebCore11EditCommand8documentEv">document</a>().<a class="ref fn" href="../dom/Document.h.html#_ZN7WebCore8Document19updateStyleIfNeededEv" title='WebCore::Document::updateStyleIfNeeded' data-ref="_ZN7WebCore8Document19updateStyleIfNeededEv" data-ref-filename="_ZN7WebCore8Document19updateStyleIfNeededEv">updateStyleIfNeeded</a>();</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>    <a class="type" href="../rendering/RenderObject.h.html#WebCore::RenderObject" title='WebCore::RenderObject' data-ref="WebCore::RenderObject" data-ref-filename="WebCore..RenderObject">RenderObject</a>* <dfn class="local col2 decl" id="272renderer" title='renderer' data-type='WebCore::RenderObject *' data-ref="272renderer" data-ref-filename="272renderer">renderer</dfn> = <a class="local col1 ref" href="#271position" title='position' data-ref="271position" data-ref-filename="271position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>()-&gt;<a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node8rendererEv" title='WebCore::Node::renderer' data-ref="_ZNK7WebCore4Node8rendererEv" data-ref-filename="_ZNK7WebCore4Node8rendererEv">renderer</a>();</td></tr>
<tr><th id="194">194</th><td>    <b>if</b> (!<a class="local col2 ref" href="#272renderer" title='renderer' data-ref="272renderer" data-ref-filename="272renderer">renderer</a>)</td></tr>
<tr><th id="195">195</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="196">196</th><td></td></tr>
<tr><th id="197">197</th><td>    <b>return</b> &amp;<a class="local col2 ref" href="#272renderer" title='renderer' data-ref="272renderer" data-ref-filename="272renderer">renderer</a>-&gt;<a class="ref fn" href="../rendering/RenderObject.h.html#_ZNK7WebCore12RenderObject5styleEv" title='WebCore::RenderObject::style' data-ref="_ZNK7WebCore12RenderObject5styleEv" data-ref-filename="_ZNK7WebCore12RenderObject5styleEv">style</a>();</td></tr>
<tr><th id="198">198</th><td>}</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><em>void</em> <a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="decl def fn" id="_ZN7WebCore24ApplyBlockElementCommand43rangeForParagraphSplittingTextNodesIfNeededERKNS_15VisiblePositionERNS_8PositionES5_" title='WebCore::ApplyBlockElementCommand::rangeForParagraphSplittingTextNodesIfNeeded' data-ref="_ZN7WebCore24ApplyBlockElementCommand43rangeForParagraphSplittingTextNodesIfNeededERKNS_15VisiblePositionERNS_8PositionES5_" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand43rangeForParagraphSplittingTextNodesIfNeededERKNS_15VisiblePositionERNS_8PositionES5_">rangeForParagraphSplittingTextNodesIfNeeded</dfn>(<em>const</em> <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a>&amp; <dfn class="local col3 decl" id="273endOfCurrentParagraph" title='endOfCurrentParagraph' data-type='const WebCore::VisiblePosition &amp;' data-ref="273endOfCurrentParagraph" data-ref-filename="273endOfCurrentParagraph">endOfCurrentParagraph</dfn>, <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>&amp; <dfn class="local col4 decl" id="274start" title='start' data-type='WebCore::Position &amp;' data-ref="274start" data-ref-filename="274start">start</dfn>, <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>&amp; <dfn class="local col5 decl" id="275end" title='end' data-type='WebCore::Position &amp;' data-ref="275end" data-ref-filename="275end">end</dfn>)</td></tr>
<tr><th id="201">201</th><td>{</td></tr>
<tr><th id="202">202</th><td>    <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::startOfParagraph' data-ref="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">startOfParagraph</a>(<a class="local col3 ref" href="#273endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="273endOfCurrentParagraph" data-ref-filename="273endOfCurrentParagraph">endOfCurrentParagraph</a>).<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>();</td></tr>
<tr><th id="203">203</th><td>    <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="local col3 ref" href="#273endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="273endOfCurrentParagraph" data-ref-filename="273endOfCurrentParagraph">endOfCurrentParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>();</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td>    <em>bool</em> <dfn class="local col6 decl" id="276isStartAndEndOnSameNode" title='isStartAndEndOnSameNode' data-type='bool' data-ref="276isStartAndEndOnSameNode" data-ref-filename="276isStartAndEndOnSameNode">isStartAndEndOnSameNode</dfn> = <b>false</b>;</td></tr>
<tr><th id="206">206</th><td>    <b>if</b> (<em>auto</em>* <dfn class="local col7 decl" id="277startStyle" title='startStyle' data-type='const WebCore::RenderStyle *' data-ref="277startStyle" data-ref-filename="277startStyle"><a class="local col7 ref" href="#277startStyle" title='startStyle' data-ref="277startStyle" data-ref-filename="277startStyle">startStyle</a></dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</a>(<a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>)) {</td></tr>
<tr><th id="207">207</th><td>        <a class="local col6 ref" href="#276isStartAndEndOnSameNode" title='isStartAndEndOnSameNode' data-ref="276isStartAndEndOnSameNode" data-ref-filename="276isStartAndEndOnSameNode">isStartAndEndOnSameNode</a> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</a>(<a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>) &amp;&amp; <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>() == <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>();</td></tr>
<tr><th id="208">208</th><td>        <em>bool</em> <dfn class="local col8 decl" id="278isStartAndEndOfLastParagraphOnSameNode" title='isStartAndEndOfLastParagraphOnSameNode' data-type='bool' data-ref="278isStartAndEndOfLastParagraphOnSameNode" data-ref-filename="278isStartAndEndOfLastParagraphOnSameNode">isStartAndEndOfLastParagraphOnSameNode</dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</a>(<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>) &amp;&amp; <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>() == <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>();</td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td>        <i>// Avoid obtanining the start of next paragraph for start</i></td></tr>
<tr><th id="211">211</th><td>        <b>if</b> (<a class="local col7 ref" href="#277startStyle" title='startStyle' data-ref="277startStyle" data-ref-filename="277startStyle">startStyle</a>-&gt;<a class="ref fn" href="../rendering/style/RenderStyle.h.html#_ZNK7WebCore11RenderStyle15preserveNewlineEv" title='WebCore::RenderStyle::preserveNewline' data-ref="_ZNK7WebCore11RenderStyle15preserveNewlineEv" data-ref-filename="_ZNK7WebCore11RenderStyle15preserveNewlineEv">preserveNewline</a>() &amp;&amp; <a class="ref fn" href="#_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" title='WebCore::isNewLineAtPosition' data-ref="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" data-ref-filename="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE">isNewLineAtPosition</a>(<a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>) &amp;&amp; !<a class="ref fn" href="#_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" title='WebCore::isNewLineAtPosition' data-ref="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" data-ref-filename="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE">isNewLineAtPosition</a>(<a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE" title='WebCore::Position::previous' data-ref="_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE" data-ref-filename="_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE">previous</a>()) &amp;&amp; <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &gt; <var>0</var>)</td></tr>
<tr><th id="212">212</th><td>            <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::startOfParagraph' data-ref="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore16startOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">startOfParagraph</a>(<a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE" title='WebCore::Position::previous' data-ref="_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE" data-ref-filename="_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE">previous</a>()).<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>();</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>        <i>// If start is in the middle of a text node, split.</i></td></tr>
<tr><th id="215">215</th><td>        <b>if</b> (!<a class="local col7 ref" href="#277startStyle" title='startStyle' data-ref="277startStyle" data-ref-filename="277startStyle">startStyle</a>-&gt;<a class="ref fn" href="../rendering/style/RenderStyle.h.html#_ZNK7WebCore11RenderStyle18collapseWhiteSpaceEv" title='WebCore::RenderStyle::collapseWhiteSpace' data-ref="_ZNK7WebCore11RenderStyle18collapseWhiteSpaceEv" data-ref-filename="_ZNK7WebCore11RenderStyle18collapseWhiteSpaceEv">collapseWhiteSpace</a>() &amp;&amp; <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &gt; <var>0</var>) {</td></tr>
<tr><th id="216">216</th><td>            <em>int</em> <dfn class="local col9 decl" id="279startOffset" title='startOffset' data-type='int' data-ref="279startOffset" data-ref-filename="279startOffset">startOffset</dfn> = <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>();</td></tr>
<tr><th id="217">217</th><td>            <a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>* <dfn class="local col0 decl" id="280startText" title='startText' data-type='WebCore::Text *' data-ref="280startText" data-ref-filename="280startText">startText</dfn> = <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerTextEv" title='WebCore::Position::containerText' data-ref="_ZNK7WebCore8Position13containerTextEv" data-ref-filename="_ZNK7WebCore8Position13containerTextEv">containerText</a>();</td></tr>
<tr><th id="218">218</th><td>            <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(startText)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 218, __PRETTY_FUNCTION__, &quot;startText&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(218, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 967); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col0 ref" href="#280startText" title='startText' data-ref="280startText" data-ref-filename="280startText">startText</a>);</td></tr>
<tr><th id="219">219</th><td>            <a class="member fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj" title='WebCore::CompositeEditCommand::splitTextNode' data-ref="_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj" data-ref-filename="_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj">splitTextNode</a>(<span class='refarg'>*<a class="local col0 ref" href="#280startText" title='startText' data-ref="280startText" data-ref-filename="280startText">startText</a></span>, <a class="local col9 ref" href="#279startOffset" title='startOffset' data-ref="279startOffset" data-ref-filename="279startOffset">startOffset</a>);</td></tr>
<tr><th id="220">220</th><td>            <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore19firstPositionInNodeEPNS_4NodeE" title='WebCore::firstPositionInNode' data-ref="_ZN7WebCore19firstPositionInNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore19firstPositionInNodeEPNS_4NodeE">firstPositionInNode</a>(<a class="local col0 ref" href="#280startText" title='startText' data-ref="280startText" data-ref-filename="280startText">startText</a>);</td></tr>
<tr><th id="221">221</th><td>            <b>if</b> (<a class="local col6 ref" href="#276isStartAndEndOnSameNode" title='isStartAndEndOnSameNode' data-ref="276isStartAndEndOnSameNode" data-ref-filename="276isStartAndEndOnSameNode">isStartAndEndOnSameNode</a>) {</td></tr>
<tr><th id="222">222</th><td>                <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(end.offsetInContainerNode() &gt;= startOffset)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 222, __PRETTY_FUNCTION__, &quot;end.offsetInContainerNode() &gt;= startOffset&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(222, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 969); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &gt;= <a class="local col9 ref" href="#279startOffset" title='startOffset' data-ref="279startOffset" data-ref-filename="279startOffset">startOffset</a>);</td></tr>
<tr><th id="223">223</th><td>                <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="local col0 ref" href="#280startText" title='startText' data-ref="280startText" data-ref-filename="280startText">startText</a>, <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() - <a class="local col9 ref" href="#279startOffset" title='startOffset' data-ref="279startOffset" data-ref-filename="279startOffset">startOffset</a>);</td></tr>
<tr><th id="224">224</th><td>            }</td></tr>
<tr><th id="225">225</th><td>            <b>if</b> (<a class="local col8 ref" href="#278isStartAndEndOfLastParagraphOnSameNode" title='isStartAndEndOfLastParagraphOnSameNode' data-ref="278isStartAndEndOfLastParagraphOnSameNode" data-ref-filename="278isStartAndEndOfLastParagraphOnSameNode">isStartAndEndOfLastParagraphOnSameNode</a>) {</td></tr>
<tr><th id="226">226</th><td>                <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(m_endOfLastParagraph.offsetInContainerNode() &gt;= startOffset)) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 226, __PRETTY_FUNCTION__, &quot;m_endOfLastParagraph.offsetInContainerNode() &gt;= startOffset&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(226, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 971); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &gt;= <a class="local col9 ref" href="#279startOffset" title='startOffset' data-ref="279startOffset" data-ref-filename="279startOffset">startOffset</a>);</td></tr>
<tr><th id="227">227</th><td>                <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="local col0 ref" href="#280startText" title='startText' data-ref="280startText" data-ref-filename="280startText">startText</a>, <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() - <a class="local col9 ref" href="#279startOffset" title='startOffset' data-ref="279startOffset" data-ref-filename="279startOffset">startOffset</a>);</td></tr>
<tr><th id="228">228</th><td>            }</td></tr>
<tr><th id="229">229</th><td>        }</td></tr>
<tr><th id="230">230</th><td>    }</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td>    <b>if</b> (<em>auto</em>* <dfn class="local col1 decl" id="281endStyle" title='endStyle' data-type='const WebCore::RenderStyle *' data-ref="281endStyle" data-ref-filename="281endStyle"><a class="local col1 ref" href="#281endStyle" title='endStyle' data-ref="281endStyle" data-ref-filename="281endStyle">endStyle</a></dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</a>(<a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>)) {</td></tr>
<tr><th id="233">233</th><td>        <em>bool</em> <dfn class="local col2 decl" id="282isEndAndEndOfLastParagraphOnSameNode" title='isEndAndEndOfLastParagraphOnSameNode' data-type='bool' data-ref="282isEndAndEndOfLastParagraphOnSameNode" data-ref-filename="282isEndAndEndOfLastParagraphOnSameNode">isEndAndEndOfLastParagraphOnSameNode</dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</a>(<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>) &amp;&amp; <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position14deprecatedNodeEv" title='WebCore::Position::deprecatedNode' data-ref="_ZNK7WebCore8Position14deprecatedNodeEv" data-ref-filename="_ZNK7WebCore8Position14deprecatedNodeEv">deprecatedNode</a>() == <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position14deprecatedNodeEv" title='WebCore::Position::deprecatedNode' data-ref="_ZNK7WebCore8Position14deprecatedNodeEv" data-ref-filename="_ZNK7WebCore8Position14deprecatedNodeEv">deprecatedNode</a>();</td></tr>
<tr><th id="234">234</th><td>        <i>// Include \n at the end of line if we're at an empty paragraph</i></td></tr>
<tr><th id="235">235</th><td>        <em>unsigned</em> <dfn class="local col3 decl" id="283endOffset" title='endOffset' data-type='unsigned int' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</dfn> = <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>();</td></tr>
<tr><th id="236">236</th><td>        <b>if</b> (<a class="local col1 ref" href="#281endStyle" title='endStyle' data-ref="281endStyle" data-ref-filename="281endStyle">endStyle</a>-&gt;<a class="ref fn" href="../rendering/style/RenderStyle.h.html#_ZNK7WebCore11RenderStyle15preserveNewlineEv" title='WebCore::RenderStyle::preserveNewline' data-ref="_ZNK7WebCore11RenderStyle15preserveNewlineEv" data-ref-filename="_ZNK7WebCore11RenderStyle15preserveNewlineEv">preserveNewline</a>() &amp;&amp; <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a> <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCoreeqERKNS_8PositionES2_" title='WebCore::operator==' data-ref="_ZN7WebCoreeqERKNS_8PositionES2_" data-ref-filename="_ZN7WebCoreeqERKNS_8PositionES2_">==</a> <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a> &amp;&amp; <a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a> &lt; <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>()-&gt;<a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node6lengthEv" title='WebCore::Node::length' data-ref="_ZNK7WebCore4Node6lengthEv" data-ref-filename="_ZNK7WebCore4Node6lengthEv">length</a>()) {</td></tr>
<tr><th id="237">237</th><td>            <b>if</b> (!<a class="ref fn" href="#_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" title='WebCore::isNewLineAtPosition' data-ref="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" data-ref-filename="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE">isNewLineAtPosition</a>(<a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE" title='WebCore::Position::previous' data-ref="_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE" data-ref-filename="_ZNK7WebCore8Position8previousENS_16PositionMoveTypeE">previous</a>()) &amp;&amp; <a class="ref fn" href="#_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" title='WebCore::isNewLineAtPosition' data-ref="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" data-ref-filename="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE">isNewLineAtPosition</a>(<a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>))</td></tr>
<tr><th id="238">238</th><td>                <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerTextEv" title='WebCore::Position::containerText' data-ref="_ZNK7WebCore8Position13containerTextEv" data-ref-filename="_ZNK7WebCore8Position13containerTextEv">containerText</a>(), ++<a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a>);</td></tr>
<tr><th id="239">239</th><td>            <b>if</b> (<a class="local col2 ref" href="#282isEndAndEndOfLastParagraphOnSameNode" title='isEndAndEndOfLastParagraphOnSameNode' data-ref="282isEndAndEndOfLastParagraphOnSameNode" data-ref-filename="282isEndAndEndOfLastParagraphOnSameNode">isEndAndEndOfLastParagraphOnSameNode</a> &amp;&amp; <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &gt;= <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>())</td></tr>
<tr><th id="240">240</th><td>                <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSERKS0_" data-ref-filename="_ZN7WebCore8PositionaSERKS0_">=</a> <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>;</td></tr>
<tr><th id="241">241</th><td>        }</td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td>        <i>// If end is in the middle of a text node and the text node is editable, split.</i></td></tr>
<tr><th id="244">244</th><td>        <b>if</b> (<a class="local col1 ref" href="#281endStyle" title='endStyle' data-ref="281endStyle" data-ref-filename="281endStyle">endStyle</a>-&gt;<a class="ref fn" href="../rendering/style/RenderStyle.h.html#_ZNK7WebCore11RenderStyle10userModifyEv" title='WebCore::RenderStyle::userModify' data-ref="_ZNK7WebCore11RenderStyle10userModifyEv" data-ref-filename="_ZNK7WebCore11RenderStyle10userModifyEv">userModify</a>() != <a class="type" href="../rendering/style/RenderStyleConstants.h.html#WebCore::UserModify" title='WebCore::UserModify' data-ref="WebCore::UserModify" data-ref-filename="WebCore..UserModify">UserModify</a>::<a class="enum" href="../rendering/style/RenderStyleConstants.h.html#WebCore::UserModify::ReadOnly" title='WebCore::UserModify::ReadOnly' data-ref="WebCore::UserModify::ReadOnly" data-ref-filename="WebCore..UserModify..ReadOnly">ReadOnly</a> &amp;&amp; !<a class="local col1 ref" href="#281endStyle" title='endStyle' data-ref="281endStyle" data-ref-filename="281endStyle">endStyle</a>-&gt;<a class="ref fn" href="../rendering/style/RenderStyle.h.html#_ZNK7WebCore11RenderStyle18collapseWhiteSpaceEv" title='WebCore::RenderStyle::collapseWhiteSpace' data-ref="_ZNK7WebCore11RenderStyle18collapseWhiteSpaceEv" data-ref-filename="_ZNK7WebCore11RenderStyle18collapseWhiteSpaceEv">collapseWhiteSpace</a>() &amp;&amp; <a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a> &amp;&amp; <a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a> &lt; <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>()-&gt;<a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node6lengthEv" title='WebCore::Node::length' data-ref="_ZNK7WebCore4Node6lengthEv" data-ref-filename="_ZNK7WebCore4Node6lengthEv">length</a>()) {</td></tr>
<tr><th id="245">245</th><td>            <a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RefPtr" title='WTF::RefPtr' data-ref="WTF::RefPtr" data-ref-filename="WTF..RefPtr">RefPtr</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt; <dfn class="local col4 decl" id="284endContainer" title='endContainer' data-type='RefPtr&lt;WebCore::Text&gt;' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</dfn> = <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1EPT_" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1EPT_" data-ref-filename="_ZN3WTF6RefPtrC1EPT_"></a><a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerTextEv" title='WebCore::Position::containerText' data-ref="_ZNK7WebCore8Position13containerTextEv" data-ref-filename="_ZNK7WebCore8Position13containerTextEv">containerText</a>();</td></tr>
<tr><th id="246">246</th><td>            <a class="member fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj" title='WebCore::CompositeEditCommand::splitTextNode' data-ref="_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj" data-ref-filename="_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj">splitTextNode</a>(<span class='refarg'><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrdeEv" title='WTF::RefPtr::operator*' data-ref="_ZNK3WTF6RefPtrdeEv" data-ref-filename="_ZNK3WTF6RefPtrdeEv">*</a><a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a></span>, <a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a>);</td></tr>
<tr><th id="247">247</th><td>            <b>if</b> (<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" title='WTF::is' data-ref="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" data-ref-filename="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE">is</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<span class='refarg'><a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a></span>) &amp;&amp; !<a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>()) {</td></tr>
<tr><th id="248">248</th><td>                <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1Ev" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1Ev" data-ref-filename="_ZN7WebCore8PositionC1Ev">{</a> };</td></tr>
<tr><th id="249">249</th><td>                <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1Ev" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1Ev" data-ref-filename="_ZN7WebCore8PositionC1Ev">{</a> };</td></tr>
<tr><th id="250">250</th><td>                <b>return</b>;</td></tr>
<tr><th id="251">251</th><td>            }</td></tr>
<tr><th id="252">252</th><td>            <b>if</b> (<a class="local col6 ref" href="#276isStartAndEndOnSameNode" title='isStartAndEndOnSameNode' data-ref="276isStartAndEndOnSameNode" data-ref-filename="276isStartAndEndOnSameNode">isStartAndEndOnSameNode</a>)</td></tr>
<tr><th id="253">253</th><td>                <a class="local col4 ref" href="#274start" title='start' data-ref="274start" data-ref-filename="274start">start</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="Editing.h.html#_ZN7WebCore27firstPositionInOrBeforeNodeEPNS_4NodeE" title='WebCore::firstPositionInOrBeforeNode' data-ref="_ZN7WebCore27firstPositionInOrBeforeNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore27firstPositionInOrBeforeNodeEPNS_4NodeE">firstPositionInOrBeforeNode</a>(<a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>());</td></tr>
<tr><th id="254">254</th><td>            <b>if</b> (<a class="local col2 ref" href="#282isEndAndEndOfLastParagraphOnSameNode" title='isEndAndEndOfLastParagraphOnSameNode' data-ref="282isEndAndEndOfLastParagraphOnSameNode" data-ref-filename="282isEndAndEndOfLastParagraphOnSameNode">isEndAndEndOfLastParagraphOnSameNode</a>) {</td></tr>
<tr><th id="255">255</th><td>                <b>if</b> (<b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>()) == <a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a>)</td></tr>
<tr><th id="256">256</th><td>                    <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="Editing.h.html#_ZN7WebCore25lastPositionInOrAfterNodeEPNS_4NodeE" title='WebCore::lastPositionInOrAfterNode' data-ref="_ZN7WebCore25lastPositionInOrAfterNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore25lastPositionInOrAfterNodeEPNS_4NodeE">lastPositionInOrAfterNode</a>(<a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>());</td></tr>
<tr><th id="257">257</th><td>                <b>else</b></td></tr>
<tr><th id="258">258</th><td>                    <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>(), <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() - <a class="local col3 ref" href="#283endOffset" title='endOffset' data-ref="283endOffset" data-ref-filename="283endOffset">endOffset</a>);</td></tr>
<tr><th id="259">259</th><td>            }</td></tr>
<tr><th id="260">260</th><td>            <a class="local col5 ref" href="#275end" title='end' data-ref="275end" data-ref-filename="275end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore18lastPositionInNodeEPNS_4NodeE" title='WebCore::lastPositionInNode' data-ref="_ZN7WebCore18lastPositionInNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore18lastPositionInNodeEPNS_4NodeE">lastPositionInNode</a>(<a class="local col4 ref" href="#284endContainer" title='endContainer' data-ref="284endContainer" data-ref-filename="284endContainer">endContainer</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>());</td></tr>
<tr><th id="261">261</th><td>        }</td></tr>
<tr><th id="262">262</th><td>    }</td></tr>
<tr><th id="263">263</th><td>}</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td><a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="decl def fn" id="_ZN7WebCore24ApplyBlockElementCommand44endOfNextParagraphSplittingTextNodesIfNeededERNS_15VisiblePositionERNS_8PositionES4_" title='WebCore::ApplyBlockElementCommand::endOfNextParagraphSplittingTextNodesIfNeeded' data-ref="_ZN7WebCore24ApplyBlockElementCommand44endOfNextParagraphSplittingTextNodesIfNeededERNS_15VisiblePositionERNS_8PositionES4_" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand44endOfNextParagraphSplittingTextNodesIfNeededERNS_15VisiblePositionERNS_8PositionES4_">endOfNextParagraphSplittingTextNodesIfNeeded</dfn>(<a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a>&amp; <dfn class="local col5 decl" id="285endOfCurrentParagraph" title='endOfCurrentParagraph' data-type='WebCore::VisiblePosition &amp;' data-ref="285endOfCurrentParagraph" data-ref-filename="285endOfCurrentParagraph">endOfCurrentParagraph</dfn>, <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>&amp; <dfn class="local col6 decl" id="286start" title='start' data-type='WebCore::Position &amp;' data-ref="286start" data-ref-filename="286start">start</dfn>, <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a>&amp; <dfn class="local col7 decl" id="287end" title='end' data-type='WebCore::Position &amp;' data-ref="287end" data-ref-filename="287end">end</dfn>)</td></tr>
<tr><th id="266">266</th><td>{</td></tr>
<tr><th id="267">267</th><td>    <a class="type" href="VisiblePosition.h.html#WebCore::VisiblePosition" title='WebCore::VisiblePosition' data-ref="WebCore::VisiblePosition" data-ref-filename="WebCore..VisiblePosition">VisiblePosition</a> <dfn class="local col8 decl" id="288endOfNextParagraph" title='endOfNextParagraph' data-type='WebCore::VisiblePosition' data-ref="288endOfNextParagraph" data-ref-filename="288endOfNextParagraph">endOfNextParagraph</dfn> = <a class="ref fn" href="VisibleUnits.h.html#_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" title='WebCore::endOfParagraph' data-ref="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE" data-ref-filename="_ZN7WebCore14endOfParagraphERKNS_15VisiblePositionENS_27EditingBoundaryCrossingRuleE">endOfParagraph</a>(<a class="local col5 ref" href="#285endOfCurrentParagraph" title='endOfCurrentParagraph' data-ref="285endOfCurrentParagraph" data-ref-filename="285endOfCurrentParagraph">endOfCurrentParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition4nextENS_27EditingBoundaryCrossingRuleEPb" title='WebCore::VisiblePosition::next' data-ref="_ZNK7WebCore15VisiblePosition4nextENS_27EditingBoundaryCrossingRuleEPb" data-ref-filename="_ZNK7WebCore15VisiblePosition4nextENS_27EditingBoundaryCrossingRuleEPb">next</a>());</td></tr>
<tr><th id="268">268</th><td>    <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a> <dfn class="local col9 decl" id="289position" title='position' data-type='WebCore::Position' data-ref="289position" data-ref-filename="289position">position</dfn> = <a class="local col8 ref" href="#288endOfNextParagraph" title='endOfNextParagraph' data-ref="288endOfNextParagraph" data-ref-filename="288endOfNextParagraph">endOfNextParagraph</a>.<a class="ref fn" href="VisiblePosition.h.html#_ZNK7WebCore15VisiblePosition14deepEquivalentEv" title='WebCore::VisiblePosition::deepEquivalent' data-ref="_ZNK7WebCore15VisiblePosition14deepEquivalentEv" data-ref-filename="_ZNK7WebCore15VisiblePosition14deepEquivalentEv">deepEquivalent</a>();</td></tr>
<tr><th id="269">269</th><td>    <em>auto</em>* <dfn class="local col0 decl" id="290style" title='style' data-type='const WebCore::RenderStyle *' data-ref="290style" data-ref-filename="290style">style</dfn> = <a class="member fn" href="#_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" title='WebCore::ApplyBlockElementCommand::renderStyleOfEnclosingTextNode' data-ref="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand30renderStyleOfEnclosingTextNodeERKNS_8PositionE">renderStyleOfEnclosingTextNode</a>(<a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>);</td></tr>
<tr><th id="270">270</th><td>    <b>if</b> (!<a class="local col0 ref" href="#290style" title='style' data-ref="290style" data-ref-filename="290style">style</a>)</td></tr>
<tr><th id="271">271</th><td>        <b>return</b> <a class="local col8 ref" href="#288endOfNextParagraph" title='endOfNextParagraph' data-ref="288endOfNextParagraph" data-ref-filename="288endOfNextParagraph">endOfNextParagraph</a>;</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td>    <a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RefPtr" title='WTF::RefPtr' data-ref="WTF::RefPtr" data-ref-filename="WTF..RefPtr">RefPtr</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt; <dfn class="local col1 decl" id="291text" title='text' data-type='RefPtr&lt;WebCore::Text&gt;' data-ref="291text" data-ref-filename="291text">text</dfn> = <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF6RefPtrC1EPT_" title='WTF::RefPtr::RefPtr&lt;T, type-parameter-0-1, type-parameter-0-2&gt;' data-ref="_ZN3WTF6RefPtrC1EPT_" data-ref-filename="_ZN3WTF6RefPtrC1EPT_"></a><a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerTextEv" title='WebCore::Position::containerText' data-ref="_ZNK7WebCore8Position13containerTextEv" data-ref-filename="_ZNK7WebCore8Position13containerTextEv">containerText</a>();</td></tr>
<tr><th id="274">274</th><td>    <b>if</b> (!<a class="local col0 ref" href="#290style" title='style' data-ref="290style" data-ref-filename="290style">style</a>-&gt;<a class="ref fn" href="../rendering/style/RenderStyle.h.html#_ZNK7WebCore11RenderStyle15preserveNewlineEv" title='WebCore::RenderStyle::preserveNewline' data-ref="_ZNK7WebCore11RenderStyle15preserveNewlineEv" data-ref-filename="_ZNK7WebCore11RenderStyle15preserveNewlineEv">preserveNewline</a>() || !<a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() || !<a class="ref fn" href="#_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" title='WebCore::isNewLineAtPosition' data-ref="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE" data-ref-filename="_ZN7WebCoreL19isNewLineAtPositionERKNS_8PositionE">isNewLineAtPosition</a>(<a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore19firstPositionInNodeEPNS_4NodeE" title='WebCore::firstPositionInNode' data-ref="_ZN7WebCore19firstPositionInNodeEPNS_4NodeE" data-ref-filename="_ZN7WebCore19firstPositionInNodeEPNS_4NodeE">firstPositionInNode</a>(<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>())))</td></tr>
<tr><th id="275">275</th><td>        <b>return</b> <a class="local col8 ref" href="#288endOfNextParagraph" title='endOfNextParagraph' data-ref="288endOfNextParagraph" data-ref-filename="288endOfNextParagraph">endOfNextParagraph</a>;</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td>    <i>// \n at the beginning of the text node immediately following the current paragraph is trimmed by moveParagraphWithClones.</i></td></tr>
<tr><th id="278">278</th><td><i>    // If endOfNextParagraph was pointing at this same text node, endOfNextParagraph will be shifted by one paragraph.</i></td></tr>
<tr><th id="279">279</th><td><i>    // Avoid this by splitting "\n"</i></td></tr>
<tr><th id="280">280</th><td>    <a class="member fn" href="CompositeEditCommand.cpp.html#_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj" title='WebCore::CompositeEditCommand::splitTextNode' data-ref="_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj" data-ref-filename="_ZN7WebCore20CompositeEditCommand13splitTextNodeERNS_4TextEj">splitTextNode</a>(<span class='refarg'><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrdeEv" title='WTF::RefPtr::operator*' data-ref="_ZNK3WTF6RefPtrdeEv" data-ref-filename="_ZNK3WTF6RefPtrdeEv">*</a><a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a></span>, <var>1</var>);</td></tr>
<tr><th id="281">281</th><td>    <em>auto</em> <dfn class="local col2 decl" id="292previousSiblingOfText" title='previousSiblingOfText' data-type='WTF::RefPtr&lt;WebCore::Node, WTF::RawPtrTraits&lt;WebCore::Node&gt;, WTF::DefaultRefDerefTraits&lt;WebCore::Node&gt;&gt;' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</dfn> = <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF10makeRefPtrEPT_" title='WTF::makeRefPtr' data-ref="_ZN3WTF10makeRefPtrEPT_" data-ref-filename="_ZN3WTF10makeRefPtrEPT_">makeRefPtr</a>(<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>());</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td>    <b>if</b> (<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_" data-ref-filename="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_">==</a> <a class="local col6 ref" href="#286start" title='start' data-ref="286start" data-ref-filename="286start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>() &amp;&amp; <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrcvbEv" title='WTF::RefPtr::operator bool' data-ref="_ZNK3WTF6RefPtrcvbEv" data-ref-filename="_ZNK3WTF6RefPtrcvbEv"></a><a class="local col2 ref" href="#292previousSiblingOfText" title='previousSiblingOfText' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</a> &amp;&amp; <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" title='WTF::is' data-ref="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" data-ref-filename="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE">is</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<span class='refarg'><a class="local col2 ref" href="#292previousSiblingOfText" title='previousSiblingOfText' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</a></span>)) {</td></tr>
<tr><th id="284">284</th><td>        <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(start.offsetInContainerNode() &lt; position.offsetInContainerNode())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 284, __PRETTY_FUNCTION__, &quot;start.offsetInContainerNode() &lt; position.offsetInContainerNode()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(284, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 973); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col6 ref" href="#286start" title='start' data-ref="286start" data-ref-filename="286start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &lt; <a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>());</td></tr>
<tr><th id="285">285</th><td>        <a class="local col6 ref" href="#286start" title='start' data-ref="286start" data-ref-filename="286start">start</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastEPT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastEPT0_" data-ref-filename="_ZN3WTF8downcastEPT0_">downcast</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>()), <a class="local col6 ref" href="#286start" title='start' data-ref="286start" data-ref-filename="286start">start</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>());</td></tr>
<tr><th id="286">286</th><td>    }</td></tr>
<tr><th id="287">287</th><td>    <b>if</b> (<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_" data-ref-filename="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_">==</a> <a class="local col7 ref" href="#287end" title='end' data-ref="287end" data-ref-filename="287end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>() &amp;&amp; <a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrcvbEv" title='WTF::RefPtr::operator bool' data-ref="_ZNK3WTF6RefPtrcvbEv" data-ref-filename="_ZNK3WTF6RefPtrcvbEv"></a><a class="local col2 ref" href="#292previousSiblingOfText" title='previousSiblingOfText' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</a> &amp;&amp; <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" title='WTF::is' data-ref="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" data-ref-filename="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE">is</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<span class='refarg'><a class="local col2 ref" href="#292previousSiblingOfText" title='previousSiblingOfText' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</a></span>)) {</td></tr>
<tr><th id="288">288</th><td>        <a class="macro" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Assertions.h.html#347" title="do { if (!(end.offsetInContainerNode() &lt; position.offsetInContainerNode())) { WTFReportAssertionFailure(&quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, 288, __PRETTY_FUNCTION__, &quot;end.offsetInContainerNode() &lt; position.offsetInContainerNode()&quot;); do { WTF::isIntegralOrPointerType(); compilerFenceForCrash(); WTFCrashWithInfo(288, &quot;/Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/editing/ApplyBlockElementCommand.cpp&quot;, __PRETTY_FUNCTION__, 975); } while (false); } } while (0)" data-ref="_M/ASSERT">ASSERT</a>(<a class="local col7 ref" href="#287end" title='end' data-ref="287end" data-ref-filename="287end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &lt; <a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>());</td></tr>
<tr><th id="289">289</th><td>        <a class="local col7 ref" href="#287end" title='end' data-ref="287end" data-ref-filename="287end">end</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastEPT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastEPT0_" data-ref-filename="_ZN3WTF8downcastEPT0_">downcast</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>()), <a class="local col7 ref" href="#287end" title='end' data-ref="287end" data-ref-filename="287end">end</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>());</td></tr>
<tr><th id="290">290</th><td>    }</td></tr>
<tr><th id="291">291</th><td>    <b>if</b> (<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a> <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_" title='WTF::operator==' data-ref="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_" data-ref-filename="_ZN3WTFeqERKNS_6RefPtrIT_T0_T1_EEPT2_">==</a> <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position13containerNodeEv" title='WebCore::Position::containerNode' data-ref="_ZNK7WebCore8Position13containerNodeEv" data-ref-filename="_ZNK7WebCore8Position13containerNodeEv">containerNode</a>()) {</td></tr>
<tr><th id="292">292</th><td>        <b>if</b> (<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() &lt; <a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>()) {</td></tr>
<tr><th id="293">293</th><td>            <i>// We can only fix endOfLastParagraph if the previous node was still text and hasn't been modified by script.</i></td></tr>
<tr><th id="294">294</th><td>            <b>if</b> (<a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrcvbEv" title='WTF::RefPtr::operator bool' data-ref="_ZNK3WTF6RefPtrcvbEv" data-ref-filename="_ZNK3WTF6RefPtrcvbEv"></a><a class="local col2 ref" href="#292previousSiblingOfText" title='previousSiblingOfText' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</a> &amp;&amp; <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" title='WTF::is' data-ref="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE" data-ref-filename="_ZN3WTF2isERNS_6RefPtrIT0_T1_T2_EE">is</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<span class='refarg'><a class="local col2 ref" href="#292previousSiblingOfText" title='previousSiblingOfText' data-ref="292previousSiblingOfText" data-ref-filename="292previousSiblingOfText">previousSiblingOfText</a></span>)</td></tr>
<tr><th id="295">295</th><td>                &amp;&amp; <b>static_cast</b>&lt;<em>unsigned</em>&gt;(<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>()) &lt;= <a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastEPT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastEPT0_" data-ref-filename="_ZN3WTF8downcastEPT0_">downcast</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>())-&gt;<a class="ref fn" href="../dom/CharacterData.h.html#_ZNK7WebCore13CharacterData6lengthEv" title='WebCore::CharacterData::length' data-ref="_ZNK7WebCore13CharacterData6lengthEv" data-ref-filename="_ZNK7WebCore13CharacterData6lengthEv">length</a>())</td></tr>
<tr><th id="296">296</th><td>                <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastEPT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastEPT0_" data-ref-filename="_ZN3WTF8downcastEPT0_">downcast</a>&lt;<a class="type" href="../dom/Text.h.html#WebCore::Text" title='WebCore::Text' data-ref="WebCore::Text" data-ref-filename="WebCore..Text">Text</a>&gt;(<a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtrptEv" title='WTF::RefPtr::operator-&gt;' data-ref="_ZNK3WTF6RefPtrptEv" data-ref-filename="_ZNK3WTF6RefPtrptEv">-&gt;</a><a class="ref fn" href="../dom/Node.h.html#_ZNK7WebCore4Node15previousSiblingEv" title='WebCore::Node::previousSibling' data-ref="_ZNK7WebCore4Node15previousSiblingEv" data-ref-filename="_ZNK7WebCore4Node15previousSiblingEv">previousSibling</a>()), <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>());</td></tr>
<tr><th id="297">297</th><td>        } <b>else</b></td></tr>
<tr><th id="298">298</th><td>            <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a> <a class="ref fn" href="../dom/Position.h.html#54" title='WebCore::Position::operator=' data-ref="_ZN7WebCore8PositionaSEOS0_" data-ref-filename="_ZN7WebCore8PositionaSEOS0_">=</a> <a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>(), <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" title='WebCore::ApplyBlockElementCommand::m_endOfLastParagraph' data-ref="WebCore::ApplyBlockElementCommand::m_endOfLastParagraph" data-ref-filename="WebCore..ApplyBlockElementCommand..m_endOfLastParagraph">m_endOfLastParagraph</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() - <var>1</var>);</td></tr>
<tr><th id="299">299</th><td>    }</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>    <b>return</b> <a class="ref fn fake" href="VisiblePosition.h.html#_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" title='WebCore::VisiblePosition::VisiblePosition' data-ref="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE" data-ref-filename="_ZN7WebCore15VisiblePositionC1ERKNS_8PositionENS_8AffinityE"></a><a class="type" href="../dom/Position.h.html#WebCore::Position" title='WebCore::Position' data-ref="WebCore::Position" data-ref-filename="WebCore..Position">Position</a><a class="ref fn" href="../dom/Position.h.html#_ZN7WebCore8PositionC1EPNS_4TextEj" title='WebCore::Position::Position' data-ref="_ZN7WebCore8PositionC1EPNS_4TextEj" data-ref-filename="_ZN7WebCore8PositionC1EPNS_4TextEj">(</a><a class="local col1 ref" href="#291text" title='text' data-ref="291text" data-ref-filename="291text">text</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/RefPtr.h.html#_ZNK3WTF6RefPtr3getEv" title='WTF::RefPtr::get' data-ref="_ZNK3WTF6RefPtr3getEv" data-ref-filename="_ZNK3WTF6RefPtr3getEv">get</a>(), <a class="local col9 ref" href="#289position" title='position' data-ref="289position" data-ref-filename="289position">position</a>.<a class="ref fn" href="../dom/Position.h.html#_ZNK7WebCore8Position21offsetInContainerNodeEv" title='WebCore::Position::offsetInContainerNode' data-ref="_ZNK7WebCore8Position21offsetInContainerNodeEv" data-ref-filename="_ZNK7WebCore8Position21offsetInContainerNodeEv">offsetInContainerNode</a>() - <var>1</var>);</td></tr>
<tr><th id="302">302</th><td>}</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td><a class="type" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::Ref" title='WTF::Ref' data-ref="WTF::Ref" data-ref-filename="WTF..Ref">Ref</a>&lt;<a class="type" href="../html/HTMLElement.h.html#WebCore::HTMLElement" title='WebCore::HTMLElement' data-ref="WebCore::HTMLElement" data-ref-filename="WebCore..HTMLElement">HTMLElement</a>&gt; <a class="type" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand" title='WebCore::ApplyBlockElementCommand' data-ref="WebCore::ApplyBlockElementCommand" data-ref-filename="WebCore..ApplyBlockElementCommand">ApplyBlockElementCommand</a>::<dfn class="decl def fn" id="_ZN7WebCore24ApplyBlockElementCommand18createBlockElementEv" title='WebCore::ApplyBlockElementCommand::createBlockElement' data-ref="_ZN7WebCore24ApplyBlockElementCommand18createBlockElementEv" data-ref-filename="_ZN7WebCore24ApplyBlockElementCommand18createBlockElementEv">createBlockElement</dfn>()</td></tr>
<tr><th id="305">305</th><td>{</td></tr>
<tr><th id="306">306</th><td>    <em>auto</em> <dfn class="local col3 decl" id="293element" title='element' data-type='WTF::Ref&lt;WebCore::HTMLElement, WTF::RawPtrTraits&lt;WebCore::HTMLElement&gt;&gt;' data-ref="293element" data-ref-filename="293element">element</dfn> = <a class="ref fn" href="Editing.h.html#_ZN7WebCore17createHTMLElementERNS_8DocumentERKNS_13QualifiedNameE" title='WebCore::createHTMLElement' data-ref="_ZN7WebCore17createHTMLElementERNS_8DocumentERKNS_13QualifiedNameE" data-ref-filename="_ZN7WebCore17createHTMLElementERNS_8DocumentERKNS_13QualifiedNameE">createHTMLElement</a>(<span class='refarg'><a class="member fn" href="EditCommand.h.html#_ZN7WebCore11EditCommand8documentEv" title='WebCore::EditCommand::document' data-ref="_ZN7WebCore11EditCommand8documentEv" data-ref-filename="_ZN7WebCore11EditCommand8documentEv">document</a>()</span>, <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_tagName" title='WebCore::ApplyBlockElementCommand::m_tagName' data-ref="WebCore::ApplyBlockElementCommand::m_tagName" data-ref-filename="WebCore..ApplyBlockElementCommand..m_tagName">m_tagName</a>);</td></tr>
<tr><th id="307">307</th><td>    <b>if</b> (<a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_inlineStyle" title='WebCore::ApplyBlockElementCommand::m_inlineStyle' data-ref="WebCore::ApplyBlockElementCommand::m_inlineStyle" data-ref-filename="WebCore..ApplyBlockElementCommand..m_inlineStyle">m_inlineStyle</a>.<a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/text/AtomString.h.html#_ZNK3WTF10AtomString6lengthEv" title='WTF::AtomString::length' data-ref="_ZNK3WTF10AtomString6lengthEv" data-ref-filename="_ZNK3WTF10AtomString6lengthEv">length</a>())</td></tr>
<tr><th id="308">308</th><td>        <a class="local col3 ref" href="#293element" title='element' data-ref="293element" data-ref-filename="293element">element</a><a class="ref fn" href="../../../WebKitBuild/Debug/usr/local/include/wtf/Ref.h.html#_ZNK3WTF3RefptEv" title='WTF::Ref::operator-&gt;' data-ref="_ZNK3WTF3RefptEv" data-ref-filename="_ZNK3WTF3RefptEv">-&gt;</a><a class="ref fn" href="../dom/Element.h.html#_ZN7WebCore7Element12setAttributeERKNS_13QualifiedNameERKN3WTF10AtomStringE" title='WebCore::Element::setAttribute' data-ref="_ZN7WebCore7Element12setAttributeERKNS_13QualifiedNameERKN3WTF10AtomStringE" data-ref-filename="_ZN7WebCore7Element12setAttributeERKNS_13QualifiedNameERKN3WTF10AtomStringE">setAttribute</a>(<a class="ref fn fake" href="../../../WebKitBuild/Debug/usr/local/include/wtf/NeverDestroyed.h.html#_ZN3WTF18LazyNeverDestroyedcvRT_Ev" title='WTF::LazyNeverDestroyed::operator type-parameter-0-0 &amp;' data-ref="_ZN3WTF18LazyNeverDestroyedcvRT_Ev" data-ref-filename="_ZN3WTF18LazyNeverDestroyedcvRT_Ev"></a><a class="ref" href="../../../WebKitBuild/Debug/DerivedSources/WebCore/HTMLNames.h.html#WebCore::HTMLNames::styleAttr" title='WebCore::HTMLNames::styleAttr' data-ref="WebCore::HTMLNames::styleAttr" data-ref-filename="WebCore..HTMLNames..styleAttr">styleAttr</a>, <a class="member field" href="ApplyBlockElementCommand.h.html#WebCore::ApplyBlockElementCommand::m_inlineStyle" title='WebCore::ApplyBlockElementCommand::m_inlineStyle' data-ref="WebCore::ApplyBlockElementCommand::m_inlineStyle" data-ref-filename="WebCore..ApplyBlockElementCommand..m_inlineStyle">m_inlineStyle</a>);</td></tr>
<tr><th id="309">309</th><td>    <b>return</b> <a class="local col3 ref" href="#293element" title='element' data-ref="293element" data-ref-filename="293element">element</a>;</td></tr>
<tr><th id="310">310</th><td>}</td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td>}</td></tr>
<tr><th id="313">313</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../WebKitBuild/Debug/DerivedSources/WebCore/unified-sources/UnifiedSource145.cpp.html'>webkit/WebKitBuild/Debug/DerivedSources/WebCore/unified-sources/UnifiedSource145.cpp</a><br/>Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
