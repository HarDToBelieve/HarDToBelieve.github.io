<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>DragImageCocoa.mm source code [webkit/Source/WebCore/platform/cocoa/DragImageCocoa.mm] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="WebCore::LinkImageLayout "/>
<link rel="stylesheet" href="../../../../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'webkit/Source/WebCore/platform/cocoa/DragImageCocoa.mm'; var root_path = '../../../../..'; var data_path = '../../../../../../data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>webkit</a>/<a href='../../..'>Source</a>/<a href='../..'>WebCore</a>/<a href='..'>platform</a>/<a href='./'>cocoa</a>/<a href='DragImageCocoa.mm.html'>DragImageCocoa.mm</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> * Copyright (C) 2007, 2009, 2012-2020 Apple Inc. All rights reserved.</i></td></tr>
<tr><th id="3">3</th><td><i> *</i></td></tr>
<tr><th id="4">4</th><td><i> * Redistribution and use in source and binary forms, with or without</i></td></tr>
<tr><th id="5">5</th><td><i> * modification, are permitted provided that the following conditions</i></td></tr>
<tr><th id="6">6</th><td><i> * are met:</i></td></tr>
<tr><th id="7">7</th><td><i> * 1. Redistributions of source code must retain the above copyright</i></td></tr>
<tr><th id="8">8</th><td><i> *    notice, this list of conditions and the following disclaimer.</i></td></tr>
<tr><th id="9">9</th><td><i> * 2. Redistributions in binary form must reproduce the above copyright</i></td></tr>
<tr><th id="10">10</th><td><i> *    notice, this list of conditions and the following disclaimer in the</i></td></tr>
<tr><th id="11">11</th><td><i> *    documentation and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="12">12</th><td><i> *</i></td></tr>
<tr><th id="13">13</th><td><i> * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY</i></td></tr>
<tr><th id="14">14</th><td><i> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</i></td></tr>
<tr><th id="15">15</th><td><i> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</i></td></tr>
<tr><th id="16">16</th><td><i> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR</i></td></tr>
<tr><th id="17">17</th><td><i> * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</i></td></tr>
<tr><th id="18">18</th><td><i> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</i></td></tr>
<tr><th id="19">19</th><td><i> * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</i></td></tr>
<tr><th id="20">20</th><td><i> * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY</i></td></tr>
<tr><th id="21">21</th><td><i> * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</i></td></tr>
<tr><th id="22">22</th><td><i> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</i></td></tr>
<tr><th id="23">23</th><td><i> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </i></td></tr>
<tr><th id="24">24</th><td><i> */</i></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><u>#import <a href="../../config.h.html">"config.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#import <a href="../DragImage.h.html">"DragImage.h"</a></u></td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><u>#<span data-ppcond="29">if</span> <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/PlatformEnable.h.html#36" title="(defined 1 &amp;&amp; 1)" data-ref="_M/ENABLE">ENABLE</a>(DRAG_SUPPORT) &amp;&amp; <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/PlatformLegacy.h.html#38" title="(defined 1 &amp;&amp; 1)" data-ref="_M/PLATFORM">PLATFORM</a>(MAC)</u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#import <a href="../graphics/BitmapImage.h.html">"BitmapImage.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#import <a href="../graphics/mac/ColorMac.h.html">"ColorMac.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#import <a href="../../dom/Element.h.html">"Element.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#import <a href="../graphics/FloatRoundedRect.h.html">"FloatRoundedRect.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#import <a href="../graphics/FontCascade.h.html">"FontCascade.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#import <a href="../graphics/FontDescription.h.html">"FontDescription.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#import <a href="../graphics/FontSelector.h.html">"FontSelector.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#import <a href="../graphics/cg/GraphicsContextCG.h.html">"GraphicsContextCG.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#import <a href="../graphics/Image.h.html">"Image.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#import <a href="../mac/LocalDefaultSystemAppearance.h.html">"LocalDefaultSystemAppearance.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#import <a href="../../page/Page.h.html">"Page.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#import <a href="../graphics/StringTruncator.h.html">"StringTruncator.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#import <a href="../../page/TextIndicator.h.html">"TextIndicator.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#import <a href="../graphics/mac/WebKitNSImageExtras.h.html">"WebKitNSImageExtras.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cf/CoreTextSPI.h.html">&lt;pal/spi/cf/CoreTextSPI.h&gt;</a></u></td></tr>
<tr><th id="46">46</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cg/CoreGraphicsSPI.h.html">&lt;pal/spi/cg/CoreGraphicsSPI.h&gt;</a></u></td></tr>
<tr><th id="47">47</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cocoa/URLFormattingSPI.h.html">&lt;pal/spi/cocoa/URLFormattingSPI.h&gt;</a></u></td></tr>
<tr><th id="48">48</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/SoftLinking.h.html">&lt;wtf/SoftLinking.h&gt;</a></u></td></tr>
<tr><th id="49">49</th><td><u>#import <a href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html">&lt;wtf/URL.h&gt;</a></u></td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><u>#<span data-ppcond="51">if</span> !<a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/PlatformHave.h.html#36" title="(defined 1 &amp;&amp; 1)" data-ref="_M/HAVE">HAVE</a>(URL_FORMATTING)</u></td></tr>
<tr><th id="52">52</th><td>SOFT_LINK_PRIVATE_FRAMEWORK_OPTIONAL(LinkPresentation)</td></tr>
<tr><th id="53">53</th><td><u>#<span data-ppcond="51">endif</span></u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><b>namespace</b> <span class="namespace">WebCore</span> {</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><a class="type" href="../graphics/IntSize.h.html#WebCore::IntSize" title='WebCore::IntSize' data-ref="WebCore::IntSize" data-ref-filename="WebCore..IntSize">IntSize</a> <dfn class="decl def fn" id="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE" title='WebCore::dragImageSize' data-ref="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE" data-ref-filename="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE">dragImageSize</dfn>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="local col6 decl" id="336image" title='image' data-type='RetainPtr&lt;NSImage&gt;' data-ref="336image" data-ref-filename="336image">image</dfn>)</td></tr>
<tr><th id="58">58</th><td>{</td></tr>
<tr><th id="59">59</th><td>    <b>return</b> <a class="ref fn" href="../graphics/IntSize.h.html#_ZN7WebCore7IntSizeC1ERK6CGSize" title='WebCore::IntSize::IntSize' data-ref="_ZN7WebCore7IntSizeC1ERK6CGSize" data-ref-filename="_ZN7WebCore7IntSizeC1ERK6CGSize">(</a><a class="type" href="../graphics/IntSize.h.html#WebCore::IntSize" title='WebCore::IntSize' data-ref="WebCore::IntSize" data-ref-filename="WebCore..IntSize">IntSize</a>)[<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col6 ref" href="#336image" title='image' data-ref="336image" data-ref-filename="336image">image</a> size];</td></tr>
<tr><th id="60">60</th><td>}</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><em>void</em> <dfn class="decl def fn" id="_ZN7WebCore15deleteDragImageEN3WTF9RetainPtrI7NSImageEE" title='WebCore::deleteDragImage' data-ref="_ZN7WebCore15deleteDragImageEN3WTF9RetainPtrI7NSImageEE" data-ref-filename="_ZN7WebCore15deleteDragImageEN3WTF9RetainPtrI7NSImageEE">deleteDragImage</dfn>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt;)</td></tr>
<tr><th id="63">63</th><td>{</td></tr>
<tr><th id="64">64</th><td>    <i>// Since this is a RetainPtr, there's nothing additional we need to do to</i></td></tr>
<tr><th id="65">65</th><td><i>    // delete it. It will be released when it falls out of scope.</i></td></tr>
<tr><th id="66">66</th><td>}</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td><a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="decl def fn" id="_ZN7WebCore14scaleDragImageEN3WTF9RetainPtrI7NSImageEENS_9FloatSizeE" title='WebCore::scaleDragImage' data-ref="_ZN7WebCore14scaleDragImageEN3WTF9RetainPtrI7NSImageEENS_9FloatSizeE" data-ref-filename="_ZN7WebCore14scaleDragImageEN3WTF9RetainPtrI7NSImageEENS_9FloatSizeE">scaleDragImage</dfn>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="local col7 decl" id="337image" title='image' data-type='RetainPtr&lt;NSImage&gt;' data-ref="337image" data-ref-filename="337image">image</dfn>, <a class="type" href="../graphics/FloatSize.h.html#WebCore::FloatSize" title='WebCore::FloatSize' data-ref="WebCore::FloatSize" data-ref-filename="WebCore..FloatSize">FloatSize</a> <dfn class="local col8 decl" id="338scale" title='scale' data-type='WebCore::FloatSize' data-ref="338scale" data-ref-filename="338scale">scale</dfn>)</td></tr>
<tr><th id="69">69</th><td>{</td></tr>
<tr><th id="70">70</th><td>    <span class='typedef' title='NSSize' data-type='struct CGSize' data-ref="NSSize" data-ref-filename="NSSize">NSSize</span> <dfn class="local col9 decl" id="339originalSize" title='originalSize' data-type='NSSize' data-ref="339originalSize" data-ref-filename="339originalSize">originalSize</dfn> = [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col7 ref" href="#337image" title='image' data-ref="337image" data-ref-filename="337image">image</a> size];</td></tr>
<tr><th id="71">71</th><td>    <span class='typedef' title='NSSize' data-type='struct CGSize' data-ref="NSSize" data-ref-filename="NSSize">NSSize</span> <dfn class="local col0 decl" id="340newSize" title='newSize' data-type='NSSize' data-ref="340newSize" data-ref-filename="340newSize">newSize</dfn> = <span class='ref fn' title='NSMakeSize' data-ref="_ZL10NSMakeSizedd" data-ref-filename="_ZL10NSMakeSizedd">NSMakeSize</span>((<a class="local col9 ref" href="#339originalSize" title='originalSize' data-ref="339originalSize" data-ref-filename="339originalSize">originalSize</a>.<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span> * <a class="local col8 ref" href="#338scale" title='scale' data-ref="338scale" data-ref-filename="338scale">scale</a>.<a class="ref fn" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSize5widthEv" title='WebCore::FloatSize::width' data-ref="_ZNK7WebCore9FloatSize5widthEv" data-ref-filename="_ZNK7WebCore9FloatSize5widthEv">width</a>()), (<a class="local col9 ref" href="#339originalSize" title='originalSize' data-ref="339originalSize" data-ref-filename="339originalSize">originalSize</a>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span> * <a class="local col8 ref" href="#338scale" title='scale' data-ref="338scale" data-ref-filename="338scale">scale</a>.<a class="ref fn" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSize6heightEv" title='WebCore::FloatSize::height' data-ref="_ZNK7WebCore9FloatSize6heightEv" data-ref-filename="_ZNK7WebCore9FloatSize6heightEv">height</a>()));</td></tr>
<tr><th id="72">72</th><td>    <a class="local col0 ref" href="#340newSize" title='newSize' data-ref="340newSize" data-ref-filename="340newSize">newSize</a>.<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span> = <span class='ref fn' title='roundf' data-ref="roundf" data-ref-filename="roundf">roundf</span>(<a class="local col0 ref" href="#340newSize" title='newSize' data-ref="340newSize" data-ref-filename="340newSize">newSize</a>.<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span>);</td></tr>
<tr><th id="73">73</th><td>    <a class="local col0 ref" href="#340newSize" title='newSize' data-ref="340newSize" data-ref-filename="340newSize">newSize</a>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span> = <span class='ref fn' title='roundf' data-ref="roundf" data-ref-filename="roundf">roundf</span>(<a class="local col0 ref" href="#340newSize" title='newSize' data-ref="340newSize" data-ref-filename="340newSize">newSize</a>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span>);</td></tr>
<tr><th id="74">74</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Compiler.h.html#495" title="" data-ref="_M/ALLOW_DEPRECATED_DECLARATIONS_BEGIN">ALLOW_DEPRECATED_DECLARATIONS_BEGIN</a></td></tr>
<tr><th id="75">75</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col7 ref" href="#337image" title='image' data-ref="337image" data-ref-filename="337image">image</a> setScalesWhenResized:<span class="macro" title="__objc_yes" data-ref="_M/YES">YES</span>];</td></tr>
<tr><th id="76">76</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Compiler.h.html#496" title="" data-ref="_M/ALLOW_DEPRECATED_DECLARATIONS_END">ALLOW_DEPRECATED_DECLARATIONS_END</a></td></tr>
<tr><th id="77">77</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col7 ref" href="#337image" title='image' data-ref="337image" data-ref-filename="337image">image</a> setSize:<span class='ref fn fake' title='CGSize::CGSize' data-ref="_ZN6CGSizeC1ERKS_" data-ref-filename="_ZN6CGSizeC1ERKS_"></span><a class="local col0 ref" href="#340newSize" title='newSize' data-ref="340newSize" data-ref-filename="340newSize">newSize</a>];</td></tr>
<tr><th id="78">78</th><td>    <b>return</b> <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtrC1EONS_9RetainPtrIT_EE" title='WTF::RetainPtr::RetainPtr&lt;type-parameter-0-0&gt;' data-ref="_ZN3WTF9RetainPtrC1EONS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtrC1EONS_9RetainPtrIT_EE"></a><a class="local col7 ref" href="#337image" title='image' data-ref="337image" data-ref-filename="337image">image</a>;</td></tr>
<tr><th id="79">79</th><td>}</td></tr>
<tr><th id="80">80</th><td>    </td></tr>
<tr><th id="81">81</th><td><a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="decl def fn" id="_ZN7WebCore27dissolveDragImageToFractionEN3WTF9RetainPtrI7NSImageEEf" title='WebCore::dissolveDragImageToFraction' data-ref="_ZN7WebCore27dissolveDragImageToFractionEN3WTF9RetainPtrI7NSImageEEf" data-ref-filename="_ZN7WebCore27dissolveDragImageToFractionEN3WTF9RetainPtrI7NSImageEEf">dissolveDragImageToFraction</dfn>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="local col1 decl" id="341image" title='image' data-type='RetainPtr&lt;NSImage&gt;' data-ref="341image" data-ref-filename="341image">image</dfn>, <em>float</em> <dfn class="local col2 decl" id="342delta" title='delta' data-type='float' data-ref="342delta" data-ref-filename="342delta">delta</dfn>)</td></tr>
<tr><th id="82">82</th><td>{</td></tr>
<tr><th id="83">83</th><td>    <b>if</b> (<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrntEv" title='WTF::RetainPtr::operator!' data-ref="_ZNK3WTF9RetainPtrntEv" data-ref-filename="_ZNK3WTF9RetainPtrntEv">!</a><a class="local col1 ref" href="#341image" title='image' data-ref="341image" data-ref-filename="341image">image</a>)</td></tr>
<tr><th id="84">84</th><td>        <b>return</b> <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="local col3 decl" id="343dissolvedImage" title='dissolvedImage' data-type='RetainPtr&lt;NSImage&gt;' data-ref="343dissolvedImage" data-ref-filename="343dissolvedImage">dissolvedImage</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSImage alloc] initWithSize:[<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col1 ref" href="#341image" title='image' data-ref="341image" data-ref-filename="341image">image</a> size]]);</td></tr>
<tr><th id="87">87</th><td>    </td></tr>
<tr><th id="88">88</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col3 ref" href="#343dissolvedImage" title='dissolvedImage' data-ref="343dissolvedImage" data-ref-filename="343dissolvedImage">dissolvedImage</a> lockFocus];</td></tr>
<tr><th id="89">89</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col1 ref" href="#341image" title='image' data-ref="341image" data-ref-filename="341image">image</a> drawAtPoint:<span class='ref fn fake' title='CGPoint::CGPoint' data-ref="_ZN7CGPointC1ERKS_" data-ref-filename="_ZN7CGPointC1ERKS_"></span><span class='ref' title='NSZeroPoint' data-ref="NSZeroPoint" data-ref-filename="NSZeroPoint">NSZeroPoint</span> fromRect:<span class='ref fn' title='NSMakeRect' data-ref="_ZL10NSMakeRectdddd" data-ref-filename="_ZL10NSMakeRectdddd">NSMakeRect</span>(<var>0</var>, <var>0</var>, [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col1 ref" href="#341image" title='image' data-ref="341image" data-ref-filename="341image">image</a> size].<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span>, [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col1 ref" href="#341image" title='image' data-ref="341image" data-ref-filename="341image">image</a> size].<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span>) operation:<span class='enum' title='NSCompositingOperationCopy' data-ref="NSCompositingOperationCopy" data-ref-filename="NSCompositingOperationCopy">NSCompositingOperationCopy</span> fraction:<a class="local col2 ref" href="#342delta" title='delta' data-ref="342delta" data-ref-filename="342delta">delta</a>];</td></tr>
<tr><th id="90">90</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col3 ref" href="#343dissolvedImage" title='dissolvedImage' data-ref="343dissolvedImage" data-ref-filename="343dissolvedImage">dissolvedImage</a> unlockFocus];</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td>    <b>return</b> <a class="local col3 ref" href="#343dissolvedImage" title='dissolvedImage' data-ref="343dissolvedImage" data-ref-filename="343dissolvedImage">dissolvedImage</a>;</td></tr>
<tr><th id="93">93</th><td>}</td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td><a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="decl def fn" id="_ZN7WebCore24createDragImageFromImageEPNS_5ImageENS_16ImageOrientationE" title='WebCore::createDragImageFromImage' data-ref="_ZN7WebCore24createDragImageFromImageEPNS_5ImageENS_16ImageOrientationE" data-ref-filename="_ZN7WebCore24createDragImageFromImageEPNS_5ImageENS_16ImageOrientationE">createDragImageFromImage</dfn>(<a class="type" href="../graphics/Image.h.html#WebCore::Image" title='WebCore::Image' data-ref="WebCore::Image" data-ref-filename="WebCore..Image">Image</a>* <dfn class="local col4 decl" id="344image" title='image' data-type='WebCore::Image *' data-ref="344image" data-ref-filename="344image">image</dfn>, <a class="type" href="../graphics/ImageOrientation.h.html#WebCore::ImageOrientation" title='WebCore::ImageOrientation' data-ref="WebCore::ImageOrientation" data-ref-filename="WebCore..ImageOrientation">ImageOrientation</a> <dfn class="local col5 decl" id="345orientation" title='orientation' data-type='WebCore::ImageOrientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</dfn>)</td></tr>
<tr><th id="96">96</th><td>{</td></tr>
<tr><th id="97">97</th><td>    <b>if</b> (<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF2isERT0_" title='WTF::is' data-ref="_ZN3WTF2isERT0_" data-ref-filename="_ZN3WTF2isERT0_">is</a>&lt;<a class="type" href="../graphics/BitmapImage.h.html#WebCore::BitmapImage" title='WebCore::BitmapImage' data-ref="WebCore::BitmapImage" data-ref-filename="WebCore..BitmapImage">BitmapImage</a>&gt;(<span class='refarg'>*<a class="local col4 ref" href="#344image" title='image' data-ref="344image" data-ref-filename="344image">image</a></span>)) {</td></tr>
<tr><th id="98">98</th><td>        <a class="type" href="../graphics/BitmapImage.h.html#WebCore::BitmapImage" title='WebCore::BitmapImage' data-ref="WebCore::BitmapImage" data-ref-filename="WebCore..BitmapImage">BitmapImage</a>&amp; <dfn class="local col6 decl" id="346bitmapImage" title='bitmapImage' data-type='WebCore::BitmapImage &amp;' data-ref="346bitmapImage" data-ref-filename="346bitmapImage">bitmapImage</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/TypeCasts.h.html#_ZN3WTF8downcastERT0_" title='WTF::downcast' data-ref="_ZN3WTF8downcastERT0_" data-ref-filename="_ZN3WTF8downcastERT0_">downcast</a>&lt;<a class="type" href="../graphics/BitmapImage.h.html#WebCore::BitmapImage" title='WebCore::BitmapImage' data-ref="WebCore::BitmapImage" data-ref-filename="WebCore..BitmapImage">BitmapImage</a>&gt;(<span class='refarg'>*<a class="local col4 ref" href="#344image" title='image' data-ref="344image" data-ref-filename="344image">image</a></span>);</td></tr>
<tr><th id="99">99</th><td></td></tr>
<tr><th id="100">100</th><td>        <b>if</b> (<a class="ref fn fake" href="../graphics/ImageOrientation.h.html#_ZNK7WebCore16ImageOrientationcvNS0_11OrientationEEv" title='WebCore::ImageOrientation::operator WebCore::ImageOrientation::Orientation' data-ref="_ZNK7WebCore16ImageOrientationcvNS0_11OrientationEEv" data-ref-filename="_ZNK7WebCore16ImageOrientationcvNS0_11OrientationEEv"></a><a class="local col5 ref" href="#345orientation" title='orientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</a> == <a class="type" href="../graphics/ImageOrientation.h.html#WebCore::ImageOrientation" title='WebCore::ImageOrientation' data-ref="WebCore::ImageOrientation" data-ref-filename="WebCore..ImageOrientation">ImageOrientation</a>::<a class="enum" href="../graphics/ImageOrientation.h.html#WebCore::ImageOrientation::FromImage" title='WebCore::ImageOrientation::FromImage' data-ref="WebCore::ImageOrientation::FromImage" data-ref-filename="WebCore..ImageOrientation..FromImage">FromImage</a>)</td></tr>
<tr><th id="101">101</th><td>            <a class="local col5 ref" href="#345orientation" title='orientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</a> <a class="ref fn" href="../graphics/ImageOrientation.h.html#35" title='WebCore::ImageOrientation::operator=' data-ref="_ZN7WebCore16ImageOrientationaSEOS0_" data-ref-filename="_ZN7WebCore16ImageOrientationaSEOS0_">=</a> <a class="local col6 ref" href="#346bitmapImage" title='bitmapImage' data-ref="346bitmapImage" data-ref-filename="346bitmapImage">bitmapImage</a>.<a class="ref fn" href="../graphics/BitmapImage.h.html#_ZNK7WebCore11BitmapImage26orientationForCurrentFrameEv" title='WebCore::BitmapImage::orientationForCurrentFrame' data-ref="_ZNK7WebCore11BitmapImage26orientationForCurrentFrameEv" data-ref-filename="_ZNK7WebCore11BitmapImage26orientationForCurrentFrameEv">orientationForCurrentFrame</a>();</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td>        <b>if</b> (<a class="ref fn fake" href="../graphics/ImageOrientation.h.html#_ZNK7WebCore16ImageOrientationcvNS0_11OrientationEEv" title='WebCore::ImageOrientation::operator WebCore::ImageOrientation::Orientation' data-ref="_ZNK7WebCore16ImageOrientationcvNS0_11OrientationEEv" data-ref-filename="_ZNK7WebCore16ImageOrientationcvNS0_11OrientationEEv"></a><a class="local col5 ref" href="#345orientation" title='orientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</a> != <a class="type" href="../graphics/ImageOrientation.h.html#WebCore::ImageOrientation" title='WebCore::ImageOrientation' data-ref="WebCore::ImageOrientation" data-ref-filename="WebCore..ImageOrientation">ImageOrientation</a>::<a class="enum" href="../graphics/ImageOrientation.h.html#WebCore::ImageOrientation::None" title='WebCore::ImageOrientation::None' data-ref="WebCore::ImageOrientation::None" data-ref-filename="WebCore..ImageOrientation..None">None</a>) {</td></tr>
<tr><th id="104">104</th><td>            <i>// Construct a correctly-rotated copy of the image to use as the drag image.</i></td></tr>
<tr><th id="105">105</th><td>            <a class="type" href="../graphics/FloatSize.h.html#WebCore::FloatSize" title='WebCore::FloatSize' data-ref="WebCore::FloatSize" data-ref-filename="WebCore..FloatSize">FloatSize</a> <dfn class="local col7 decl" id="347imageSize" title='imageSize' data-type='WebCore::FloatSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</dfn> = <a class="local col4 ref" href="#344image" title='image' data-ref="344image" data-ref-filename="344image">image</a>-&gt;<a class="virtual ref fn" href="../graphics/Image.h.html#_ZNK7WebCore5Image4sizeENS_16ImageOrientationE" title='WebCore::Image::size' data-ref="_ZNK7WebCore5Image4sizeENS_16ImageOrientationE" data-ref-filename="_ZNK7WebCore5Image4sizeENS_16ImageOrientationE">size</a>(<a class="ref fn fake" href="../graphics/ImageOrientation.h.html#35" title='WebCore::ImageOrientation::ImageOrientation' data-ref="_ZN7WebCore16ImageOrientationC1ERKS0_" data-ref-filename="_ZN7WebCore16ImageOrientationC1ERKS0_"></a><a class="local col5 ref" href="#345orientation" title='orientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</a>);</td></tr>
<tr><th id="106">106</th><td>            <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="local col8 decl" id="348rotatedDragImage" title='rotatedDragImage' data-type='RetainPtr&lt;NSImage&gt;' data-ref="348rotatedDragImage" data-ref-filename="348rotatedDragImage">rotatedDragImage</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSImage alloc] initWithSize:(<span class='typedef' title='NSSize' data-type='struct CGSize' data-ref="NSSize" data-ref-filename="NSSize">NSSize</span>)<a class="ref fn fake" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSizecv6CGSizeEv" title='WebCore::FloatSize::operator CGSize' data-ref="_ZNK7WebCore9FloatSizecv6CGSizeEv" data-ref-filename="_ZNK7WebCore9FloatSizecv6CGSizeEv"></a>(<a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a>)]);</td></tr>
<tr><th id="107">107</th><td>            [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col8 ref" href="#348rotatedDragImage" title='rotatedDragImage' data-ref="348rotatedDragImage" data-ref-filename="348rotatedDragImage">rotatedDragImage</a> lockFocus];</td></tr>
<tr><th id="108">108</th><td></td></tr>
<tr><th id="109">109</th><td>            <i>// ImageOrientation uses top-left coordinates, need to flip to bottom-left, apply...</i></td></tr>
<tr><th id="110">110</th><td>            <span class='typedef' title='CGAffineTransform' data-type='struct CGAffineTransform' data-ref="CGAffineTransform" data-ref-filename="CGAffineTransform">CGAffineTransform</span> <dfn class="local col9 decl" id="349transform" title='transform' data-type='CGAffineTransform' data-ref="349transform" data-ref-filename="349transform">transform</dfn> = <span class='ref fn' title='CGAffineTransformMakeTranslation' data-ref="CGAffineTransformMakeTranslation" data-ref-filename="CGAffineTransformMakeTranslation">CGAffineTransformMakeTranslation</span>(<var>0</var>, <a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a>.<a class="ref fn" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSize6heightEv" title='WebCore::FloatSize::height' data-ref="_ZNK7WebCore9FloatSize6heightEv" data-ref-filename="_ZNK7WebCore9FloatSize6heightEv">height</a>());</td></tr>
<tr><th id="111">111</th><td>            <a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a> <span class='ref fn' title='CGAffineTransform::operator=' data-ref="_ZN17CGAffineTransformaSEOS_" data-ref-filename="_ZN17CGAffineTransformaSEOS_">=</span> <span class='ref fn' title='CGAffineTransformScale' data-ref="CGAffineTransformScale" data-ref-filename="CGAffineTransformScale">CGAffineTransformScale</span>(<span class='ref fn fake' title='CGAffineTransform::CGAffineTransform' data-ref="_ZN17CGAffineTransformC1ERKS_" data-ref-filename="_ZN17CGAffineTransformC1ERKS_"></span><a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a>, <var>1</var>, -<var>1</var>);</td></tr>
<tr><th id="112">112</th><td>            <a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a> <span class='ref fn' title='CGAffineTransform::operator=' data-ref="_ZN17CGAffineTransformaSEOS_" data-ref-filename="_ZN17CGAffineTransformaSEOS_">=</span> <span class='ref fn' title='CGAffineTransformConcat' data-ref="CGAffineTransformConcat" data-ref-filename="CGAffineTransformConcat">CGAffineTransformConcat</span>(<a class="ref fn fake" href="../graphics/transforms/AffineTransform.h.html#_ZNK7WebCore15AffineTransformcv17CGAffineTransformEv" title='WebCore::AffineTransform::operator CGAffineTransform' data-ref="_ZNK7WebCore15AffineTransformcv17CGAffineTransformEv" data-ref-filename="_ZNK7WebCore15AffineTransformcv17CGAffineTransformEv"></a><a class="local col5 ref" href="#345orientation" title='orientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</a>.<a class="ref fn" href="../graphics/ImageOrientation.h.html#_ZNK7WebCore16ImageOrientation20transformFromDefaultERKNS_9FloatSizeE" title='WebCore::ImageOrientation::transformFromDefault' data-ref="_ZNK7WebCore16ImageOrientation20transformFromDefaultERKNS_9FloatSizeE" data-ref-filename="_ZNK7WebCore16ImageOrientation20transformFromDefaultERKNS_9FloatSizeE">transformFromDefault</a>(<a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a>), <span class='ref fn fake' title='CGAffineTransform::CGAffineTransform' data-ref="_ZN17CGAffineTransformC1ERKS_" data-ref-filename="_ZN17CGAffineTransformC1ERKS_"></span><a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a>);</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>            <b>if</b> (<a class="local col5 ref" href="#345orientation" title='orientation' data-ref="345orientation" data-ref-filename="345orientation">orientation</a>.<a class="ref fn" href="../graphics/ImageOrientation.h.html#_ZNK7WebCore16ImageOrientation17usesWidthAsHeightEv" title='WebCore::ImageOrientation::usesWidthAsHeight' data-ref="_ZNK7WebCore16ImageOrientation17usesWidthAsHeightEv" data-ref-filename="_ZNK7WebCore16ImageOrientation17usesWidthAsHeightEv">usesWidthAsHeight</a>())</td></tr>
<tr><th id="115">115</th><td>                <a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a> <a class="ref fn" href="../graphics/FloatSize.h.html#64" title='WebCore::FloatSize::operator=' data-ref="_ZN7WebCore9FloatSizeaSEOS0_" data-ref-filename="_ZN7WebCore9FloatSizeaSEOS0_">=</a> <a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a>.<a class="ref fn" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSize14transposedSizeEv" title='WebCore::FloatSize::transposedSize' data-ref="_ZNK7WebCore9FloatSize14transposedSizeEv" data-ref-filename="_ZNK7WebCore9FloatSize14transposedSizeEv">transposedSize</a>();</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td>            <i>// ...and flip back.</i></td></tr>
<tr><th id="118">118</th><td>            <a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a> <span class='ref fn' title='CGAffineTransform::operator=' data-ref="_ZN17CGAffineTransformaSEOS_" data-ref-filename="_ZN17CGAffineTransformaSEOS_">=</span> <span class='ref fn' title='CGAffineTransformTranslate' data-ref="CGAffineTransformTranslate" data-ref-filename="CGAffineTransformTranslate">CGAffineTransformTranslate</span>(<span class='ref fn fake' title='CGAffineTransform::CGAffineTransform' data-ref="_ZN17CGAffineTransformC1ERKS_" data-ref-filename="_ZN17CGAffineTransformC1ERKS_"></span><a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a>, <var>0</var>, <a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a>.<a class="ref fn" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSize6heightEv" title='WebCore::FloatSize::height' data-ref="_ZNK7WebCore9FloatSize6heightEv" data-ref-filename="_ZNK7WebCore9FloatSize6heightEv">height</a>());</td></tr>
<tr><th id="119">119</th><td>            <a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a> <span class='ref fn' title='CGAffineTransform::operator=' data-ref="_ZN17CGAffineTransformaSEOS_" data-ref-filename="_ZN17CGAffineTransformaSEOS_">=</span> <span class='ref fn' title='CGAffineTransformScale' data-ref="CGAffineTransformScale" data-ref-filename="CGAffineTransformScale">CGAffineTransformScale</span>(<span class='ref fn fake' title='CGAffineTransform::CGAffineTransform' data-ref="_ZN17CGAffineTransformC1ERKS_" data-ref-filename="_ZN17CGAffineTransformC1ERKS_"></span><a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a>, <var>1</var>, -<var>1</var>);</td></tr>
<tr><th id="120">120</th><td></td></tr>
<tr><th id="121">121</th><td>            <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSAffineTransform&gt; <dfn class="local col0 decl" id="350cocoaTransform" title='cocoaTransform' data-type='RetainPtr&lt;NSAffineTransform&gt;' data-ref="350cocoaTransform" data-ref-filename="350cocoaTransform">cocoaTransform</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSAffineTransform alloc] init]);</td></tr>
<tr><th id="122">122</th><td>            [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col0 ref" href="#350cocoaTransform" title='cocoaTransform' data-ref="350cocoaTransform" data-ref-filename="350cocoaTransform">cocoaTransform</a> setTransformStruct:<span class='ref fn fake' title='(anonymous struct)::' data-ref="_ZN23NSAffineTransformStructC1ERKS_" data-ref-filename="_ZN23NSAffineTransformStructC1ERKS_"></span>*(<span class='typedef' title='NSAffineTransformStruct' data-type='struct NSAffineTransformStruct' data-ref="NSAffineTransformStruct" data-ref-filename="NSAffineTransformStruct">NSAffineTransformStruct</span>*)&amp;<a class="local col9 ref" href="#349transform" title='transform' data-ref="349transform" data-ref-filename="349transform">transform</a>];</td></tr>
<tr><th id="123">123</th><td>            [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col0 ref" href="#350cocoaTransform" title='cocoaTransform' data-ref="350cocoaTransform" data-ref-filename="350cocoaTransform">cocoaTransform</a> concat];</td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td>            <a class="type" href="../graphics/FloatRect.h.html#WebCore::FloatRect" title='WebCore::FloatRect' data-ref="WebCore::FloatRect" data-ref-filename="WebCore..FloatRect">FloatRect</a> <dfn class="local col1 decl" id="351imageRect" title='imageRect' data-type='WebCore::FloatRect' data-ref="351imageRect" data-ref-filename="351imageRect">imageRect</dfn><a class="ref fn" href="../graphics/FloatRect.h.html#_ZN7WebCore9FloatRectC1ERKNS_10FloatPointERKNS_9FloatSizeE" title='WebCore::FloatRect::FloatRect' data-ref="_ZN7WebCore9FloatRectC1ERKNS_10FloatPointERKNS_9FloatSizeE" data-ref-filename="_ZN7WebCore9FloatRectC1ERKNS_10FloatPointERKNS_9FloatSizeE">(</a><a class="type" href="../graphics/FloatPoint.h.html#WebCore::FloatPoint" title='WebCore::FloatPoint' data-ref="WebCore::FloatPoint" data-ref-filename="WebCore..FloatPoint">FloatPoint</a><a class="ref fn" href="../graphics/FloatPoint.h.html#_ZN7WebCore10FloatPointC1Ev" title='WebCore::FloatPoint::FloatPoint' data-ref="_ZN7WebCore10FloatPointC1Ev" data-ref-filename="_ZN7WebCore10FloatPointC1Ev">(</a>), <a class="local col7 ref" href="#347imageSize" title='imageSize' data-ref="347imageSize" data-ref-filename="347imageSize">imageSize</a>);</td></tr>
<tr><th id="126">126</th><td>            [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col4 ref" href="#344image" title='image' data-ref="344image" data-ref-filename="344image">image</a>-&gt;<a class="virtual ref fn" href="../graphics/Image.h.html#_ZN7WebCore5Image15snapshotNSImageEv" title='WebCore::Image::snapshotNSImage' data-ref="_ZN7WebCore5Image15snapshotNSImageEv" data-ref-filename="_ZN7WebCore5Image15snapshotNSImageEv">snapshotNSImage</a>() drawInRect:<a class="ref fn fake" href="../graphics/FloatRect.h.html#_ZNK7WebCore9FloatRectcv6CGRectEv" title='WebCore::FloatRect::operator CGRect' data-ref="_ZNK7WebCore9FloatRectcv6CGRectEv" data-ref-filename="_ZNK7WebCore9FloatRectcv6CGRectEv"></a><a class="local col1 ref" href="#351imageRect" title='imageRect' data-ref="351imageRect" data-ref-filename="351imageRect">imageRect</a> fromRect:<a class="ref fn fake" href="../graphics/FloatRect.h.html#_ZNK7WebCore9FloatRectcv6CGRectEv" title='WebCore::FloatRect::operator CGRect' data-ref="_ZNK7WebCore9FloatRectcv6CGRectEv" data-ref-filename="_ZNK7WebCore9FloatRectcv6CGRectEv"></a><a class="local col1 ref" href="#351imageRect" title='imageRect' data-ref="351imageRect" data-ref-filename="351imageRect">imageRect</a> operation:<span class='enum' title='NSCompositingOperationSourceOver' data-ref="NSCompositingOperationSourceOver" data-ref-filename="NSCompositingOperationSourceOver">NSCompositingOperationSourceOver</span> fraction:<var>1.0</var>];</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td>            [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col8 ref" href="#348rotatedDragImage" title='rotatedDragImage' data-ref="348rotatedDragImage" data-ref-filename="348rotatedDragImage">rotatedDragImage</a> unlockFocus];</td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td>            <b>return</b> <a class="local col8 ref" href="#348rotatedDragImage" title='rotatedDragImage' data-ref="348rotatedDragImage" data-ref-filename="348rotatedDragImage">rotatedDragImage</a>;</td></tr>
<tr><th id="131">131</th><td>        }</td></tr>
<tr><th id="132">132</th><td>    }</td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td>    <a class="type" href="../graphics/FloatSize.h.html#WebCore::FloatSize" title='WebCore::FloatSize' data-ref="WebCore::FloatSize" data-ref-filename="WebCore..FloatSize">FloatSize</a> <dfn class="local col2 decl" id="352imageSize" title='imageSize' data-type='WebCore::FloatSize' data-ref="352imageSize" data-ref-filename="352imageSize">imageSize</dfn> = <a class="local col4 ref" href="#344image" title='image' data-ref="344image" data-ref-filename="344image">image</a>-&gt;<a class="virtual ref fn" href="../graphics/Image.h.html#_ZNK7WebCore5Image4sizeENS_16ImageOrientationE" title='WebCore::Image::size' data-ref="_ZNK7WebCore5Image4sizeENS_16ImageOrientationE" data-ref-filename="_ZNK7WebCore5Image4sizeENS_16ImageOrientationE">size</a>();</td></tr>
<tr><th id="135">135</th><td>    <em>auto</em> <dfn class="local col3 decl" id="353dragImage" title='dragImage' data-type='WTF::RetainPtr&lt;NSImage&gt;' data-ref="353dragImage" data-ref-filename="353dragImage">dragImage</dfn> = <a class="local col4 ref" href="#344image" title='image' data-ref="344image" data-ref-filename="344image">image</a>-&gt;<a class="virtual ref fn" href="../graphics/Image.h.html#_ZN7WebCore5Image15snapshotNSImageEv" title='WebCore::Image::snapshotNSImage' data-ref="_ZN7WebCore5Image15snapshotNSImageEv" data-ref-filename="_ZN7WebCore5Image15snapshotNSImageEv">snapshotNSImage</a>();</td></tr>
<tr><th id="136">136</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col3 ref" href="#353dragImage" title='dragImage' data-ref="353dragImage" data-ref-filename="353dragImage">dragImage</a> setSize:(<span class='typedef' title='NSSize' data-type='struct CGSize' data-ref="NSSize" data-ref-filename="NSSize">NSSize</span>)<a class="ref fn fake" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSizecv6CGSizeEv" title='WebCore::FloatSize::operator CGSize' data-ref="_ZNK7WebCore9FloatSizecv6CGSizeEv" data-ref-filename="_ZNK7WebCore9FloatSizecv6CGSizeEv"></a><a class="local col2 ref" href="#352imageSize" title='imageSize' data-ref="352imageSize" data-ref-filename="352imageSize">imageSize</a>];</td></tr>
<tr><th id="137">137</th><td>    <b>return</b> <a class="local col3 ref" href="#353dragImage" title='dragImage' data-ref="353dragImage" data-ref-filename="353dragImage">dragImage</a>;</td></tr>
<tr><th id="138">138</th><td>}</td></tr>
<tr><th id="139">139</th><td>    </td></tr>
<tr><th id="140">140</th><td><a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="decl def fn" id="_ZN7WebCore41createDragImageIconForCachedImageFilenameERKN3WTF6StringE" title='WebCore::createDragImageIconForCachedImageFilename' data-ref="_ZN7WebCore41createDragImageIconForCachedImageFilenameERKN3WTF6StringE" data-ref-filename="_ZN7WebCore41createDragImageIconForCachedImageFilenameERKN3WTF6StringE">createDragImageIconForCachedImageFilename</dfn>(<em>const</em> <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a>&amp; <dfn class="local col4 decl" id="354filename" title='filename' data-type='const WTF::String &amp;' data-ref="354filename" data-ref-filename="354filename">filename</dfn>)</td></tr>
<tr><th id="141">141</th><td>{</td></tr>
<tr><th id="142">142</th><td>    NSString *<dfn class="local col5 decl" id="355extension" title='extension' data-type='NSString *' data-ref="355extension" data-ref-filename="355extension">extension</dfn> = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="143">143</th><td>    <span class='typedef' title='size_t' data-type='__darwin_size_t' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col6 decl" id="356dotIndex" title='dotIndex' data-type='size_t' data-ref="356dotIndex" data-ref-filename="356dotIndex">dotIndex</dfn> = <a class="local col4 ref" href="#354filename" title='filename' data-ref="354filename" data-ref-filename="354filename">filename</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6String11reverseFindEDsj" title='WTF::String::reverseFind' data-ref="_ZNK3WTF6String11reverseFindEDsj" data-ref-filename="_ZNK3WTF6String11reverseFindEDsj">reverseFind</a>(<kbd>'.'</kbd>);</td></tr>
<tr><th id="144">144</th><td>    </td></tr>
<tr><th id="145">145</th><td>    <b>if</b> (<a class="local col6 ref" href="#356dotIndex" title='dotIndex' data-ref="356dotIndex" data-ref-filename="356dotIndex">dotIndex</a> != <a class="ref" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/NotFound.h.html#WTF::notFound" title='WTF::notFound' data-ref="WTF::notFound" data-ref-filename="WTF..notFound">notFound</a> &amp;&amp; <a class="local col6 ref" href="#356dotIndex" title='dotIndex' data-ref="356dotIndex" data-ref-filename="356dotIndex">dotIndex</a> &lt; (<a class="local col4 ref" href="#354filename" title='filename' data-ref="354filename" data-ref-filename="354filename">filename</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6String6lengthEv" title='WTF::String::length' data-ref="_ZNK3WTF6String6lengthEv" data-ref-filename="_ZNK3WTF6String6lengthEv">length</a>() - <var>1</var>)) <i>// require that a . exists after the first character and before the last</i></td></tr>
<tr><th id="146">146</th><td>        <a class="local col5 ref" href="#355extension" title='extension' data-ref="355extension" data-ref-filename="355extension">extension</a> = <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6StringcvP8NSStringEv" title='WTF::String::operator NSString *' data-ref="_ZNK3WTF6StringcvP8NSStringEv" data-ref-filename="_ZNK3WTF6StringcvP8NSStringEv"></a><a class="local col4 ref" href="#354filename" title='filename' data-ref="354filename" data-ref-filename="354filename">filename</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZNK3WTF6String9substringEjj" title='WTF::String::substring' data-ref="_ZNK3WTF6String9substringEjj" data-ref-filename="_ZNK3WTF6String9substringEjj">substring</a>(<a class="local col6 ref" href="#356dotIndex" title='dotIndex' data-ref="356dotIndex" data-ref-filename="356dotIndex">dotIndex</a> + <var>1</var>);</td></tr>
<tr><th id="147">147</th><td>    <b>else</b> {</td></tr>
<tr><th id="148">148</th><td>        <i>// It might be worth doing a further lookup to pull the extension from the MIME type.</i></td></tr>
<tr><th id="149">149</th><td>        <a class="local col5 ref" href="#355extension" title='extension' data-ref="355extension" data-ref-filename="355extension">extension</a> = @<q>""</q>;</td></tr>
<tr><th id="150">150</th><td>    }</td></tr>
<tr><th id="151">151</th><td>    </td></tr>
<tr><th id="152">152</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Compiler.h.html#495" title="" data-ref="_M/ALLOW_DEPRECATED_DECLARATIONS_BEGIN">ALLOW_DEPRECATED_DECLARATIONS_BEGIN</a></td></tr>
<tr><th id="153">153</th><td>    <b>return</b> <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtrC1EPNSt3__114remove_pointerIT_E4typeE" title='WTF::RetainPtr::RetainPtr&lt;type-parameter-0-0&gt;' data-ref="_ZN3WTF9RetainPtrC1EPNSt3__114remove_pointerIT_E4typeE" data-ref-filename="_ZN3WTF9RetainPtrC1EPNSt3__114remove_pointerIT_E4typeE"></a>[[NSWorkspace sharedWorkspace] iconForFileType:<a class="local col5 ref" href="#355extension" title='extension' data-ref="355extension" data-ref-filename="355extension">extension</a>];</td></tr>
<tr><th id="154">154</th><td>    <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Compiler.h.html#496" title="" data-ref="_M/ALLOW_DEPRECATED_DECLARATIONS_END">ALLOW_DEPRECATED_DECLARATIONS_END</a></td></tr>
<tr><th id="155">155</th><td>}</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td><em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="decl def" id="WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</dfn> = <var>10</var>;</td></tr>
<tr><th id="158">158</th><td><em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="decl def" id="WebCore::linkImageDomainBaselineToTitleBaseline" title='WebCore::linkImageDomainBaselineToTitleBaseline' data-ref="WebCore::linkImageDomainBaselineToTitleBaseline" data-ref-filename="WebCore..linkImageDomainBaselineToTitleBaseline">linkImageDomainBaselineToTitleBaseline</dfn> = <var>18</var>;</td></tr>
<tr><th id="159">159</th><td><em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="decl def" id="WebCore::linkImageCornerRadius" title='WebCore::linkImageCornerRadius' data-ref="WebCore::linkImageCornerRadius" data-ref-filename="WebCore..linkImageCornerRadius">linkImageCornerRadius</dfn> = <var>5</var>;</td></tr>
<tr><th id="160">160</th><td><em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="decl def" id="WebCore::linkImageMaximumWidth" title='WebCore::linkImageMaximumWidth' data-ref="WebCore::linkImageMaximumWidth" data-ref-filename="WebCore..linkImageMaximumWidth">linkImageMaximumWidth</dfn> = <var>400</var>;</td></tr>
<tr><th id="161">161</th><td><em>const</em> <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="decl def" id="WebCore::linkImageFontSize" title='WebCore::linkImageFontSize' data-ref="WebCore::linkImageFontSize" data-ref-filename="WebCore..linkImageFontSize">linkImageFontSize</dfn> = <var>11</var>;</td></tr>
<tr><th id="162">162</th><td><em>const</em> <span class='typedef' title='CFIndex' data-type='long' data-ref="CFIndex" data-ref-filename="CFIndex">CFIndex</span> <dfn class="decl def" id="WebCore::linkImageTitleMaximumLineCount" title='WebCore::linkImageTitleMaximumLineCount' data-ref="WebCore::linkImageTitleMaximumLineCount" data-ref-filename="WebCore..linkImageTitleMaximumLineCount">linkImageTitleMaximumLineCount</dfn> = <var>2</var>;</td></tr>
<tr><th id="163">163</th><td><em>const</em> <em>int</em> <dfn class="decl def" id="WebCore::linkImageShadowRadius" title='WebCore::linkImageShadowRadius' data-ref="WebCore::linkImageShadowRadius" data-ref-filename="WebCore..linkImageShadowRadius">linkImageShadowRadius</dfn> = <var>0</var>;</td></tr>
<tr><th id="164">164</th><td><em>const</em> <em>int</em> <dfn class="decl def" id="WebCore::linkImageShadowOffsetY" title='WebCore::linkImageShadowOffsetY' data-ref="WebCore::linkImageShadowOffsetY" data-ref-filename="WebCore..linkImageShadowOffsetY">linkImageShadowOffsetY</dfn> = <var>0</var>;</td></tr>
<tr><th id="165">165</th><td><em>const</em> <em>int</em> <dfn class="decl def" id="WebCore::linkImageDragCornerOutsetX" title='WebCore::linkImageDragCornerOutsetX' data-ref="WebCore::linkImageDragCornerOutsetX" data-ref-filename="WebCore..linkImageDragCornerOutsetX">linkImageDragCornerOutsetX</dfn> = <var>6</var> - <a class="ref" href="#WebCore::linkImageShadowRadius" title='WebCore::linkImageShadowRadius' data-ref="WebCore::linkImageShadowRadius" data-ref-filename="WebCore..linkImageShadowRadius">linkImageShadowRadius</a>;</td></tr>
<tr><th id="166">166</th><td><em>const</em> <em>int</em> <dfn class="decl def" id="WebCore::linkImageDragCornerOutsetY" title='WebCore::linkImageDragCornerOutsetY' data-ref="WebCore::linkImageDragCornerOutsetY" data-ref-filename="WebCore..linkImageDragCornerOutsetY">linkImageDragCornerOutsetY</dfn> = <var>10</var> - <a class="ref" href="#WebCore::linkImageShadowRadius" title='WebCore::linkImageShadowRadius' data-ref="WebCore::linkImageShadowRadius" data-ref-filename="WebCore..linkImageShadowRadius">linkImageShadowRadius</a> + <a class="ref" href="#WebCore::linkImageShadowOffsetY" title='WebCore::linkImageShadowOffsetY' data-ref="WebCore::linkImageShadowOffsetY" data-ref-filename="WebCore..linkImageShadowOffsetY">linkImageShadowOffsetY</a>;</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><a class="type" href="../graphics/IntPoint.h.html#WebCore::IntPoint" title='WebCore::IntPoint' data-ref="WebCore::IntPoint" data-ref-filename="WebCore..IntPoint">IntPoint</a> <dfn class="decl def fn" id="_ZN7WebCore26dragOffsetForLinkDragImageEN3WTF9RetainPtrI7NSImageEE" title='WebCore::dragOffsetForLinkDragImage' data-ref="_ZN7WebCore26dragOffsetForLinkDragImageEN3WTF9RetainPtrI7NSImageEE" data-ref-filename="_ZN7WebCore26dragOffsetForLinkDragImageEN3WTF9RetainPtrI7NSImageEE">dragOffsetForLinkDragImage</dfn>(<a class="typedef" href="../DragImage.h.html#WebCore::DragImageRef" title='WebCore::DragImageRef' data-type='RetainPtr&lt;NSImage&gt;' data-ref="WebCore::DragImageRef" data-ref-filename="WebCore..DragImageRef">DragImageRef</a> <dfn class="local col7 decl" id="357dragImage" title='dragImage' data-type='WebCore::DragImageRef' data-ref="357dragImage" data-ref-filename="357dragImage">dragImage</dfn>)</td></tr>
<tr><th id="169">169</th><td>{</td></tr>
<tr><th id="170">170</th><td>    <a class="type" href="../graphics/IntSize.h.html#WebCore::IntSize" title='WebCore::IntSize' data-ref="WebCore::IntSize" data-ref-filename="WebCore..IntSize">IntSize</a> <dfn class="local col8 decl" id="358size" title='size' data-type='WebCore::IntSize' data-ref="358size" data-ref-filename="358size">size</dfn> = <a class="ref fn" href="#_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE" title='WebCore::dragImageSize' data-ref="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE" data-ref-filename="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE">dragImageSize</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtrC1ERKNS_9RetainPtrIT_EE" title='WTF::RetainPtr::RetainPtr&lt;type-parameter-0-0&gt;' data-ref="_ZN3WTF9RetainPtrC1ERKNS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtrC1ERKNS_9RetainPtrIT_EE"></a><a class="local col7 ref" href="#357dragImage" title='dragImage' data-ref="357dragImage" data-ref-filename="357dragImage">dragImage</a>);</td></tr>
<tr><th id="171">171</th><td>    <b>return</b> <a class="ref fn" href="../graphics/IntPoint.h.html#_ZN7WebCore8IntPointC1Eii" title='WebCore::IntPoint::IntPoint' data-ref="_ZN7WebCore8IntPointC1Eii" data-ref-filename="_ZN7WebCore8IntPointC1Eii">{</a> <a class="ref" href="#WebCore::linkImageDragCornerOutsetX" title='WebCore::linkImageDragCornerOutsetX' data-ref="WebCore::linkImageDragCornerOutsetX" data-ref-filename="WebCore..linkImageDragCornerOutsetX">linkImageDragCornerOutsetX</a>, <a class="local col8 ref" href="#358size" title='size' data-ref="358size" data-ref-filename="358size">size</a>.<a class="ref fn" href="../graphics/IntSize.h.html#_ZNK7WebCore7IntSize6heightEv" title='WebCore::IntSize::height' data-ref="_ZNK7WebCore7IntSize6heightEv" data-ref-filename="_ZNK7WebCore7IntSize6heightEv">height</a>() + <a class="ref" href="#WebCore::linkImageDragCornerOutsetY" title='WebCore::linkImageDragCornerOutsetY' data-ref="WebCore::linkImageDragCornerOutsetY" data-ref-filename="WebCore..linkImageDragCornerOutsetY">linkImageDragCornerOutsetY</a> };</td></tr>
<tr><th id="172">172</th><td>}</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td><a class="type" href="../graphics/FloatPoint.h.html#WebCore::FloatPoint" title='WebCore::FloatPoint' data-ref="WebCore::FloatPoint" data-ref-filename="WebCore..FloatPoint">FloatPoint</a> <dfn class="decl def fn" id="_ZN7WebCore27anchorPointForLinkDragImageEN3WTF9RetainPtrI7NSImageEE" title='WebCore::anchorPointForLinkDragImage' data-ref="_ZN7WebCore27anchorPointForLinkDragImageEN3WTF9RetainPtrI7NSImageEE" data-ref-filename="_ZN7WebCore27anchorPointForLinkDragImageEN3WTF9RetainPtrI7NSImageEE">anchorPointForLinkDragImage</dfn>(<a class="typedef" href="../DragImage.h.html#WebCore::DragImageRef" title='WebCore::DragImageRef' data-type='RetainPtr&lt;NSImage&gt;' data-ref="WebCore::DragImageRef" data-ref-filename="WebCore..DragImageRef">DragImageRef</a> <dfn class="local col9 decl" id="359dragImage" title='dragImage' data-type='WebCore::DragImageRef' data-ref="359dragImage" data-ref-filename="359dragImage">dragImage</dfn>)</td></tr>
<tr><th id="175">175</th><td>{</td></tr>
<tr><th id="176">176</th><td>    <a class="type" href="../graphics/IntSize.h.html#WebCore::IntSize" title='WebCore::IntSize' data-ref="WebCore::IntSize" data-ref-filename="WebCore..IntSize">IntSize</a> <dfn class="local col0 decl" id="360size" title='size' data-type='WebCore::IntSize' data-ref="360size" data-ref-filename="360size">size</dfn> = <a class="ref fn" href="#_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE" title='WebCore::dragImageSize' data-ref="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE" data-ref-filename="_ZN7WebCore13dragImageSizeEN3WTF9RetainPtrI7NSImageEE">dragImageSize</a>(<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtrC1ERKNS_9RetainPtrIT_EE" title='WTF::RetainPtr::RetainPtr&lt;type-parameter-0-0&gt;' data-ref="_ZN3WTF9RetainPtrC1ERKNS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtrC1ERKNS_9RetainPtrIT_EE"></a><a class="local col9 ref" href="#359dragImage" title='dragImage' data-ref="359dragImage" data-ref-filename="359dragImage">dragImage</a>);</td></tr>
<tr><th id="177">177</th><td>    <b>return</b> <a class="ref fn" href="../graphics/FloatPoint.h.html#_ZN7WebCore10FloatPointC1Eff" title='WebCore::FloatPoint::FloatPoint' data-ref="_ZN7WebCore10FloatPointC1Eff" data-ref-filename="_ZN7WebCore10FloatPointC1Eff">{</a> -<b>static_cast</b>&lt;<em>float</em>&gt;(<a class="ref" href="#WebCore::linkImageDragCornerOutsetX" title='WebCore::linkImageDragCornerOutsetX' data-ref="WebCore::linkImageDragCornerOutsetX" data-ref-filename="WebCore..linkImageDragCornerOutsetX">linkImageDragCornerOutsetX</a>) / <a class="local col0 ref" href="#360size" title='size' data-ref="360size" data-ref-filename="360size">size</a>.<a class="ref fn" href="../graphics/IntSize.h.html#_ZNK7WebCore7IntSize5widthEv" title='WebCore::IntSize::width' data-ref="_ZNK7WebCore7IntSize5widthEv" data-ref-filename="_ZNK7WebCore7IntSize5widthEv">width</a>(), -<b>static_cast</b>&lt;<em>float</em>&gt;(<a class="ref" href="#WebCore::linkImageDragCornerOutsetY" title='WebCore::linkImageDragCornerOutsetY' data-ref="WebCore::linkImageDragCornerOutsetY" data-ref-filename="WebCore..linkImageDragCornerOutsetY">linkImageDragCornerOutsetY</a>) / <a class="local col0 ref" href="#360size" title='size' data-ref="360size" data-ref-filename="360size">size</a>.<a class="ref fn" href="../graphics/IntSize.h.html#_ZNK7WebCore7IntSize6heightEv" title='WebCore::IntSize::height' data-ref="_ZNK7WebCore7IntSize6heightEv" data-ref-filename="_ZNK7WebCore7IntSize6heightEv">height</a>() };</td></tr>
<tr><th id="178">178</th><td>}</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td><b>struct</b> <dfn class="type def" id="WebCore::LinkImageLayout" title='WebCore::LinkImageLayout' data-ref="WebCore::LinkImageLayout" data-ref-filename="WebCore..LinkImageLayout">LinkImageLayout</dfn> {</td></tr>
<tr><th id="181">181</th><td>    <a class="decl fn" href="#_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE" title='WebCore::LinkImageLayout::LinkImageLayout' data-ref="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE" data-ref-filename="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE">LinkImageLayout</a>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#WTF::URL" title='WTF::URL' data-ref="WTF::URL" data-ref-filename="WTF..URL">URL</a>&amp;, <em>const</em> <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a>&amp; <dfn class="local col1 decl" id="361title" title='title' data-type='const WTF::String &amp;' data-ref="361title" data-ref-filename="361title">title</dfn>);</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>    <b>struct</b> <dfn class="type def" id="WebCore::LinkImageLayout::Label" title='WebCore::LinkImageLayout::Label' data-ref="WebCore::LinkImageLayout::Label" data-ref-filename="WebCore..LinkImageLayout..Label">Label</dfn> {</td></tr>
<tr><th id="184">184</th><td>        <a class="type" href="../graphics/FloatPoint.h.html#WebCore::FloatPoint" title='WebCore::FloatPoint' data-ref="WebCore::FloatPoint" data-ref-filename="WebCore..FloatPoint">FloatPoint</a> <dfn class="decl field" id="WebCore::LinkImageLayout::Label::origin" title='WebCore::LinkImageLayout::Label::origin' data-ref="WebCore::LinkImageLayout::Label::origin" data-ref-filename="WebCore..LinkImageLayout..Label..origin">origin</dfn>;</td></tr>
<tr><th id="185">185</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;<span class='typedef' title='CTFrameRef' data-type='const struct __CTFrame *' data-ref="CTFrameRef" data-ref-filename="CTFrameRef">CTFrameRef</span>&gt; <dfn class="decl field" id="WebCore::LinkImageLayout::Label::frame" title='WebCore::LinkImageLayout::Label::frame' data-ref="WebCore::LinkImageLayout::Label::frame" data-ref-filename="WebCore..LinkImageLayout..Label..frame">frame</dfn>;</td></tr>
<tr><th id="186">186</th><td>    };</td></tr>
<tr><th id="187">187</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::Vector" title='WTF::Vector' data-ref="WTF::Vector" data-ref-filename="WTF..Vector">Vector</a>&lt;<a class="type" href="#WebCore::LinkImageLayout::Label" title='WebCore::LinkImageLayout::Label' data-ref="WebCore::LinkImageLayout::Label" data-ref-filename="WebCore..LinkImageLayout..Label">Label</a>&gt; <dfn class="decl field" id="WebCore::LinkImageLayout::labels" title='WebCore::LinkImageLayout::labels' data-ref="WebCore::LinkImageLayout::labels" data-ref-filename="WebCore..LinkImageLayout..labels">labels</dfn>;</td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td>    <a class="type" href="../graphics/FloatRect.h.html#WebCore::FloatRect" title='WebCore::FloatRect' data-ref="WebCore::FloatRect" data-ref-filename="WebCore..FloatRect">FloatRect</a> <dfn class="decl field" id="WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</dfn>;</td></tr>
<tr><th id="190">190</th><td>};</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td><a class="type" href="#WebCore::LinkImageLayout" title='WebCore::LinkImageLayout' data-ref="WebCore::LinkImageLayout" data-ref-filename="WebCore..LinkImageLayout">LinkImageLayout</a>::<dfn class="decl def fn" id="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE" title='WebCore::LinkImageLayout::LinkImageLayout' data-ref="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE" data-ref-filename="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE">LinkImageLayout</dfn>(<a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#WTF::URL" title='WTF::URL' data-ref="WTF::URL" data-ref-filename="WTF..URL">URL</a>&amp; <dfn class="local col2 decl" id="362url" title='url' data-type='WTF::URL &amp;' data-ref="362url" data-ref-filename="362url">url</dfn>, <em>const</em> <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a>&amp; <dfn class="local col3 decl" id="363titleString" title='titleString' data-type='const WTF::String &amp;' data-ref="363titleString" data-ref-filename="363titleString">titleString</dfn>)</td></tr>
<tr><th id="193">193</th><td>{</td></tr>
<tr><th id="194">194</th><td>    NSString *<dfn class="local col4 decl" id="364title" title='title' data-type='NSString *' data-ref="364title" data-ref-filename="364title">title</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#_ZN3WTF18nsStringNilIfEmptyERKNS_6StringE" title='WTF::nsStringNilIfEmpty' data-ref="_ZN3WTF18nsStringNilIfEmptyERKNS_6StringE" data-ref-filename="_ZN3WTF18nsStringNilIfEmptyERKNS_6StringE">nsStringNilIfEmpty</a>(<a class="local col3 ref" href="#363titleString" title='titleString' data-ref="363titleString" data-ref-filename="363titleString">titleString</a>);</td></tr>
<tr><th id="195">195</th><td>    NSURL *<dfn class="local col5 decl" id="365cocoaURL" title='cocoaURL' data-type='NSURL *' data-ref="365cocoaURL" data-ref-filename="365cocoaURL">cocoaURL</dfn> = <a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#_ZNK3WTF3URLcvP5NSURLEv" title='WTF::URL::operator NSURL *' data-ref="_ZNK3WTF3URLcvP5NSURLEv" data-ref-filename="_ZNK3WTF3URLcvP5NSURLEv"></a><a class="local col2 ref" href="#362url" title='url' data-ref="362url" data-ref-filename="362url">url</a>;</td></tr>
<tr><th id="196">196</th><td>    NSString *<dfn class="local col6 decl" id="366absoluteURLString" title='absoluteURLString' data-type='NSString *' data-ref="366absoluteURLString" data-ref-filename="366absoluteURLString">absoluteURLString</dfn> = [<a class="local col5 ref" href="#365cocoaURL" title='cocoaURL' data-ref="365cocoaURL" data-ref-filename="365cocoaURL">cocoaURL</a> absoluteString];</td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td>    NSString *<dfn class="local col7 decl" id="367domain" title='domain' data-type='NSString *' data-ref="367domain" data-ref-filename="367domain">domain</dfn> = <a class="local col6 ref" href="#366absoluteURLString" title='absoluteURLString' data-ref="366absoluteURLString" data-ref-filename="366absoluteURLString">absoluteURLString</a>;</td></tr>
<tr><th id="199">199</th><td><u>#<span data-ppcond="199">if</span> <a class="macro" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/PlatformHave.h.html#36" title="(defined 1 &amp;&amp; 1)" data-ref="_M/HAVE">HAVE</a>(URL_FORMATTING)</u></td></tr>
<tr><th id="200">200</th><td>    <a class="local col7 ref" href="#367domain" title='domain' data-ref="367domain" data-ref-filename="367domain">domain</a> = [<a class="local col5 ref" href="#365cocoaURL" title='cocoaURL' data-ref="365cocoaURL" data-ref-filename="365cocoaURL">cocoaURL</a> _lp_simplifiedDisplayString];</td></tr>
<tr><th id="201">201</th><td><u>#<span data-ppcond="199">else</span></u></td></tr>
<tr><th id="202">202</th><td>    <b>if</b> (LinkPresentationLibrary())</td></tr>
<tr><th id="203">203</th><td>        domain = [cocoaURL _lp_simplifiedDisplayString];</td></tr>
<tr><th id="204">204</th><td><u>#<span data-ppcond="199">endif</span></u></td></tr>
<tr><th id="205">205</th><td></td></tr>
<tr><th id="206">206</th><td>    <b>if</b> ([<a class="local col4 ref" href="#364title" title='title' data-ref="364title" data-ref-filename="364title">title</a> isEqualToString:<a class="local col6 ref" href="#366absoluteURLString" title='absoluteURLString' data-ref="366absoluteURLString" data-ref-filename="366absoluteURLString">absoluteURLString</a>])</td></tr>
<tr><th id="207">207</th><td>        <a class="local col4 ref" href="#364title" title='title' data-ref="364title" data-ref-filename="364title">title</a> = <span class="macro" title="nullptr" data-ref="_M/nil">nil</span>;</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>    NSFont *<dfn class="local col8 decl" id="368titleFont" title='titleFont' data-type='NSFont *' data-ref="368titleFont" data-ref-filename="368titleFont">titleFont</dfn> = [NSFont boldSystemFontOfSize:<a class="ref" href="#WebCore::linkImageFontSize" title='WebCore::linkImageFontSize' data-ref="WebCore::linkImageFontSize" data-ref-filename="WebCore..linkImageFontSize">linkImageFontSize</a>];</td></tr>
<tr><th id="210">210</th><td>    NSFont *<dfn class="local col9 decl" id="369domainFont" title='domainFont' data-type='NSFont *' data-ref="369domainFont" data-ref-filename="369domainFont">domainFont</dfn> = [NSFont systemFontOfSize:<a class="ref" href="#WebCore::linkImageFontSize" title='WebCore::linkImageFontSize' data-ref="WebCore::linkImageFontSize" data-ref-filename="WebCore..linkImageFontSize">linkImageFontSize</a>];</td></tr>
<tr><th id="211">211</th><td></td></tr>
<tr><th id="212">212</th><td>    NSColor *<dfn class="local col0 decl" id="370titleColor" title='titleColor' data-type='NSColor *' data-ref="370titleColor" data-ref-filename="370titleColor">titleColor</dfn> = [NSColor labelColor];</td></tr>
<tr><th id="213">213</th><td>    NSColor *<dfn class="local col1 decl" id="371domainColor" title='domainColor' data-type='NSColor *' data-ref="371domainColor" data-ref-filename="371domainColor">domainColor</dfn> = [NSColor secondaryLabelColor];</td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col2 decl" id="372maximumAvailableWidth" title='maximumAvailableWidth' data-type='CGFloat' data-ref="372maximumAvailableWidth" data-ref-filename="372maximumAvailableWidth">maximumAvailableWidth</dfn> = <a class="ref" href="#WebCore::linkImageMaximumWidth" title='WebCore::linkImageMaximumWidth' data-ref="WebCore::linkImageMaximumWidth" data-ref-filename="WebCore..linkImageMaximumWidth">linkImageMaximumWidth</a> - <a class="ref" href="#WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</a> * <var>2</var>;</td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col3 decl" id="373currentY" title='currentY' data-type='CGFloat' data-ref="373currentY" data-ref-filename="373currentY">currentY</dfn> = <a class="ref" href="#WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</a>;</td></tr>
<tr><th id="218">218</th><td>    <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col4 decl" id="374maximumUsedTextWidth" title='maximumUsedTextWidth' data-type='CGFloat' data-ref="374maximumUsedTextWidth" data-ref-filename="374maximumUsedTextWidth">maximumUsedTextWidth</dfn> = <var>0</var>;</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>    <em>auto</em> <dfn class="local col5 decl" id="375buildLines" title='buildLines' data-type='(lambda at /Volumes/ExternalSSD/Projects/webkit/WebKit/Source/WebCore/platform/cocoa/DragImageCocoa.mm:220:23)' data-ref="375buildLines" data-ref-filename="375buildLines">buildLines</dfn> = [<b>this</b>, <a class="local col2 ref" href="#372maximumAvailableWidth" title='maximumAvailableWidth' data-ref="372maximumAvailableWidth" data-ref-filename="372maximumAvailableWidth">maximumAvailableWidth</a>, &amp;<a class="local col4 ref" href="#374maximumUsedTextWidth" title='maximumUsedTextWidth' data-ref="374maximumUsedTextWidth" data-ref-filename="374maximumUsedTextWidth">maximumUsedTextWidth</a>, &amp;<a class="local col3 ref" href="#373currentY" title='currentY' data-ref="373currentY" data-ref-filename="373currentY">currentY</a>] (NSString *<dfn class="local col6 decl" id="376text" title='text' data-type='NSString *' data-ref="376text" data-ref-filename="376text">text</dfn>, NSColor *<dfn class="local col7 decl" id="377color" title='color' data-type='NSColor *' data-ref="377color" data-ref-filename="377color">color</dfn>, NSFont *<dfn class="local col8 decl" id="378font" title='font' data-type='NSFont *' data-ref="378font" data-ref-filename="378font">font</dfn>, <span class='typedef' title='CFIndex' data-type='long' data-ref="CFIndex" data-ref-filename="CFIndex">CFIndex</span> <dfn class="local col9 decl" id="379maximumLines" title='maximumLines' data-type='CFIndex' data-ref="379maximumLines" data-ref-filename="379maximumLines">maximumLines</dfn>, <span class='typedef' title='CTLineBreakMode' data-type='enum CTLineBreakMode' data-ref="CTLineBreakMode" data-ref-filename="CTLineBreakMode">CTLineBreakMode</span> <dfn class="local col0 decl" id="380lineBreakMode" title='lineBreakMode' data-type='CTLineBreakMode' data-ref="380lineBreakMode" data-ref-filename="380lineBreakMode">lineBreakMode</dfn>) {</td></tr>
<tr><th id="221">221</th><td>        <span class='typedef' title='CTParagraphStyleSetting' data-type='struct CTParagraphStyleSetting' data-ref="CTParagraphStyleSetting" data-ref-filename="CTParagraphStyleSetting">CTParagraphStyleSetting</span> <span class='ref fn fake' title='CTParagraphStyleSetting::CTParagraphStyleSetting' data-ref="_ZN23CTParagraphStyleSettingC1Ev" data-ref-filename="_ZN23CTParagraphStyleSettingC1Ev"></span><dfn class="local col1 decl" id="381paragraphStyleSettings" title='paragraphStyleSettings' data-type='CTParagraphStyleSetting [1]' data-ref="381paragraphStyleSettings" data-ref-filename="381paragraphStyleSettings">paragraphStyleSettings</dfn>[<var>1</var>];</td></tr>
<tr><th id="222">222</th><td>        <a class="local col1 ref" href="#381paragraphStyleSettings" title='paragraphStyleSettings' data-ref="381paragraphStyleSettings" data-ref-filename="381paragraphStyleSettings">paragraphStyleSettings</a>[<var>0</var>].<span class='ref field' title='CTParagraphStyleSetting::spec' data-ref="CTParagraphStyleSetting::spec" data-ref-filename="CTParagraphStyleSetting..spec">spec</span> = <span class='enum' title='kCTParagraphStyleSpecifierLineBreakMode' data-ref="kCTParagraphStyleSpecifierLineBreakMode" data-ref-filename="kCTParagraphStyleSpecifierLineBreakMode">kCTParagraphStyleSpecifierLineBreakMode</span>;</td></tr>
<tr><th id="223">223</th><td>        <a class="local col1 ref" href="#381paragraphStyleSettings" title='paragraphStyleSettings' data-ref="381paragraphStyleSettings" data-ref-filename="381paragraphStyleSettings">paragraphStyleSettings</a>[<var>0</var>].<span class='ref field' title='CTParagraphStyleSetting::valueSize' data-ref="CTParagraphStyleSetting::valueSize" data-ref-filename="CTParagraphStyleSetting..valueSize">valueSize</span> = <b>sizeof</b>(<span class='typedef' title='CTLineBreakMode' data-type='enum CTLineBreakMode' data-ref="CTLineBreakMode" data-ref-filename="CTLineBreakMode">CTLineBreakMode</span>);</td></tr>
<tr><th id="224">224</th><td>        <a class="local col1 ref" href="#381paragraphStyleSettings" title='paragraphStyleSettings' data-ref="381paragraphStyleSettings" data-ref-filename="381paragraphStyleSettings">paragraphStyleSettings</a>[<var>0</var>].<span class='ref field' title='CTParagraphStyleSetting::value' data-ref="CTParagraphStyleSetting::value" data-ref-filename="CTParagraphStyleSetting..value">value</span> = &amp;<a class="local col0 ref" href="#380lineBreakMode" title='lineBreakMode' data-ref="380lineBreakMode" data-ref-filename="380lineBreakMode">lineBreakMode</a>;</td></tr>
<tr><th id="225">225</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;<span class='typedef' title='CTParagraphStyleRef' data-type='const struct __CTParagraphStyle *' data-ref="CTParagraphStyleRef" data-ref-filename="CTParagraphStyleRef">CTParagraphStyleRef</span>&gt; <dfn class="local col2 decl" id="382paragraphStyle" title='paragraphStyle' data-type='RetainPtr&lt;CTParagraphStyleRef&gt;' data-ref="382paragraphStyle" data-ref-filename="382paragraphStyle">paragraphStyle</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptCFET_" title='WTF::adoptCF' data-ref="_ZN3WTF7adoptCFET_" data-ref-filename="_ZN3WTF7adoptCFET_">adoptCF</a>(<span class='ref fn' title='CTParagraphStyleCreate' data-ref="CTParagraphStyleCreate" data-ref-filename="CTParagraphStyleCreate">CTParagraphStyleCreate</span>(<a class="local col1 ref" href="#381paragraphStyleSettings" title='paragraphStyleSettings' data-ref="381paragraphStyleSettings" data-ref-filename="381paragraphStyleSettings">paragraphStyleSettings</a>, <var>1</var>));</td></tr>
<tr><th id="226">226</th><td></td></tr>
<tr><th id="227">227</th><td>        NSDictionary *<dfn class="local col3 decl" id="383textAttributes" title='textAttributes' data-type='NSDictionary *' data-ref="383textAttributes" data-ref-filename="383textAttributes">textAttributes</dfn> = @{</td></tr>
<tr><th id="228">228</th><td>            (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)<span class='ref' title='kCTFontAttributeName' data-ref="kCTFontAttributeName" data-ref-filename="kCTFontAttributeName">kCTFontAttributeName</span>: <a class="local col8 ref" href="#378font" title='font' data-ref="378font" data-ref-filename="378font">font</a>,</td></tr>
<tr><th id="229">229</th><td>            (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)<span class='ref' title='kCTForegroundColorAttributeName' data-ref="kCTForegroundColorAttributeName" data-ref-filename="kCTForegroundColorAttributeName">kCTForegroundColorAttributeName</span>: <a class="local col7 ref" href="#377color" title='color' data-ref="377color" data-ref-filename="377color">color</a>,</td></tr>
<tr><th id="230">230</th><td>            (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)<span class='ref' title='kCTParagraphStyleAttributeName' data-ref="kCTParagraphStyleAttributeName" data-ref-filename="kCTParagraphStyleAttributeName">kCTParagraphStyleAttributeName</span>: (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)<a class="local col2 ref" href="#382paragraphStyle" title='paragraphStyle' data-ref="382paragraphStyle" data-ref-filename="382paragraphStyle">paragraphStyle</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()</td></tr>
<tr><th id="231">231</th><td>        };</td></tr>
<tr><th id="232">232</th><td>        NSDictionary *<dfn class="local col4 decl" id="384frameAttributes" title='frameAttributes' data-type='NSDictionary *' data-ref="384frameAttributes" data-ref-filename="384frameAttributes">frameAttributes</dfn> = @{</td></tr>
<tr><th id="233">233</th><td>            (<span class='typedef' title='id' data-type='id' data-ref="id" data-ref-filename="id">id</span>)<a class="ref" href="../../../../WebKitBuild/Debug/usr/local/include/pal/spi/cf/CoreTextSPI.h.html#kCTFrameMaximumNumberOfLinesAttributeName" title='kCTFrameMaximumNumberOfLinesAttributeName' data-ref="kCTFrameMaximumNumberOfLinesAttributeName" data-ref-filename="kCTFrameMaximumNumberOfLinesAttributeName">kCTFrameMaximumNumberOfLinesAttributeName</a>: @(<a class="local col9 ref" href="#379maximumLines" title='maximumLines' data-ref="379maximumLines" data-ref-filename="379maximumLines">maximumLines</a>)</td></tr>
<tr><th id="234">234</th><td>        };</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSAttributedString&gt; <dfn class="local col5 decl" id="385attributedText" title='attributedText' data-type='RetainPtr&lt;NSAttributedString&gt;' data-ref="385attributedText" data-ref-filename="385attributedText">attributedText</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSAttributedString alloc] initWithString:<a class="local col6 ref" href="#376text" title='text' data-ref="376text" data-ref-filename="376text">text</a> attributes:<a class="local col3 ref" href="#383textAttributes" title='textAttributes' data-ref="383textAttributes" data-ref-filename="383textAttributes">textAttributes</a>]);</td></tr>
<tr><th id="237">237</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;<span class='typedef' title='CTFramesetterRef' data-type='const struct __CTFramesetter *' data-ref="CTFramesetterRef" data-ref-filename="CTFramesetterRef">CTFramesetterRef</span>&gt; <dfn class="local col6 decl" id="386textFramesetter" title='textFramesetter' data-type='RetainPtr&lt;CTFramesetterRef&gt;' data-ref="386textFramesetter" data-ref-filename="386textFramesetter">textFramesetter</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptCFET_" title='WTF::adoptCF' data-ref="_ZN3WTF7adoptCFET_" data-ref-filename="_ZN3WTF7adoptCFET_">adoptCF</a>(<span class='ref fn' title='CTFramesetterCreateWithAttributedString' data-ref="CTFramesetterCreateWithAttributedString" data-ref-filename="CTFramesetterCreateWithAttributedString">CTFramesetterCreateWithAttributedString</span>((<span class='typedef' title='CFAttributedStringRef' data-type='const struct __CFAttributedString *' data-ref="CFAttributedStringRef" data-ref-filename="CFAttributedStringRef">CFAttributedStringRef</span>)<a class="local col5 ref" href="#385attributedText" title='attributedText' data-ref="385attributedText" data-ref-filename="385attributedText">attributedText</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>()));</td></tr>
<tr><th id="238">238</th><td></td></tr>
<tr><th id="239">239</th><td>        <span class='typedef' title='CFRange' data-type='struct CFRange' data-ref="CFRange" data-ref-filename="CFRange">CFRange</span> <span class='ref fn fake' title='(anonymous struct)::' data-ref="_ZN7CFRangeC1Ev" data-ref-filename="_ZN7CFRangeC1Ev"></span><dfn class="local col7 decl" id="387fitRange" title='fitRange' data-type='CFRange' data-ref="387fitRange" data-ref-filename="387fitRange">fitRange</dfn>;</td></tr>
<tr><th id="240">240</th><td>        <span class='typedef' title='CGSize' data-type='struct CGSize' data-ref="CGSize" data-ref-filename="CGSize">CGSize</span> <dfn class="local col8 decl" id="388textSize" title='textSize' data-type='CGSize' data-ref="388textSize" data-ref-filename="388textSize">textSize</dfn> = <span class='ref fn' title='CTFramesetterSuggestFrameSizeWithConstraints' data-ref="CTFramesetterSuggestFrameSizeWithConstraints" data-ref-filename="CTFramesetterSuggestFrameSizeWithConstraints">CTFramesetterSuggestFrameSizeWithConstraints</span>(<a class="local col6 ref" href="#386textFramesetter" title='textFramesetter' data-ref="386textFramesetter" data-ref-filename="386textFramesetter">textFramesetter</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>(), <span class='ref fn' title='CFRangeMake' data-ref="_ZL11CFRangeMakell" data-ref-filename="_ZL11CFRangeMakell">CFRangeMake</span>(<var>0</var>, <var>0</var>), (<span class='typedef' title='CFDictionaryRef' data-type='const struct __CFDictionary *' data-ref="CFDictionaryRef" data-ref-filename="CFDictionaryRef">CFDictionaryRef</span>)<a class="local col4 ref" href="#384frameAttributes" title='frameAttributes' data-ref="384frameAttributes" data-ref-filename="384frameAttributes">frameAttributes</a>, <span class='ref fn' title='CGSizeMake' data-ref="_ZL10CGSizeMakedd" data-ref-filename="_ZL10CGSizeMakedd">CGSizeMake</span>(<a class="local col2 ref" href="#372maximumAvailableWidth" title='maximumAvailableWidth' data-ref="372maximumAvailableWidth" data-ref-filename="372maximumAvailableWidth">maximumAvailableWidth</a>, <span class="macro" title="1.7976931348623157e+308" data-ref="_M/CGFLOAT_MAX">CGFLOAT_MAX</span>), &amp;<a class="local col7 ref" href="#387fitRange" title='fitRange' data-ref="387fitRange" data-ref-filename="387fitRange">fitRange</a>);</td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;<span class='typedef' title='CGPathRef' data-type='const struct CGPath *' data-ref="CGPathRef" data-ref-filename="CGPathRef">CGPathRef</span>&gt; <dfn class="local col9 decl" id="389textPath" title='textPath' data-type='RetainPtr&lt;CGPathRef&gt;' data-ref="389textPath" data-ref-filename="389textPath">textPath</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptCFET_" title='WTF::adoptCF' data-ref="_ZN3WTF7adoptCFET_" data-ref-filename="_ZN3WTF7adoptCFET_">adoptCF</a>(<span class='ref fn' title='CGPathCreateWithRect' data-ref="CGPathCreateWithRect" data-ref-filename="CGPathCreateWithRect">CGPathCreateWithRect</span>(<span class='ref fn' title='CGRectMake' data-ref="_ZL10CGRectMakedddd" data-ref-filename="_ZL10CGRectMakedddd">CGRectMake</span>(<var>0</var>, <var>0</var>, <a class="local col8 ref" href="#388textSize" title='textSize' data-ref="388textSize" data-ref-filename="388textSize">textSize</a>.<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span>, <a class="local col8 ref" href="#388textSize" title='textSize' data-ref="388textSize" data-ref-filename="388textSize">textSize</a>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span>), <b>nullptr</b>));</td></tr>
<tr><th id="243">243</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;<span class='typedef' title='CTFrameRef' data-type='const struct __CTFrame *' data-ref="CTFrameRef" data-ref-filename="CTFrameRef">CTFrameRef</span>&gt; <dfn class="local col0 decl" id="390textFrame" title='textFrame' data-type='RetainPtr&lt;CTFrameRef&gt;' data-ref="390textFrame" data-ref-filename="390textFrame">textFrame</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptCFET_" title='WTF::adoptCF' data-ref="_ZN3WTF7adoptCFET_" data-ref-filename="_ZN3WTF7adoptCFET_">adoptCF</a>(<span class='ref fn' title='CTFramesetterCreateFrame' data-ref="CTFramesetterCreateFrame" data-ref-filename="CTFramesetterCreateFrame">CTFramesetterCreateFrame</span>(<a class="local col6 ref" href="#386textFramesetter" title='textFramesetter' data-ref="386textFramesetter" data-ref-filename="386textFramesetter">textFramesetter</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>(), <span class='ref fn fake' title='(anonymous struct)::' data-ref="_ZN7CFRangeC1ERKS_" data-ref-filename="_ZN7CFRangeC1ERKS_"></span><a class="local col7 ref" href="#387fitRange" title='fitRange' data-ref="387fitRange" data-ref-filename="387fitRange">fitRange</a>, <a class="local col9 ref" href="#389textPath" title='textPath' data-ref="389textPath" data-ref-filename="389textPath">textPath</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>(), (<span class='typedef' title='CFDictionaryRef' data-type='const struct __CFDictionary *' data-ref="CFDictionaryRef" data-ref-filename="CFDictionaryRef">CFDictionaryRef</span>)<a class="local col4 ref" href="#384frameAttributes" title='frameAttributes' data-ref="384frameAttributes" data-ref-filename="384frameAttributes">frameAttributes</a>));</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td>        <span class='typedef' title='CFArrayRef' data-type='const struct __CFArray *' data-ref="CFArrayRef" data-ref-filename="CFArrayRef">CFArrayRef</span> <dfn class="local col1 decl" id="391ctLines" title='ctLines' data-type='CFArrayRef' data-ref="391ctLines" data-ref-filename="391ctLines">ctLines</dfn> = <span class='ref fn' title='CTFrameGetLines' data-ref="CTFrameGetLines" data-ref-filename="CTFrameGetLines">CTFrameGetLines</span>(<a class="local col0 ref" href="#390textFrame" title='textFrame' data-ref="390textFrame" data-ref-filename="390textFrame">textFrame</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>());</td></tr>
<tr><th id="246">246</th><td>        <span class='typedef' title='CFIndex' data-type='long' data-ref="CFIndex" data-ref-filename="CFIndex">CFIndex</span> <dfn class="local col2 decl" id="392lineCount" title='lineCount' data-type='CFIndex' data-ref="392lineCount" data-ref-filename="392lineCount">lineCount</dfn> = <span class='ref fn' title='CFArrayGetCount' data-ref="CFArrayGetCount" data-ref-filename="CFArrayGetCount">CFArrayGetCount</span>(<a class="local col1 ref" href="#391ctLines" title='ctLines' data-ref="391ctLines" data-ref-filename="391ctLines">ctLines</a>);</td></tr>
<tr><th id="247">247</th><td>        <b>if</b> (!<a class="local col2 ref" href="#392lineCount" title='lineCount' data-ref="392lineCount" data-ref-filename="392lineCount">lineCount</a>)</td></tr>
<tr><th id="248">248</th><td>            <b>return</b>;</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>        <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::Vector" title='WTF::Vector' data-ref="WTF::Vector" data-ref-filename="WTF..Vector">Vector</a>&lt;<span class='typedef' title='CGPoint' data-type='struct CGPoint' data-ref="CGPoint" data-ref-filename="CGPoint">CGPoint</span>&gt; <dfn class="local col3 decl" id="393origins" title='origins' data-type='Vector&lt;CGPoint&gt;' data-ref="393origins" data-ref-filename="393origins">origins</dfn><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6VectorC1Em" title='WTF::Vector::Vector&lt;type-parameter-0-0, , type-parameter-0-2, , Malloc&gt;' data-ref="_ZN3WTF6VectorC1Em" data-ref-filename="_ZN3WTF6VectorC1Em">(</a><a class="local col2 ref" href="#392lineCount" title='lineCount' data-ref="392lineCount" data-ref-filename="392lineCount">lineCount</a>);</td></tr>
<tr><th id="251">251</th><td>        <span class='typedef' title='CGRect' data-type='struct CGRect' data-ref="CGRect" data-ref-filename="CGRect">CGRect</span> <span class='ref fn fake' title='CGRect::CGRect' data-ref="_ZN6CGRectC1Ev" data-ref-filename="_ZN6CGRectC1Ev"></span><dfn class="local col4 decl" id="394lineBounds" title='lineBounds' data-type='CGRect' data-ref="394lineBounds" data-ref-filename="394lineBounds">lineBounds</dfn>;</td></tr>
<tr><th id="252">252</th><td>        <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col5 decl" id="395height" title='height' data-type='CGFloat' data-ref="395height" data-ref-filename="395height">height</dfn> = <var>0</var>;</td></tr>
<tr><th id="253">253</th><td>        <span class='ref fn' title='CTFrameGetLineOrigins' data-ref="CTFrameGetLineOrigins" data-ref-filename="CTFrameGetLineOrigins">CTFrameGetLineOrigins</span>(<a class="local col0 ref" href="#390textFrame" title='textFrame' data-ref="390textFrame" data-ref-filename="390textFrame">textFrame</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>(), <span class='ref fn' title='CFRangeMake' data-ref="_ZL11CFRangeMakell" data-ref-filename="_ZL11CFRangeMakell">CFRangeMake</span>(<var>0</var>, <var>0</var>), <a class="local col3 ref" href="#393origins" title='origins' data-ref="393origins" data-ref-filename="393origins">origins</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6Vector4dataEv" title='WTF::Vector::data' data-ref="_ZN3WTF6Vector4dataEv" data-ref-filename="_ZN3WTF6Vector4dataEv">data</a>());</td></tr>
<tr><th id="254">254</th><td>        <b>for</b> (<span class='typedef' title='CFIndex' data-type='long' data-ref="CFIndex" data-ref-filename="CFIndex">CFIndex</span> <dfn class="local col6 decl" id="396lineIndex" title='lineIndex' data-type='CFIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</dfn> = <var>0</var>; <a class="local col6 ref" href="#396lineIndex" title='lineIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</a> &lt; <a class="local col2 ref" href="#392lineCount" title='lineCount' data-ref="392lineCount" data-ref-filename="392lineCount">lineCount</a>; ++<a class="local col6 ref" href="#396lineIndex" title='lineIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</a>) {</td></tr>
<tr><th id="255">255</th><td>            <span class='typedef' title='CTLineRef' data-type='const struct __CTLine *' data-ref="CTLineRef" data-ref-filename="CTLineRef">CTLineRef</span> <dfn class="local col7 decl" id="397line" title='line' data-type='CTLineRef' data-ref="397line" data-ref-filename="397line">line</dfn> = (<span class='typedef' title='CTLineRef' data-type='const struct __CTLine *' data-ref="CTLineRef" data-ref-filename="CTLineRef">CTLineRef</span>)<span class='ref fn' title='CFArrayGetValueAtIndex' data-ref="CFArrayGetValueAtIndex" data-ref-filename="CFArrayGetValueAtIndex">CFArrayGetValueAtIndex</span>(<a class="local col1 ref" href="#391ctLines" title='ctLines' data-ref="391ctLines" data-ref-filename="391ctLines">ctLines</a>, <a class="local col6 ref" href="#396lineIndex" title='lineIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</a>);</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td>            <a class="local col4 ref" href="#394lineBounds" title='lineBounds' data-ref="394lineBounds" data-ref-filename="394lineBounds">lineBounds</a> <span class='ref fn' title='CGRect::operator=' data-ref="_ZN6CGRectaSEOS_" data-ref-filename="_ZN6CGRectaSEOS_">=</span> <span class='ref fn' title='CTLineGetBoundsWithOptions' data-ref="CTLineGetBoundsWithOptions" data-ref-filename="CTLineGetBoundsWithOptions">CTLineGetBoundsWithOptions</span>(<a class="local col7 ref" href="#397line" title='line' data-ref="397line" data-ref-filename="397line">line</a>, <var>0</var>);</td></tr>
<tr><th id="258">258</th><td>            <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col8 decl" id="398trailingWhitespaceWidth" title='trailingWhitespaceWidth' data-type='CGFloat' data-ref="398trailingWhitespaceWidth" data-ref-filename="398trailingWhitespaceWidth">trailingWhitespaceWidth</dfn> = <span class='ref fn' title='CTLineGetTrailingWhitespaceWidth' data-ref="CTLineGetTrailingWhitespaceWidth" data-ref-filename="CTLineGetTrailingWhitespaceWidth">CTLineGetTrailingWhitespaceWidth</span>(<a class="local col7 ref" href="#397line" title='line' data-ref="397line" data-ref-filename="397line">line</a>);</td></tr>
<tr><th id="259">259</th><td>            <span class='typedef' title='CGFloat' data-type='double' data-ref="CGFloat" data-ref-filename="CGFloat">CGFloat</span> <dfn class="local col9 decl" id="399lineWidthIgnoringTrailingWhitespace" title='lineWidthIgnoringTrailingWhitespace' data-type='CGFloat' data-ref="399lineWidthIgnoringTrailingWhitespace" data-ref-filename="399lineWidthIgnoringTrailingWhitespace">lineWidthIgnoringTrailingWhitespace</dfn> = <a class="local col4 ref" href="#394lineBounds" title='lineBounds' data-ref="394lineBounds" data-ref-filename="394lineBounds">lineBounds</a>.<span class='ref field' title='CGRect::size' data-ref="CGRect::size" data-ref-filename="CGRect..size">size</span>.<span class='ref field' title='CGSize::width' data-ref="CGSize::width" data-ref-filename="CGSize..width">width</span> - <a class="local col8 ref" href="#398trailingWhitespaceWidth" title='trailingWhitespaceWidth' data-ref="398trailingWhitespaceWidth" data-ref-filename="398trailingWhitespaceWidth">trailingWhitespaceWidth</a>;</td></tr>
<tr><th id="260">260</th><td>            <a class="local col4 ref" href="#374maximumUsedTextWidth" title='maximumUsedTextWidth' data-ref="374maximumUsedTextWidth" data-ref-filename="374maximumUsedTextWidth">maximumUsedTextWidth</a> = <span class="namespace">std::</span><span class='ref fn' title='std::__1::max' data-ref="_ZNSt3__1L3maxERKT_S2_" data-ref-filename="_ZNSt3__1L3maxERKT_S2_">max</span>(<a class="local col4 ref" href="#374maximumUsedTextWidth" title='maximumUsedTextWidth' data-ref="374maximumUsedTextWidth" data-ref-filename="374maximumUsedTextWidth">maximumUsedTextWidth</a>, <a class="local col9 ref" href="#399lineWidthIgnoringTrailingWhitespace" title='lineWidthIgnoringTrailingWhitespace' data-ref="399lineWidthIgnoringTrailingWhitespace" data-ref-filename="399lineWidthIgnoringTrailingWhitespace">lineWidthIgnoringTrailingWhitespace</a>);</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>            <b>if</b> (<a class="local col6 ref" href="#396lineIndex" title='lineIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</a>)</td></tr>
<tr><th id="263">263</th><td>                <a class="local col5 ref" href="#395height" title='height' data-ref="395height" data-ref-filename="395height">height</a> += <a class="local col3 ref" href="#393origins" title='origins' data-ref="393origins" data-ref-filename="393origins">origins</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6VectorixEm" title='WTF::Vector::operator[]' data-ref="_ZN3WTF6VectorixEm" data-ref-filename="_ZN3WTF6VectorixEm">[<a class="local col6 ref" href="#396lineIndex" title='lineIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</a> - <var>1</var>]</a>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span> - <a class="local col3 ref" href="#393origins" title='origins' data-ref="393origins" data-ref-filename="393origins">origins</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6VectorixEm" title='WTF::Vector::operator[]' data-ref="_ZN3WTF6VectorixEm" data-ref-filename="_ZN3WTF6VectorixEm">[<a class="local col6 ref" href="#396lineIndex" title='lineIndex' data-ref="396lineIndex" data-ref-filename="396lineIndex">lineIndex</a>]</a>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span>;</td></tr>
<tr><th id="264">264</th><td>        }</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>        <a class="type" href="#WebCore::LinkImageLayout" title='WebCore::LinkImageLayout' data-ref="WebCore::LinkImageLayout" data-ref-filename="WebCore..LinkImageLayout">LinkImageLayout</a>::<a class="type" href="#WebCore::LinkImageLayout::Label" title='WebCore::LinkImageLayout::Label' data-ref="WebCore::LinkImageLayout::Label" data-ref-filename="WebCore..LinkImageLayout..Label">Label</a> <a class="ref fn fake" href="#183" title='WebCore::LinkImageLayout::Label::Label' data-ref="_ZN7WebCore15LinkImageLayout5LabelC1Ev" data-ref-filename="_ZN7WebCore15LinkImageLayout5LabelC1Ev"></a><dfn class="local col0 decl" id="400label" title='label' data-type='LinkImageLayout::Label' data-ref="400label" data-ref-filename="400label">label</dfn>;</td></tr>
<tr><th id="267">267</th><td>        <a class="local col0 ref" href="#400label" title='label' data-ref="400label" data-ref-filename="400label">label</a>.<a class="ref field" href="#WebCore::LinkImageLayout::Label::frame" title='WebCore::LinkImageLayout::Label::frame' data-ref="WebCore::LinkImageLayout::Label::frame" data-ref-filename="WebCore..LinkImageLayout..Label..frame">frame</a> <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF9RetainPtraSERKNS_9RetainPtrIT_EE" title='WTF::RetainPtr::operator=' data-ref="_ZN3WTF9RetainPtraSERKNS_9RetainPtrIT_EE" data-ref-filename="_ZN3WTF9RetainPtraSERKNS_9RetainPtrIT_EE">=</a> <a class="local col0 ref" href="#390textFrame" title='textFrame' data-ref="390textFrame" data-ref-filename="390textFrame">textFrame</a>;</td></tr>
<tr><th id="268">268</th><td>        <a class="local col0 ref" href="#400label" title='label' data-ref="400label" data-ref-filename="400label">label</a>.<a class="ref field" href="#WebCore::LinkImageLayout::Label::origin" title='WebCore::LinkImageLayout::Label::origin' data-ref="WebCore::LinkImageLayout::Label::origin" data-ref-filename="WebCore..LinkImageLayout..Label..origin">origin</a> <a class="ref fn" href="../graphics/FloatPoint.h.html#61" title='WebCore::FloatPoint::operator=' data-ref="_ZN7WebCore10FloatPointaSEOS0_" data-ref-filename="_ZN7WebCore10FloatPointaSEOS0_">=</a> <a class="type" href="../graphics/FloatPoint.h.html#WebCore::FloatPoint" title='WebCore::FloatPoint' data-ref="WebCore::FloatPoint" data-ref-filename="WebCore..FloatPoint">FloatPoint</a><a class="ref fn" href="../graphics/FloatPoint.h.html#_ZN7WebCore10FloatPointC1Eff" title='WebCore::FloatPoint::FloatPoint' data-ref="_ZN7WebCore10FloatPointC1Eff" data-ref-filename="_ZN7WebCore10FloatPointC1Eff">(</a><a class="ref" href="#WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</a>, <a class="local col3 ref" href="#373currentY" title='currentY' data-ref="373currentY" data-ref-filename="373currentY">currentY</a> + <a class="local col3 ref" href="#393origins" title='origins' data-ref="393origins" data-ref-filename="393origins">origins</a><a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6VectorixEm" title='WTF::Vector::operator[]' data-ref="_ZN3WTF6VectorixEm" data-ref-filename="_ZN3WTF6VectorixEm">[<var>0</var>]</a>.<span class='ref field' title='CGPoint::y' data-ref="CGPoint::y" data-ref-filename="CGPoint..y">y</span>);</td></tr>
<tr><th id="269">269</th><td>        <a class="member field" href="#WebCore::LinkImageLayout::labels" title='WebCore::LinkImageLayout::labels' data-ref="WebCore::LinkImageLayout::labels" data-ref-filename="WebCore..LinkImageLayout..labels">labels</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Vector.h.html#_ZN3WTF6Vector6appendEOTL0__" title='WTF::Vector::append' data-ref="_ZN3WTF6Vector6appendEOTL0__" data-ref-filename="_ZN3WTF6Vector6appendEOTL0__">append</a>(<span class='refarg'><a class="local col0 ref" href="#400label" title='label' data-ref="400label" data-ref-filename="400label">label</a></span>);</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>        <a class="local col3 ref" href="#373currentY" title='currentY' data-ref="373currentY" data-ref-filename="373currentY">currentY</a> += <a class="local col5 ref" href="#395height" title='height' data-ref="395height" data-ref-filename="395height">height</a> + <a class="local col4 ref" href="#394lineBounds" title='lineBounds' data-ref="394lineBounds" data-ref-filename="394lineBounds">lineBounds</a>.<span class='ref field' title='CGRect::size' data-ref="CGRect::size" data-ref-filename="CGRect..size">size</span>.<span class='ref field' title='CGSize::height' data-ref="CGSize::height" data-ref-filename="CGSize..height">height</span>;</td></tr>
<tr><th id="272">272</th><td>    };</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td>    <b>if</b> (<a class="local col4 ref" href="#364title" title='title' data-ref="364title" data-ref-filename="364title">title</a>)</td></tr>
<tr><th id="275">275</th><td>        <a class="local col5 ref" href="#375buildLines" title='buildLines' data-ref="375buildLines" data-ref-filename="375buildLines">buildLines</a><a class="ref fn" href="#_ZZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringEENK3$_2clEP8NSStringP7NSColorP6NSFontl15CTLineBreakMode" title='WebCore::LinkImageLayout::LinkImageLayout(WTF::URL &amp;, const WTF::String &amp;)::(anonymous class)::operator()' data-ref="_ZZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringEENK3$_2clEP8NSStringP7NSColorP6NSFontl15CTLineBreakMode" data-ref-filename="_ZZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringEENK3$_2clEP8NSStringP7NSColorP6NSFontl15CTLineBreakMode">(<a class="local col4 ref" href="#364title" title='title' data-ref="364title" data-ref-filename="364title">title</a>, <a class="local col0 ref" href="#370titleColor" title='titleColor' data-ref="370titleColor" data-ref-filename="370titleColor">titleColor</a>, <a class="local col8 ref" href="#368titleFont" title='titleFont' data-ref="368titleFont" data-ref-filename="368titleFont">titleFont</a>, <a class="ref" href="#WebCore::linkImageTitleMaximumLineCount" title='WebCore::linkImageTitleMaximumLineCount' data-ref="WebCore::linkImageTitleMaximumLineCount" data-ref-filename="WebCore..linkImageTitleMaximumLineCount">linkImageTitleMaximumLineCount</a>, <span class='enum' title='kCTLineBreakByTruncatingTail' data-ref="kCTLineBreakByTruncatingTail" data-ref-filename="kCTLineBreakByTruncatingTail">kCTLineBreakByTruncatingTail</span>)</a>;</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td>    <b>if</b> (<a class="local col4 ref" href="#364title" title='title' data-ref="364title" data-ref-filename="364title">title</a> &amp;&amp; <a class="local col7 ref" href="#367domain" title='domain' data-ref="367domain" data-ref-filename="367domain">domain</a>)</td></tr>
<tr><th id="278">278</th><td>        <a class="local col3 ref" href="#373currentY" title='currentY' data-ref="373currentY" data-ref-filename="373currentY">currentY</a> += <a class="ref" href="#WebCore::linkImageDomainBaselineToTitleBaseline" title='WebCore::linkImageDomainBaselineToTitleBaseline' data-ref="WebCore::linkImageDomainBaselineToTitleBaseline" data-ref-filename="WebCore..linkImageDomainBaselineToTitleBaseline">linkImageDomainBaselineToTitleBaseline</a> - (<a class="local col9 ref" href="#369domainFont" title='domainFont' data-ref="369domainFont" data-ref-filename="369domainFont">domainFont</a>.ascender - <a class="local col9 ref" href="#369domainFont" title='domainFont' data-ref="369domainFont" data-ref-filename="369domainFont">domainFont</a>.descender);</td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td>    <b>if</b> (<a class="local col7 ref" href="#367domain" title='domain' data-ref="367domain" data-ref-filename="367domain">domain</a>)</td></tr>
<tr><th id="281">281</th><td>        <a class="local col5 ref" href="#375buildLines" title='buildLines' data-ref="375buildLines" data-ref-filename="375buildLines">buildLines</a><a class="ref fn" href="#_ZZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringEENK3$_2clEP8NSStringP7NSColorP6NSFontl15CTLineBreakMode" title='WebCore::LinkImageLayout::LinkImageLayout(WTF::URL &amp;, const WTF::String &amp;)::(anonymous class)::operator()' data-ref="_ZZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringEENK3$_2clEP8NSStringP7NSColorP6NSFontl15CTLineBreakMode" data-ref-filename="_ZZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringEENK3$_2clEP8NSStringP7NSColorP6NSFontl15CTLineBreakMode">(<a class="local col7 ref" href="#367domain" title='domain' data-ref="367domain" data-ref-filename="367domain">domain</a>, <a class="local col1 ref" href="#371domainColor" title='domainColor' data-ref="371domainColor" data-ref-filename="371domainColor">domainColor</a>, <a class="local col9 ref" href="#369domainFont" title='domainFont' data-ref="369domainFont" data-ref-filename="369domainFont">domainFont</a>, <var>1</var>, <span class='enum' title='kCTLineBreakByTruncatingMiddle' data-ref="kCTLineBreakByTruncatingMiddle" data-ref-filename="kCTLineBreakByTruncatingMiddle">kCTLineBreakByTruncatingMiddle</span>)</a>;</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td>    <a class="local col3 ref" href="#373currentY" title='currentY' data-ref="373currentY" data-ref-filename="373currentY">currentY</a> += <a class="ref" href="#WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</a>;</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>    <a class="member field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a> <a class="ref fn" href="../graphics/FloatRect.h.html#63" title='WebCore::FloatRect::operator=' data-ref="_ZN7WebCore9FloatRectaSEOS0_" data-ref-filename="_ZN7WebCore9FloatRectaSEOS0_">=</a> <a class="type" href="../graphics/FloatRect.h.html#WebCore::FloatRect" title='WebCore::FloatRect' data-ref="WebCore::FloatRect" data-ref-filename="WebCore..FloatRect">FloatRect</a><a class="ref fn" href="../graphics/FloatRect.h.html#_ZN7WebCore9FloatRectC1Effff" title='WebCore::FloatRect::FloatRect' data-ref="_ZN7WebCore9FloatRectC1Effff" data-ref-filename="_ZN7WebCore9FloatRectC1Effff">(</a><var>0</var>, <var>0</var>, <a class="local col4 ref" href="#374maximumUsedTextWidth" title='maximumUsedTextWidth' data-ref="374maximumUsedTextWidth" data-ref-filename="374maximumUsedTextWidth">maximumUsedTextWidth</a> + <a class="ref" href="#WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</a> * <var>2</var>, <a class="local col3 ref" href="#373currentY" title='currentY' data-ref="373currentY" data-ref-filename="373currentY">currentY</a>);</td></tr>
<tr><th id="286">286</th><td></td></tr>
<tr><th id="287">287</th><td>    <i>// To work around blurry drag images on 1x displays, make the width and height a multiple of 2.</i></td></tr>
<tr><th id="288">288</th><td><i>    // FIXME: remove this workaround when &lt;rdar://problem/33059739&gt; is fixed.</i></td></tr>
<tr><th id="289">289</th><td>    <a class="member field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>.<a class="ref fn" href="../graphics/FloatRect.h.html#_ZN7WebCore9FloatRect8setWidthEf" title='WebCore::FloatRect::setWidth' data-ref="_ZN7WebCore9FloatRect8setWidthEf" data-ref-filename="_ZN7WebCore9FloatRect8setWidthEf">setWidth</a>((<b>static_cast</b>&lt;<em>int</em>&gt;(<a class="member field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>.<a class="ref fn" href="../graphics/FloatRect.h.html#_ZNK7WebCore9FloatRect5widthEv" title='WebCore::FloatRect::width' data-ref="_ZNK7WebCore9FloatRect5widthEv" data-ref-filename="_ZNK7WebCore9FloatRect5widthEv">width</a>()) / <var>2</var>) * <var>2</var>);</td></tr>
<tr><th id="290">290</th><td>    <a class="member field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>.<a class="ref fn" href="../graphics/FloatRect.h.html#_ZN7WebCore9FloatRect9setHeightEf" title='WebCore::FloatRect::setHeight' data-ref="_ZN7WebCore9FloatRect9setHeightEf" data-ref-filename="_ZN7WebCore9FloatRect9setHeightEf">setHeight</a>((<b>static_cast</b>&lt;<em>int</em>&gt;(<a class="member field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>.<a class="ref fn" href="../graphics/FloatRect.h.html#_ZNK7WebCore9FloatRect6heightEv" title='WebCore::FloatRect::height' data-ref="_ZNK7WebCore9FloatRect6heightEv" data-ref-filename="_ZNK7WebCore9FloatRect6heightEv">height</a>() / <var>2</var>) * <var>2</var>));</td></tr>
<tr><th id="291">291</th><td>}</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><a class="typedef" href="../DragImage.h.html#WebCore::DragImageRef" title='WebCore::DragImageRef' data-type='RetainPtr&lt;NSImage&gt;' data-ref="WebCore::DragImageRef" data-ref-filename="WebCore..DragImageRef">DragImageRef</a> <dfn class="decl def fn" id="_ZN7WebCore22createDragImageForLinkERNS_7ElementERN3WTF3URLERKNS2_6StringERNS_17TextIndicatorDataENS_17FontRenderingModeEf" title='WebCore::createDragImageForLink' data-ref="_ZN7WebCore22createDragImageForLinkERNS_7ElementERN3WTF3URLERKNS2_6StringERNS_17TextIndicatorDataENS_17FontRenderingModeEf" data-ref-filename="_ZN7WebCore22createDragImageForLinkERNS_7ElementERN3WTF3URLERKNS2_6StringERNS_17TextIndicatorDataENS_17FontRenderingModeEf">createDragImageForLink</dfn>(<a class="type" href="../../dom/Element.h.html#WebCore::Element" title='WebCore::Element' data-ref="WebCore::Element" data-ref-filename="WebCore..Element">Element</a>&amp; <dfn class="local col1 decl" id="401element" title='element' data-type='WebCore::Element &amp;' data-ref="401element" data-ref-filename="401element">element</dfn>, <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/URL.h.html#WTF::URL" title='WTF::URL' data-ref="WTF::URL" data-ref-filename="WTF..URL">URL</a>&amp; <dfn class="local col2 decl" id="402url" title='url' data-type='WTF::URL &amp;' data-ref="402url" data-ref-filename="402url">url</dfn>, <em>const</em> <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/text/WTFString.h.html#WTF::String" title='WTF::String' data-ref="WTF::String" data-ref-filename="WTF..String">String</a>&amp; <dfn class="local col3 decl" id="403title" title='title' data-type='const WTF::String &amp;' data-ref="403title" data-ref-filename="403title">title</dfn>, <a class="type" href="../../page/TextIndicator.h.html#WebCore::TextIndicatorData" title='WebCore::TextIndicatorData' data-ref="WebCore::TextIndicatorData" data-ref-filename="WebCore..TextIndicatorData">TextIndicatorData</a>&amp;, <a class="type" href="../text/FontRenderingMode.h.html#WebCore::FontRenderingMode" title='WebCore::FontRenderingMode' data-ref="WebCore::FontRenderingMode" data-ref-filename="WebCore..FontRenderingMode">FontRenderingMode</a>, <em>float</em> <dfn class="local col4 decl" id="404deviceScaleFactor" title='deviceScaleFactor' data-type='float' data-ref="404deviceScaleFactor" data-ref-filename="404deviceScaleFactor">deviceScaleFactor</dfn>)</td></tr>
<tr><th id="294">294</th><td>{</td></tr>
<tr><th id="295">295</th><td>    <a class="type" href="#WebCore::LinkImageLayout" title='WebCore::LinkImageLayout' data-ref="WebCore::LinkImageLayout" data-ref-filename="WebCore..LinkImageLayout">LinkImageLayout</a> <dfn class="local col5 decl" id="405layout" title='layout' data-type='WebCore::LinkImageLayout' data-ref="405layout" data-ref-filename="405layout">layout</dfn><a class="ref fn" href="#_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE" title='WebCore::LinkImageLayout::LinkImageLayout' data-ref="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE" data-ref-filename="_ZN7WebCore15LinkImageLayoutC1ERN3WTF3URLERKNS1_6StringE">(</a><a class="local col2 ref" href="#402url" title='url' data-ref="402url" data-ref-filename="402url">url</a>, <a class="local col3 ref" href="#403title" title='title' data-ref="403title" data-ref-filename="403title">title</a>);</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td>    <a class="type" href="../mac/LocalDefaultSystemAppearance.h.html#WebCore::LocalDefaultSystemAppearance" title='WebCore::LocalDefaultSystemAppearance' data-ref="WebCore::LocalDefaultSystemAppearance" data-ref-filename="WebCore..LocalDefaultSystemAppearance">LocalDefaultSystemAppearance</a> <dfn class="local col6 decl" id="406localAppearance" title='localAppearance' data-type='WebCore::LocalDefaultSystemAppearance' data-ref="406localAppearance" data-ref-filename="406localAppearance">localAppearance</dfn><a class="ref fn" href="../mac/LocalDefaultSystemAppearance.h.html#_ZN7WebCore28LocalDefaultSystemAppearanceC1Eb" title='WebCore::LocalDefaultSystemAppearance::LocalDefaultSystemAppearance' data-ref="_ZN7WebCore28LocalDefaultSystemAppearanceC1Eb" data-ref-filename="_ZN7WebCore28LocalDefaultSystemAppearanceC1Eb">(</a><a class="local col1 ref" href="#401element" title='element' data-ref="401element" data-ref-filename="401element">element</a>.<a class="ref fn" href="../../dom/Node.h.html#_ZNK7WebCore4Node8documentEv" title='WebCore::Node::document' data-ref="_ZNK7WebCore4Node8documentEv" data-ref-filename="_ZNK7WebCore4Node8documentEv">document</a>().<a class="ref fn" href="../../dom/Document.h.html#_ZNK7WebCore8Document17useDarkAppearanceEPKNS_11RenderStyleE" title='WebCore::Document::useDarkAppearance' data-ref="_ZNK7WebCore8Document17useDarkAppearanceEPKNS_11RenderStyleE" data-ref-filename="_ZNK7WebCore8Document17useDarkAppearanceEPKNS_11RenderStyleE">useDarkAppearance</a>(<a class="local col1 ref" href="#401element" title='element' data-ref="401element" data-ref-filename="401element">element</a>.<a class="virtual ref fn" href="../../dom/Element.h.html#_ZN7WebCore7Element13computedStyleENS_8PseudoIdE" title='WebCore::Element::computedStyle' data-ref="_ZN7WebCore7Element13computedStyleENS_8PseudoIdE" data-ref-filename="_ZN7WebCore7Element13computedStyleENS_8PseudoIdE">computedStyle</a>()));</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>    <em>auto</em> <dfn class="local col7 decl" id="407imageSize" title='imageSize' data-type='WebCore::FloatSize' data-ref="407imageSize" data-ref-filename="407imageSize">imageSize</dfn> = <a class="local col5 ref" href="#405layout" title='layout' data-ref="405layout" data-ref-filename="405layout">layout</a>.<a class="ref field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>.<a class="ref fn" href="../graphics/FloatRect.h.html#_ZNK7WebCore9FloatRect4sizeEv" title='WebCore::FloatRect::size' data-ref="_ZNK7WebCore9FloatRect4sizeEv" data-ref-filename="_ZNK7WebCore9FloatRect4sizeEv">size</a>();</td></tr>
<tr><th id="300">300</th><td>    <a class="type" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/Forward.h.html#WTF::RetainPtr" title='WTF::RetainPtr' data-ref="WTF::RetainPtr" data-ref-filename="WTF..RetainPtr">RetainPtr</a>&lt;NSImage&gt; <dfn class="local col8 decl" id="408dragImage" title='dragImage' data-type='RetainPtr&lt;NSImage&gt;' data-ref="408dragImage" data-ref-filename="408dragImage">dragImage</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSImage alloc] initWithSize:<a class="ref fn fake" href="../graphics/FloatSize.h.html#_ZNK7WebCore9FloatSizecv6CGSizeEv" title='WebCore::FloatSize::operator CGSize' data-ref="_ZNK7WebCore9FloatSizecv6CGSizeEv" data-ref-filename="_ZNK7WebCore9FloatSizecv6CGSizeEv"></a><a class="local col7 ref" href="#407imageSize" title='imageSize' data-ref="407imageSize" data-ref-filename="407imageSize">imageSize</a>]);</td></tr>
<tr><th id="301">301</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col8 ref" href="#408dragImage" title='dragImage' data-ref="408dragImage" data-ref-filename="408dragImage">dragImage</a> _web_lockFocusWithDeviceScaleFactor:<a class="local col4 ref" href="#404deviceScaleFactor" title='deviceScaleFactor' data-ref="404deviceScaleFactor" data-ref-filename="404deviceScaleFactor">deviceScaleFactor</a>];</td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td>    <a class="type" href="../graphics/cg/GraphicsContextCG.h.html#WebCore::GraphicsContextCG" title='WebCore::GraphicsContextCG' data-ref="WebCore::GraphicsContextCG" data-ref-filename="WebCore..GraphicsContextCG">GraphicsContextCG</a> <dfn class="local col9 decl" id="409context" title='context' data-type='WebCore::GraphicsContextCG' data-ref="409context" data-ref-filename="409context">context</dfn><a class="ref fn" href="../graphics/cg/GraphicsContextCG.h.html#_ZN7WebCore17GraphicsContextCGC1EP9CGContext" title='WebCore::GraphicsContextCG::GraphicsContextCG' data-ref="_ZN7WebCore17GraphicsContextCGC1EP9CGContext" data-ref-filename="_ZN7WebCore17GraphicsContextCGC1EP9CGContext">(</a>[NSGraphicsContext currentContext].CGContext);</td></tr>
<tr><th id="304">304</th><td></td></tr>
<tr><th id="305">305</th><td>    <a class="local col9 ref" href="#409context" title='context' data-ref="409context" data-ref-filename="409context">context</a>.<a class="virtual ref fn" href="../graphics/GraphicsContext.h.html#_ZN7WebCore15GraphicsContext15fillRoundedRectERKNS_16FloatRoundedRectERKNS_5ColorENS_9BlendModeE" title='WebCore::GraphicsContext::fillRoundedRect' data-ref="_ZN7WebCore15GraphicsContext15fillRoundedRectERKNS_16FloatRoundedRectERKNS_5ColorENS_9BlendModeE" data-ref-filename="_ZN7WebCore15GraphicsContext15fillRoundedRectERKNS_16FloatRoundedRectERKNS_5ColorENS_9BlendModeE">fillRoundedRect</a>(<a class="type" href="../graphics/FloatRoundedRect.h.html#WebCore::FloatRoundedRect" title='WebCore::FloatRoundedRect' data-ref="WebCore::FloatRoundedRect" data-ref-filename="WebCore..FloatRoundedRect">FloatRoundedRect</a><a class="ref fn" href="../graphics/FloatRoundedRect.h.html#_ZN7WebCore16FloatRoundedRectC1ERKNS_9FloatRectERKNS0_5RadiiE" title='WebCore::FloatRoundedRect::FloatRoundedRect' data-ref="_ZN7WebCore16FloatRoundedRectC1ERKNS_9FloatRectERKNS0_5RadiiE" data-ref-filename="_ZN7WebCore16FloatRoundedRectC1ERKNS_9FloatRectERKNS0_5RadiiE">(</a><a class="local col5 ref" href="#405layout" title='layout' data-ref="405layout" data-ref-filename="405layout">layout</a>.<a class="ref field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>, <a class="type" href="../graphics/FloatRoundedRect.h.html#WebCore::FloatRoundedRect" title='WebCore::FloatRoundedRect' data-ref="WebCore::FloatRoundedRect" data-ref-filename="WebCore..FloatRoundedRect">FloatRoundedRect</a>::<a class="type" href="../graphics/FloatRoundedRect.h.html#WebCore::FloatRoundedRect::Radii" title='WebCore::FloatRoundedRect::Radii' data-ref="WebCore::FloatRoundedRect::Radii" data-ref-filename="WebCore..FloatRoundedRect..Radii">Radii</a><a class="ref fn" href="../graphics/FloatRoundedRect.h.html#_ZN7WebCore16FloatRoundedRect5RadiiC1Ef" title='WebCore::FloatRoundedRect::Radii::Radii' data-ref="_ZN7WebCore16FloatRoundedRect5RadiiC1Ef" data-ref-filename="_ZN7WebCore16FloatRoundedRect5RadiiC1Ef">(</a><a class="ref" href="#WebCore::linkImageCornerRadius" title='WebCore::linkImageCornerRadius' data-ref="WebCore::linkImageCornerRadius" data-ref-filename="WebCore..linkImageCornerRadius">linkImageCornerRadius</a>)), <a class="ref fn" href="../graphics/mac/ColorMac.h.html#_ZN7WebCore16colorFromNSColorEP7NSColor" title='WebCore::colorFromNSColor' data-ref="_ZN7WebCore16colorFromNSColorEP7NSColor" data-ref-filename="_ZN7WebCore16colorFromNSColorEP7NSColor">colorFromNSColor</a>([NSColor controlBackgroundColor]));</td></tr>
<tr><th id="306">306</th><td></td></tr>
<tr><th id="307">307</th><td>    <b>for</b> (<em>const</em> <em>auto</em>&amp; <dfn class="local col0 decl" id="410label" title='label' data-type='const WebCore::LinkImageLayout::Label &amp;' data-ref="410label" data-ref-filename="410label">label</dfn> : <a class="local col5 ref" href="#405layout" title='layout' data-ref="405layout" data-ref-filename="405layout">layout</a>.<a class="ref field" href="#WebCore::LinkImageLayout::labels" title='WebCore::LinkImageLayout::labels' data-ref="WebCore::LinkImageLayout::labels" data-ref-filename="WebCore..LinkImageLayout..labels">labels</a>) {</td></tr>
<tr><th id="308">308</th><td>        <a class="type" href="../graphics/GraphicsContext.h.html#WebCore::GraphicsContextStateSaver" title='WebCore::GraphicsContextStateSaver' data-ref="WebCore::GraphicsContextStateSaver" data-ref-filename="WebCore..GraphicsContextStateSaver">GraphicsContextStateSaver</a> <dfn class="local col1 decl" id="411saver" title='saver' data-type='WebCore::GraphicsContextStateSaver' data-ref="411saver" data-ref-filename="411saver">saver</dfn><a class="ref fn" href="../graphics/GraphicsContext.h.html#_ZN7WebCore25GraphicsContextStateSaverC1ERNS_15GraphicsContextEb" title='WebCore::GraphicsContextStateSaver::GraphicsContextStateSaver' data-ref="_ZN7WebCore25GraphicsContextStateSaverC1ERNS_15GraphicsContextEb" data-ref-filename="_ZN7WebCore25GraphicsContextStateSaverC1ERNS_15GraphicsContextEb">(</a><a class="local col9 ref" href="#409context" title='context' data-ref="409context" data-ref-filename="409context">context</a>);</td></tr>
<tr><th id="309">309</th><td>        <a class="local col9 ref" href="#409context" title='context' data-ref="409context" data-ref-filename="409context">context</a>.<a class="virtual ref fn" href="../graphics/cg/GraphicsContextCG.h.html#_ZN7WebCore17GraphicsContextCG9translateEff" title='WebCore::GraphicsContextCG::translate' data-ref="_ZN7WebCore17GraphicsContextCG9translateEff" data-ref-filename="_ZN7WebCore17GraphicsContextCG9translateEff">translate</a>(<a class="local col0 ref" href="#410label" title='label' data-ref="410label" data-ref-filename="410label">label</a>.<a class="ref field" href="#WebCore::LinkImageLayout::Label::origin" title='WebCore::LinkImageLayout::Label::origin' data-ref="WebCore::LinkImageLayout::Label::origin" data-ref-filename="WebCore..LinkImageLayout..Label..origin">origin</a>.<a class="ref fn" href="../graphics/FloatPoint.h.html#_ZNK7WebCore10FloatPoint1xEv" title='WebCore::FloatPoint::x' data-ref="_ZNK7WebCore10FloatPoint1xEv" data-ref-filename="_ZNK7WebCore10FloatPoint1xEv">x</a>(), <a class="local col5 ref" href="#405layout" title='layout' data-ref="405layout" data-ref-filename="405layout">layout</a>.<a class="ref field" href="#WebCore::LinkImageLayout::boundingRect" title='WebCore::LinkImageLayout::boundingRect' data-ref="WebCore::LinkImageLayout::boundingRect" data-ref-filename="WebCore..LinkImageLayout..boundingRect">boundingRect</a>.<a class="ref fn" href="../graphics/FloatRect.h.html#_ZNK7WebCore9FloatRect6heightEv" title='WebCore::FloatRect::height' data-ref="_ZNK7WebCore9FloatRect6heightEv" data-ref-filename="_ZNK7WebCore9FloatRect6heightEv">height</a>() - <a class="local col0 ref" href="#410label" title='label' data-ref="410label" data-ref-filename="410label">label</a>.<a class="ref field" href="#WebCore::LinkImageLayout::Label::origin" title='WebCore::LinkImageLayout::Label::origin' data-ref="WebCore::LinkImageLayout::Label::origin" data-ref-filename="WebCore..LinkImageLayout..Label..origin">origin</a>.<a class="ref fn" href="../graphics/FloatPoint.h.html#_ZNK7WebCore10FloatPoint1yEv" title='WebCore::FloatPoint::y' data-ref="_ZNK7WebCore10FloatPoint1yEv" data-ref-filename="_ZNK7WebCore10FloatPoint1yEv">y</a>() - <a class="ref" href="#WebCore::linkImagePadding" title='WebCore::linkImagePadding' data-ref="WebCore::linkImagePadding" data-ref-filename="WebCore..linkImagePadding">linkImagePadding</a>);</td></tr>
<tr><th id="310">310</th><td>        <span class='ref fn' title='CTFrameDraw' data-ref="CTFrameDraw" data-ref-filename="CTFrameDraw">CTFrameDraw</span>(<a class="local col0 ref" href="#410label" title='label' data-ref="410label" data-ref-filename="410label">label</a>.<a class="ref field" href="#WebCore::LinkImageLayout::Label::frame" title='WebCore::LinkImageLayout::Label::frame' data-ref="WebCore::LinkImageLayout::Label::frame" data-ref-filename="WebCore..LinkImageLayout..Label..frame">frame</a>.<a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtr3getEv" title='WTF::RetainPtr::get' data-ref="_ZNK3WTF9RetainPtr3getEv" data-ref-filename="_ZNK3WTF9RetainPtr3getEv">get</a>(), <a class="local col9 ref" href="#409context" title='context' data-ref="409context" data-ref-filename="409context">context</a>.<a class="virtual ref fn" href="../graphics/cg/GraphicsContextCG.h.html#_ZNK7WebCore17GraphicsContextCG15platformContextEv" title='WebCore::GraphicsContextCG::platformContext' data-ref="_ZNK7WebCore17GraphicsContextCG15platformContextEv" data-ref-filename="_ZNK7WebCore17GraphicsContextCG15platformContextEv">platformContext</a>());</td></tr>
<tr><th id="311">311</th><td>    }</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col8 ref" href="#408dragImage" title='dragImage' data-ref="408dragImage" data-ref-filename="408dragImage">dragImage</a> unlockFocus];</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>    <b>return</b> <a class="local col8 ref" href="#408dragImage" title='dragImage' data-ref="408dragImage" data-ref-filename="408dragImage">dragImage</a>;</td></tr>
<tr><th id="316">316</th><td>}</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td><a class="typedef" href="../DragImage.h.html#WebCore::DragImageRef" title='WebCore::DragImageRef' data-type='RetainPtr&lt;NSImage&gt;' data-ref="WebCore::DragImageRef" data-ref-filename="WebCore..DragImageRef">DragImageRef</a> <dfn class="decl def fn" id="_ZN7WebCore23createDragImageForColorERKNS_5ColorERKNS_9FloatRectEfRNS_4PathE" title='WebCore::createDragImageForColor' data-ref="_ZN7WebCore23createDragImageForColorERKNS_5ColorERKNS_9FloatRectEfRNS_4PathE" data-ref-filename="_ZN7WebCore23createDragImageForColorERKNS_5ColorERKNS_9FloatRectEfRNS_4PathE">createDragImageForColor</dfn>(<em>const</em> <a class="type" href="../graphics/Color.h.html#WebCore::Color" title='WebCore::Color' data-ref="WebCore::Color" data-ref-filename="WebCore..Color">Color</a>&amp; <dfn class="local col2 decl" id="412color" title='color' data-type='const WebCore::Color &amp;' data-ref="412color" data-ref-filename="412color">color</dfn>, <em>const</em> <a class="type" href="../graphics/FloatRect.h.html#WebCore::FloatRect" title='WebCore::FloatRect' data-ref="WebCore::FloatRect" data-ref-filename="WebCore..FloatRect">FloatRect</a>&amp;, <em>float</em>, <a class="type" href="../graphics/Path.h.html#WebCore::Path" title='WebCore::Path' data-ref="WebCore::Path" data-ref-filename="WebCore..Path">Path</a>&amp;)</td></tr>
<tr><th id="319">319</th><td>{</td></tr>
<tr><th id="320">320</th><td>    <em>auto</em> <dfn class="local col3 decl" id="413dragImage" title='dragImage' data-type='WTF::RetainPtr&lt;NSImage&gt;' data-ref="413dragImage" data-ref-filename="413dragImage">dragImage</dfn> = <a class="ref fn" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZN3WTF7adoptNSET_" title='WTF::adoptNS' data-ref="_ZN3WTF7adoptNSET_" data-ref-filename="_ZN3WTF7adoptNSET_">adoptNS</a>([[NSImage alloc] initWithSize:<span class='ref fn' title='NSMakeSize' data-ref="_ZL10NSMakeSizedd" data-ref-filename="_ZL10NSMakeSizedd">NSMakeSize</span>(<a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchWidth" title='WebCore::ColorSwatchWidth' data-ref="WebCore::ColorSwatchWidth" data-ref-filename="WebCore..ColorSwatchWidth">ColorSwatchWidth</a>, <a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchWidth" title='WebCore::ColorSwatchWidth' data-ref="WebCore::ColorSwatchWidth" data-ref-filename="WebCore..ColorSwatchWidth">ColorSwatchWidth</a>)]);</td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col3 ref" href="#413dragImage" title='dragImage' data-ref="413dragImage" data-ref-filename="413dragImage">dragImage</a> lockFocus];</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>    NSBezierPath *<dfn class="local col4 decl" id="414path" title='path' data-type='NSBezierPath *' data-ref="414path" data-ref-filename="414path">path</dfn> = [NSBezierPath bezierPathWithRoundedRect:<span class='ref fn' title='NSMakeRect' data-ref="_ZL10NSMakeRectdddd" data-ref-filename="_ZL10NSMakeRectdddd">NSMakeRect</span>(<var>0</var>, <var>0</var>, <a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchWidth" title='WebCore::ColorSwatchWidth' data-ref="WebCore::ColorSwatchWidth" data-ref-filename="WebCore..ColorSwatchWidth">ColorSwatchWidth</a>, <a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchWidth" title='WebCore::ColorSwatchWidth' data-ref="WebCore::ColorSwatchWidth" data-ref-filename="WebCore..ColorSwatchWidth">ColorSwatchWidth</a>) xRadius:<a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchCornerRadius" title='WebCore::ColorSwatchCornerRadius' data-ref="WebCore::ColorSwatchCornerRadius" data-ref-filename="WebCore..ColorSwatchCornerRadius">ColorSwatchCornerRadius</a> yRadius:<a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchCornerRadius" title='WebCore::ColorSwatchCornerRadius' data-ref="WebCore::ColorSwatchCornerRadius" data-ref-filename="WebCore..ColorSwatchCornerRadius">ColorSwatchCornerRadius</a>];</td></tr>
<tr><th id="325">325</th><td>    [<a class="local col4 ref" href="#414path" title='path' data-ref="414path" data-ref-filename="414path">path</a> setLineWidth:<a class="ref" href="../DragImage.h.html#WebCore::ColorSwatchStrokeSize" title='WebCore::ColorSwatchStrokeSize' data-ref="WebCore::ColorSwatchStrokeSize" data-ref-filename="WebCore..ColorSwatchStrokeSize">ColorSwatchStrokeSize</a>];</td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td>    [<a class="ref fn" href="../graphics/mac/ColorMac.h.html#_ZN7WebCore7nsColorERKNS_5ColorE" title='WebCore::nsColor' data-ref="_ZN7WebCore7nsColorERKNS_5ColorE" data-ref-filename="_ZN7WebCore7nsColorERKNS_5ColorE">nsColor</a>(<a class="local col2 ref" href="#412color" title='color' data-ref="412color" data-ref-filename="412color">color</a>) setFill];</td></tr>
<tr><th id="328">328</th><td>    [<a class="local col4 ref" href="#414path" title='path' data-ref="414path" data-ref-filename="414path">path</a> fill];</td></tr>
<tr><th id="329">329</th><td></td></tr>
<tr><th id="330">330</th><td>    [[NSColor quaternaryLabelColor] setStroke];</td></tr>
<tr><th id="331">331</th><td>    [<a class="local col4 ref" href="#414path" title='path' data-ref="414path" data-ref-filename="414path">path</a> stroke];</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td>    [<a class="ref fn fake" href="../../../../WebKitBuild/Debug/usr/local/include/wtf/RetainPtr.h.html#_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" title='WTF::RetainPtr::operator typename remove_pointer&lt;type-parameter-0-0&gt;::type *' data-ref="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv" data-ref-filename="_ZNK3WTF9RetainPtrcvPNSt3__114remove_pointerIT_E4typeEEv"></a><a class="local col3 ref" href="#413dragImage" title='dragImage' data-ref="413dragImage" data-ref-filename="413dragImage">dragImage</a> unlockFocus];</td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td>    <b>return</b> <a class="local col3 ref" href="#413dragImage" title='dragImage' data-ref="413dragImage" data-ref-filename="413dragImage">dragImage</a>;</td></tr>
<tr><th id="336">336</th><td>}</td></tr>
<tr><th id="337">337</th><td></td></tr>
<tr><th id="338">338</th><td>} <i>// namespace WebCore</i></td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td><u>#<span data-ppcond="29">endif</span> // ENABLE(DRAG_SUPPORT) &amp;&amp; PLATFORM(MAC)</u></td></tr>
<tr><th id="341">341</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../../WebKitBuild/Debug/DerivedSources/WebCore/unified-sources/UnifiedSource19-mm.mm.html'>webkit/WebKitBuild/Debug/DerivedSources/WebCore/unified-sources/UnifiedSource19-mm.mm</a><br/>Generated on <em>2021-Jul-06</em> from project webkit<br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
